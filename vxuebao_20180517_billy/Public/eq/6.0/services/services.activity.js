angular.module("services.activity",[]).factory("activityService",["$rootScope","$http",function(t,e){var i={};return i.getActiveList=function(i,a,c,n){var r=PREFIX_S2_URL+"index.php?c=eqs&a=activity_info";return i&&(r+=/\?/.test(r)?"&":"?",r+="joinNum="+i),a&&(r+=/\?/.test(r)?"&":"?",r+="recommend="+a),c&&(r+=/\?/.test(r)?"&":"?",r+="pageNo="+c),n&&(r+=/\?/.test(r)?"&":"?",r+="pageSize="+n),e({withCredentials:!0,method:"GET",url:r}).then(function(e){if(e.data.success){var i=e;t.$broadcast("activeList",i)}})},i.activitySceneList=function(t,i,a,c){var n=PREFIX_S2_URL+"/eqs/activity/scene?promId="+t;return i&&(n+=/\?/.test(n)?"&":"?",n+="recommend="+i),a&&(n+=/\?/.test(n)?"&":"?",n+="pageNo="+a),c&&(n+=/\?/.test(n)?"&":"?",n+="pageSize="+c),e({withCredentials:!0,method:"GET",url:n})},i.activityMes=function(i){var a=PREFIX_S2_URL+"/eqs/activity/info?id="+i;return e({withCredentials:!0,method:"GET",url:a}).then(function(e){if(e.data.success){var i=e;t.$broadcast("activeMes",i)}})},i}]);