angular.module("services.usercenter",[]).factory("usercenterService",["$http","$rootScope",function(e,t){var r={};return r.getUserInfo=function(){var t=PREFIX_URL+"index.php?c=user&a=check";return t+="&time="+(new Date).getTime(),e({withCredentials:!0,method:"GET",url:t})},r.getCompanyScale=function(){var t=PREFIX_URL+"/base/class/company_scale";return t+="?time="+(new Date).getTime(),e({withCredentials:!0,method:"GET",url:t})},r.getCompanyIndustry=function(){var t=PREFIX_URL+"/base/class/company_industry";return t+="?time="+(new Date).getTime(),e({withCredentials:!0,method:"GET",url:t})},r.getCompanyInfo=function(){var t=PREFIX_URL+"index.php?c=company&a=info";return t+="&time="+(new Date).getTime(),e({withCredentials:!0,method:"GET",url:t})},r.getDesignerUserInfo=function(t){var r=PREFIX_URL+"index.php?c=designer&a=userinfo";return r+="&time="+(new Date).getTime(),e({withCredentials:!0,method:"GET",url:r})},r.getProvince=function(){var t=PREFIX_URL+"index.php?c=Designer&a=getpro";return t+="&time="+(new Date).getTime(),e({withCredentials:!0,method:"GET",url:t})},r.saveCompanyInfo=function(t){var r=PREFIX_URL+"index.php?c=company&a=save";return e({withCredentials:!0,method:"POST",url:r,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:$.param(t)})},r.saveDesignerInfo=function(t){var r=PREFIX_URL+"index.php?c=designer&a=save";return e({withCredentials:!0,method:"POST",url:r,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:$.param(t)})},r.saveUserInfo=function(t){var r=PREFIX_URL+"index.php?c=user&a=save";return e({withCredentials:!0,method:"POST",url:r,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:$.param(t)})},r.getUserXd=function(){var t=PREFIX_URL+"index.php?c=user&a=xd";return t+="&time="+(new Date).getTime(),e({withCredentials:!0,method:"GET",url:t})},r.getgiveXd=function(t){var r=PREFIX_URL+"index.php?c=user&a=giveXd";return r+="&toUser="+t.toUser,r+="&xdCount="+t.xdCount,r+="&time="+(new Date).getTime(),e({withCredentials:!0,method:"POST",url:r})},r.getUserInvoice=function(){var t=PREFIX_URL+"m/order/user/invoice";return t+="?time="+(new Date).getTime(),e({withCredentials:!0,method:"GET",url:t})},r.saveUserInvoice=function(t){var r=PREFIX_URL+"m/order/user/save/invoice";return r+="?time="+(new Date).getTime(),e({withCredentials:!0,method:"POST",url:r,headers:{"Content-Type":"text/plain; charset=UTF-8"},data:JSON.stringify(t)})},r.saveOrderInvoice=function(t){var r=PREFIX_URL+"m/order/invoice/save";return r+="?time="+(new Date).getTime(),e({withCredentials:!0,method:"POST",url:r,data:$.param(t),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})},r.getXdlog=function(t,r,n){var a=PREFIX_URL+"index.php?c=user&a=xdlog&pageNo="+r+"&pageSize="+n;return a+="&time="+(new Date).getTime(),t&&(a+=(/\?/.test(a)?"&":"?")+"type="+t),a+=(/\?/.test(a)?"&":"?")+"pageNo="+r,a+=(/\?/.test(a)?"&":"?")+"pageSize="+n,e({withCredentials:!0,method:"POST",url:a})},r.getXdStat=function(){var t=PREFIX_URL+"index.php?c=user&a=XdStat";return t+="&time="+(new Date).getTime(),e({withCredentials:!0,method:"GET",url:t})},r.relAccount=function(t,r,n,a){var i=PREFIX_URL+"m/u/bind/email?loginName="+r+"&loginPassword="+n;return a&&(i+="&register=1"),i+="&time="+(new Date).getTime(),e({withCredentials:!0,method:"POST",url:i,headers:{"Content-Type":"text/plain; charset=UTF-8"}})},r.relEmail=function(t,r,n){var a={email:t,pass:r,resend:n},i=PREFIX_URL+"index.php?c=user&a=email";return e({withCredentials:!0,method:"POST",url:i,data:$.param(a),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})},r.verifyEmail=function(){var t=PREFIX_URL+"index.php?c=usercenter&a=verify";return e({withCredentials:!0,method:"GET",url:t,headers:{"Content-Type":"text/plain; charset=UTF-8"}})},r.relMobile=function(t,r,n){var a=PREFIX_URL+"/m/u/phone/verify?phone="+t+"&pass="+r+"&code="+n;return a+="&time="+(new Date).getTime(),e({withCredentials:!0,method:"POST",url:a,headers:{"Content-Type":"text/plain; charset=UTF-8"}})},r.relMobileCode=function(t,r){var n=PREFIX_URL+"m/u/bind/user/phone?phone="+t;return r&&(n+="&type="+r),n+="&time="+(new Date).getTime(),e({withCredentials:!0,method:"POST",url:n,headers:{"Content-Type":"text/plain; charset=UTF-8"}})},r.companyMobile=function(t){var r=PREFIX_URL+"m/u/company/smscode/send?phone="+t;return r+="&time="+(new Date).getTime(),e({withCredentials:!0,method:"POST",url:r,headers:{"Content-Type":"text/plain; charset=UTF-8"}})},r.setRead=function(t){var r=PREFIX_URL+"m/u/markRead?ids="+t;return r+="&time="+(new Date).getTime(),e({withCredentials:!0,method:"POST",url:r,headers:{"Content-Type":"text/plain; charset=UTF-8"}})},r.getNewMessage=function(t){var r=PREFIX_URL+"index.php?c=statics&a=msgList";return t.pageNo&&(r+="&pageNo="+t.pageNo),t.pageSize&&(r+="&pageSize="+t.pageSize),t.unread&&(r+="&unread="+t.unread),t.type&&(r+="&type="+t.type),r+="&time="+(new Date).getTime(),e({withCredentials:!0,method:"GET",url:r})},r.getBranches=function(t,r){var n=PREFIX_URL+"index.php?c=company&a=subList";return t&&(/\?/.test(n),n+="&pageSize="+t),r&&(/\?/.test(n),n+="&pageNo="+r),/\?/.test(n),n+="&time="+(new Date).getTime(),e({withCredentials:!0,method:"GET",url:n})},r.getDepts=function(t){var r=PREFIX_URL+"index.php?c=Company&a=taglist&user_id="+t;return r+="&time="+(new Date).getTime(),e({withCredentials:!0,method:"GET",url:r})},r.addDept=function(t){var r=PREFIX_URL+"index.php?c=Company&a=tagcreate";return e({withCredentials:!0,method:"POST",url:r,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:$.param(t)})},r.updateBranch=function(t){var r=PREFIX_URL+"index.php?c=Company&a=subsave";return e({withCredentials:!0,method:"POST",url:r,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:$.param(t)})},r.createBranch=function(t){var r=PREFIX_URL+"index.php?c=Company&a=subcreate";return e({withCredentials:!0,method:"POST",url:r,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:$.param(t)})},r.openBranch=function(t,r){var n=PREFIX_URL;return n+=r?"index.php?c=Company&a=subturnon&id="+t:"index.php?c=Company&a=subturnoff&id="+t,e({withCredentials:!0,method:"POST",url:n,headers:{"Content-Type":"text/plain; charset=UTF-8"}})},r.getDomain=function(){var t=PREFIX_URL+"m/u/domain";return t+="?time="+(new Date).getTime(),e({withCredentials:!0,method:"GET",url:t})},r.bindDomain=function(t){var r=PREFIX_URL+"m/u/domain/bind";return e({withCredentials:!0,method:"POST",url:r,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:$.param(t)})},r.resetBranchPass=function(r){var n=PREFIX_URL+"index.php?c=Company&a=resetpwd",a={id:r};e({withCredentials:!0,method:"POST",url:n,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:$.param(a)}).then(function(e){e.data.success&&t.$broadcast("reset.branch.success")},function(){})},r.saveApplyInfo=function(t){var r=PREFIX_URL+"m/u/showker/apply";return e({withCredentials:!0,method:"POST",url:r,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:$.param(t)})},r.resetApplyInfo=function(t){var r=PREFIX_URL+"m/u/showker/apply";return e({withCredentials:!0,method:"POST",url:r,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:$.param(t)})},r.getVisitorMsg=function(){var t=PREFIX_URL+"m/u/showker/detail",r=new Date;return t+="?time="+r.getTime(),e({withCredentials:!0,method:"GET",url:t})},r.getAPPlyMessage=function(t){var r=PREFIX_S2_URL+"showker/tag?type="+t;return e({withCredentials:!0,method:"GET",url:r})},r.getUserScene=function(){var t=PREFIX_URL+"m/u/scene/list",r=new Date;return t+="?time="+r.getTime(),e({withCredentials:!0,method:"GET",url:t})},r.getUserStatus=function(){var t=PREFIX_URL+"m/u/showker/status";return e({withCredentials:!0,method:"GET",url:t})},r.getCompanyQrCode=function(t,r,n){var a=PREFIX_URL+"m/u/pay/member/url?goodsId="+t+"&type="+r;return n&&(a+="&amount="+n),e({withCredentials:!0,method:"GET",url:a})},r.getUserMemberDetail=function(t){var r=PREFIX_URL+"/m/u/member/detail?userId="+t;return e({withCredentials:!0,method:"GET",url:r})},r.getPayXdQrCode=function(t,r){var n=PREFIX_URL+"m/u/pay/xd/url?goodsId="+t+"&type="+r;return e({withCredentials:!0,method:"GET",url:n})},r.sendEmail=function(t){var r=PREFIX_URL+"m/u/invite/user/email";return e({withCredentials:!0,method:"POST",url:r,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:$.param(t)})},r.getInvoiceList=function(r,n){var a=PREFIX_URL+"m/order/can/invoice/list";n&&(a+=(/\?/.test(a)?"&":"?")+"pageSize="+n),r&&(a+=(/\?/.test(a)?"&":"?")+"pageNo="+r),e({withCredentials:!0,method:"GET",url:a}).then(function(e){e.data.success&&t.$broadcast("get.invoice.list",e.data)})},r}]);