angular.module("scene.create.console.scene-setting-component",["services.pagetpl"]).service("memberHandler",["usercenterService","security","eqADTypeChoice",function(e,r,t){function i(e,r){return/^\d+$/.test(r)?0:e*parseFloat(r)}var n={},c=null;return n.isVipUser="1"!=r.currentUser.type,n.initUserMemberDetail=function(){e.getUserMemberDetail(r.currentUser.id).then(function(e){c=e.data.obj})},n.getCurrentSelectionPrice=function(e,r,i,c){var s=n.getPriceByADType(e.property.eqAdType);s=n.isVipUser&&e.property.eqAdType!=t.HIDE?0:n.getPriceWithMemberPrivilege(s);var o=s-r;return i&&0!==o?o=s:0>o&&(o=0),!c&&e.loadingLogo&&(o+=n.getPriceWithMemberPrivilege(loadingLogo_qi_xd,!0)),o},n.getPriceWithMemberPrivilege=function(e,t){return 2===r.currentUser.type&&r.currentUser.memberType&&(new Date).getTime()<r.currentUser.expiryTime||21===r.currentUser.type?t?i(e,c.loadingLogo||"1.0"):i(e,c.tailPage||"1.0"):e},n.getPriceByADType=function(e){switch(e){case t.HIDE:return QI_AD_XDS;case t.FREEPAGE:return 0;case t.DEFAULT_BOTTOM:return 15;case t.CUSTOM_BOTTOM:return 30}},n}]).service("sceneSettingCache",["sceneService","pageTplService",function(e,r){return{sceneTplPricesPromise:e.getSceneTemplatePrices(),sceneTagsPromise:r.getTagSysListWithType(),pageTplsPromise:r.getPageTpls(1301),bottomPageTplsPromise:r.getPageTpls(1311)}}]);