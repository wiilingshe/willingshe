angular.module("search",["services.show","services.activity","app.directives.addBanner"]),angular.module("search").controller("SearchCtrl",["$rootScope","$http","$scope","$translate","showService","activityService","$location","$stateParams",function(a,e,t,s,n,i,o,r){var c={name:"",pageNo:1,pageSize:16};t.name=r.name,t.pageNo=1,t.pageSize=16,t.val=t.name,c.name=t.name,t.EnterPress=function(a,e){var s=a||window.event;13==s.keyCode&&t.submit(e)},t.submit=function(a){t.name=a,a?o.path("show/search/"+t.name):o.path("show")};var h=function(a){n.search(a),t.$on("searchList",function(a,e){t.searchList=e.list,t.totalItems=e.map.total,t.currentPage=e.map.pageNo,t.toPage=e.map.pageNo;for(var s=0;s<t.searchList.length;s++)t.searchList[s].headImg&&0===t.searchList[s].headImg.indexOf("http://")?t.searchList[s].headImg=CLIENT_CDN+"assets/images/xiaotouxiang.png":t.searchList[s].headImg=CLIENT_CDN+"assets/images/xiaotouxiang.png"})};h(c),t.pageChanged=function(a){return 1>a||a>t.totalItems/16+1?void alert(s.instant("show.OVER_PAGE_NUMBER")):(c.pageNo=a,void h(c))}}]);