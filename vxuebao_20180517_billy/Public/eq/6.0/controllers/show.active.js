angular.module("active1",["services.show","services.activity","app.directives.addBanner"]),angular.module("active1").controller("Active1Ctrl",["$rootScope","$http","$scope","$translate","showService","activityService","$location","configSerService",function(t,e,a,i,n,o,c,r){a.pageNo=1,a.pageSize=10,a.childCat="active",a.join=function(t){c.path("/show/active/"+t)},a.attend=function(){t.user?c.path("/main"):a.openLogin()};var s=function(t){o.getActiveList(1,null,t,a.pageSize),a.$on("activeList",function(t,e){a.activeList=e.data.list;for(var i=Date.parse(new Date),n=0;n<a.activeList.length;n++)a.activeList[n].endDate>i?a.activeList[n].join=!0:a.activeList[n].join=!1;a.totalItems=e.data.map.count,a.currentPage=e.data.map.pageNo,a.allPageCount=e.data.map.count,a.toPage=e.data.map.pageNo})};s(a.pageNo),a.pageChanged=function(t){return 1>t||t>a.totalItems/10+1?void alert(i.instant("show.OVER_PAGE_NUMBER")):void s(t)},a.pageCode="active",r.getFriendLinks(a.pageCode).then(function(t){a.friendLinks=t.data.list,a.friendLinks.length>16&&(a.friendLinks.length=16)})}]);