angular.module("recommend",["services.show"]),angular.module("recommend").controller("RecommendCtrl",["$rootScope","$http","$scope","$translate","showService","security","$location",function(e,o,t,a,n,m,i){t.PREFIX_FILE_HOST=PREFIX_FILE_HOST,t.PREFIX_CLIENT_HOST=PREFIX_HOST,t.PREFIX_SERVER_HOST=PREFIX_URL,t.pageNo=1,t.pageSize=16,t.childCat="recommend",t.order=null;var s=function(e){n.getSceneList(t.order,1,null,e,t.pageSize),t.$on("sceneList",function(e,o){console.log(o),t.recommendList=o.list,t.totalItems=o.map.total,t.currentPage=o.map.pageNo,t.allPageCount=o.map.total,t.toPage=o.map.pageNo;for(var a=0;a<t.recommendList.length;a++)2==t.recommendList[a].isTemplate&&(t.recommendList[a].isTemplate=!0),t.recommendList[a].headImg&&0===t.recommendList[a].headImg.indexOf("http://")?t.recommendList[a].headImg=CLIENT_CDN+"assets/images/xiaotouxiang.png":t.recommendList[a].headImg=CLIENT_CDN+"assets/images/xiaotouxiang.png"})};s(t.pageNo),t.tplNew=function(e){t.order=e,s(e,1,null,t.pageNo,t.pageSize)},t.userTpl=function(o){m.closeLoginDialog(),i.path("/scene"),e.tplId=o},t.pageChanged=function(e){return 1>e||e>t.totalItems/16+1?void alert(a.instant("show.OVER_PAGE_NUMBER")):void s(e)}}]);