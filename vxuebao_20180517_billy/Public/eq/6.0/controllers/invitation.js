angular.module("invitation",["app.directives.copyButton"]),angular.module("invitation").controller("InvitationCtrl",["security","$scope","usercenterService","$translate","$timeout","ModalService","i18nNotifications",function(e,i,r,t,n,a,o){i.tabid="email",i.showUrl=PREFIX_HOST+"/#/home/register?u="+e.currentUser.id,i.url="我做的企业秀，用的是微学宝，免费好用，你试试吧：\r\n"+PREFIX_HOST+"/#/home/register?u="+e.currentUser.id,i.sendEmail=function(e){!i.emailFormatErr&&e&&r.sendEmail({email:e}).then(function(e){e.data.success?o.pushForCurrentRoute("invitation.sendemail.success","notify.success"):o.pushForCurrentRoute("invitation.sendemail.error","notify.warning")})},i.checkEmailFormat=function(e){var r=/^([a-zA-Z0-9]+[_|\_|\.|-]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[\.|-]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;r.test(e)?i.emailFormatErr="":i.emailFormatErr="邮件格式不正确"}}]);