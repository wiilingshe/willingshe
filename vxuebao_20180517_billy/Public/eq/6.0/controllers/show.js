angular.module("show",["services.show","services.activity","app.directives.addBanner"]),angular.module("show").controller("ShowCtrl",["$rootScope","$http","$scope","showService","activityService","$location","configSerService","security",function(e,i,n,t,s,a,o,c){n.PREFIX_FILE_HOST=PREFIX_FILE_HOST,n.PREFIX_CLIENT_HOST=PREFIX_HOST,n.PREFIX_SERVER_HOST=PREFIX_URL,n.pageNo=1,n.pageSize=16,n.recommend=1,n.childCat="index",s.getActiveList(null,n.recommend,n.pageNo,3),n.$on("activeList",function(e,i){n.activeList=i.data.list}),n.join=function(e){a.path("/show/active/"+e)},t.getSceneList(null,n.recommend,null,n.pageNo,n.pageSize),n.$on("sceneList",function(e,i){n.sceneList=i.list;for(var t=0;t<n.sceneList.length;t++)2===n.sceneList[t].isTemplate&&(n.sceneList[t].isTemplate=!0),n.sceneList[t].headImg&&0===n.sceneList[t].headImg.indexOf("http://")?n.sceneList[t].headImg=CLIENT_CDN+"assets/images/xiaotouxiang.png":n.sceneList[t].headImg=CLIENT_CDN+"assets/images/xiaotouxiang.png"}),n.userTpl=function(i){c.closeLoginDialog(),a.path("/scene"),e.tplId=i},n.pageCode="index",o.getFriendLinks(n.pageCode).then(function(e){n.friendLinks=e.data.list,n.friendLinks.length>16&&(n.friendLinks.length=16)})}]);