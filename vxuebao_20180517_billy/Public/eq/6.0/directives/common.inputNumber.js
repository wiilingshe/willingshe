angular.module("common.directives.inputNumber",[]).directive("eqdInputNumber",function(){function e(e,a,c,m){a.on("$destroy",function(){a.unbind("mousedown")});var d="string"==typeof c.min?c.min:-Number.MAX_VALUE,f="string"==typeof c.max?c.max:Number.MAX_VALUE,l="string"==typeof c.unit?c.unit:"px",x="string"==typeof c.step?c.step:"1",$=0;x.indexOf(".")>-1&&($=x.split(".")[1].length),"px"==l?(m.$parsers.push(n),m.$formatters.push(t)):"deg"==l?(l="",m.$parsers.push(r),m.$formatters.push(u)):"%"==l?(m.$parsers.push(o),m.$formatters.push(s)):m.$parsers.push(i),a.mousedown(function(n){var t,r=parseFloat(a.val())||0,u=n.pageX;p.mousemove(function(n){n.preventDefault(),t=n.pageX-u;var o=+(r+t*x).toFixed($);o>=d&&f>=o?o+=l:d>o?o=d+l:o>f&&(o=f+l),m.$viewValue!=o&&(m.$setViewValue(o),m.$render(),e.$apply())}),p.mouseup(function(){p.unbind("mousemove mouseup")})}).keydown(function(e){var n=e.keyCode;return!!(n>=48&&57>=n||n>=96&&105>=n||36==n||35==n||37==n||39==n||8==n||46==n)})}function n(e){return e=/-?\d+/.exec(e),e?parseFloat(e)+"px":"0"}function t(e){return/-?\d+/.exec(e)+"px"}function r(e){return e=/\d+/.exec(e),e?"rotateZ("+parseFloat(e)+"deg)":"rotateZ(0)"}function u(e){return/\d+/.exec(e)}function o(e){return e=/\d+/.exec(e),e?e/100+"":"0"}function s(e){return 100*e+"%"}function i(e){return""===e&&(e="0"),parseFloat(e)+""}var p=$(document);return{restrict:"E",require:"ngModel",template:'<input class="eqc-input-number"/>',replace:!0,link:e}});