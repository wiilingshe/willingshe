angular.module("common.directives.scroll",[]).directive("eqdScroll",function(){var e={mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0,click:!0,bounce:!1};return function(o,l,n){l.css({position:"relative","overflow-y":"hidden"}),delete e.disableMouse,delete e.preventDefaultException,n.preventException&&(e.preventDefaultException={tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|DIV|SPAN|EM|A|LI|B)$/}),"true"==n.disableMouse&&(e.disableMouse=!0);var r,t=new IScroll(l.get(0),e),c=o.$watch(function(){clearTimeout(r),r=setTimeout(function(){t.refresh()},100)});n.refresh&&(t.on("scrollStart",function(){l.children().on("mousewheel",function(e){t.y<=t.maxScrollY+200&&o.$eval(n.refresh)})}),t.on("scrollEnd",function(){l.children().unbind("mousewheel")})),l.on("$destroy",function(){t.destroy(),t=null,c(),clearTimeout(r)}),o.$on("scroll.refresh."+n.scroll,function(){r=setTimeout(function(){t.refresh()},100)}),o.$on("scroll.scrollTo",function(e,o,l){t.scrollTo(o,l)})}});