angular.module("common.directives.dropDown").directive("eqdSelect",["$rootScope",function(e){function t(t,i){function l(){o.unbind("click",l),r.removeClass("visible")}function n(e){index=e.index(),t.current=t.list[index],r.removeClass("visible")}var o=(tabletCheck(),$(document)),r=i.find(".eqc-drop-down-list"),c=r.find(".iScrollIndicator");i.on("$destroy",function(){o.unbind("click",l)}),t.showList=function(i){return i.stopPropagation(),r.hasClass("visible")?void l():(e.$broadcast("iscroll.refresh."+t.scrollType),$(".eqc-drop-down-list").removeClass("visible"),r.addClass("visible"),o.click(l),void c.click(function(e){e.stopPropagation()}))},t.selectItem=function(e){e.stopPropagation();var t=e.target,i=t.tagName.toLowerCase(),l=$(t);"li"==i?n(l):"div"==i&&(l=l.closest("li"),n(l))}}return{restrict:"E",replace:!0,templateUrl:"/Public/eq/6.0/templates/select.tpl.html",scope:{list:"=",current:"=",scrollType:"@",fontFamily:"=",isBorder:"@",x:"@"},link:t}}]).directive("eqxSelect",["$compile",function(e){var t='<eqd-select list="list" class="select-contain" current="current"></eqd-select>';return{restrict:"E",scope:{model:"="},controller:"SimpleSelectController",compile:function(i,l){var n=l.class;return i.removeClass(n),function(i,l,o,r){l.append(e(angular.element(t).addClass(n))(i))}}}}]).directive("eqxSelectOption",["$parse","$interpolate",function(e,t){return{restrict:"E",require:"^eqxSelect",compile:function(i,l){var n,o;return l.ngRepeat&&(n=e(l.value),o=t(i.html())),function(e,t,i,l){t.css("display","none");var r;if(n){var c=n(e);l.setObjectConfig(angular.isObject(c)),r={name:o(e),value:c}}else r={name:t.html(),value:e.$parent.$eval(i.value)};l.addSelectChoice(r),t.on("$destroy",function(){l.removeSelectChoice(r)})}}}}]);