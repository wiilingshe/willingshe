angular.module("app.directives.responsiveImage",[]).directive("responsiveImage",["$compile",function(t){return{restrict:"EA",scope:{file:"="},link:function(t,i,e){"0"!=t.fileType&&(i.find("img").length?$element=i.find("img"):"IMG"==i.get(0).nodeName.toUpperCase()&&($element=i),$element.bind("load",function(){$(this).removeAttr("style");var i=$(this).parent("li").width(),e=$(this).parent("li").height();t.file&&(t.file.shape={width:$(this).width(),height:$(this).height()}),this.width<=i&&this.height<=e?(this.style.top="50%",this.style.marginTop="-"+this.height/2+"px",this.style.left="50%",this.style.marginLeft="-"+this.width/2+"px"):this.width>this.height?(this.style.width=i+"px",this.height=this.height*i/this.width,this.style.top="50%",this.style.marginTop="-"+this.height/2+"px"):(this.style.height=e+"px",this.width=this.width*e/this.height,this.style.left="50%",this.style.marginLeft="-"+this.width/2+"px")}))}}}]);