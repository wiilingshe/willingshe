angular.module("app.directives.numChangeAnim",[]).directive("numChangeAnim",["$filter",function(n){return{restrict:"A",scope:{content:"@"},link:function(t,o,i){function a(n,t){return Math.floor(n+Math.random()*(t-n))}function e(n,t){n=n>0?n:1;for(var o=Math.floor(Math.log10(n)),i=Math.floor(n/Math.pow(10,o)),e=0,r=10,c=function(c){setTimeout(function(){if(10>r)e=c;else{var u=o>c?c:o,f=Math.pow(10,u)*i;f=f.toString().length==n.toString().length?n:f,e=a(e,f)}t(e,9==c)},(c*c+c+2)/2*30)},u=0;r>u;u++)c(u)}function r(t,o){$(t).children("span").text(n("number")(o))}t.$watch("content",function(n){if(n){var t=parseInt(n,10);e(t,function(n,i){r(o,n),i&&(r(o,t),$(o).addClass("heartbeat").css({"animation-duration":"1s"}))})}})}}}]);