angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function i(e){for(var t in e)if(void 0!==o.style[t])return e[t]}var r=function(i,o,a){a=a||{};var l=e.defer(),s=r[a.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){i.unbind(s,c),l.resolve(i)})};return s&&i.bind(s,c),t(function(){angular.isString(o)?i.addClass(o):angular.isFunction(o)?o(i):angular.isObject(o)&&i.css(o),s||l.resolve(i)}),l.promise.cancel=function(){s&&i.unbind(s,c),l.reject("Transition cancelled")},l.promise},o=document.createElement("trans"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},l={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return r.transitionEndEventName=i(a),r.animationEndEventName=i(l),r}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){return{link:function(t,n,i){function r(t){function i(){c===r&&(c=void 0)}var r=e(n,t);return c&&c.cancel(),c=r,r.then(i,i),r}function o(){d?(d=!1,a()):(n.removeClass("collapse").addClass("collapsing"),r({height:n[0].scrollHeight+"px"}).then(a))}function a(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function l(){d?(d=!1,s(),n.css({height:0})):(n.css({height:n[0].scrollHeight+"px"}),n[0].offsetWidth,n.removeClass("collapse in").addClass("collapsing"),r({height:0}).then(s))}function s(){n.removeClass("collapsing"),n.addClass("collapse")}var c,d=!0;t.$watch(i.collapse,function(e){e?l():o()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){i.addGroup(e),e.$watch("isOpen",function(t){t&&i.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,i){e.$watch(function(){return i[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,i){var r=i[0],o=i[1];o.$render=function(){t.toggleClass(r.activeClass,angular.equals(o.$modelValue,e.$eval(n.btnRadio)))},t.bind(r.toggleEvent,function(){var i=t.hasClass(r.activeClass);(!i||angular.isDefined(n.uncheckable))&&e.$apply(function(){o.$setViewValue(i?null:e.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,i){function r(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(t,n){var i=e.$eval(t);return angular.isDefined(i)?i:n}var l=i[0],s=i[1];s.$render=function(){t.toggleClass(l.activeClass,angular.equals(s.$modelValue,r()))},t.bind(l.toggleEvent,function(){e.$apply(function(){s.$setViewValue(t.hasClass(l.activeClass)?o():r()),s.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition",function(e,t,n){function i(){r();var n=+e.interval;!isNaN(n)&&n>=0&&(a=t(o,n))}function r(){a&&(t.cancel(a),a=null)}function o(){l?(e.next(),i()):e.pause()}var a,l,s=this,c=s.slides=e.slides=[],d=-1;s.currentSlide=null;var u=!1;s.select=e.select=function(r,o){function a(){u||(s.currentSlide&&angular.isString(o)&&!e.noTransition&&r.$element?(r.$element.addClass(o),r.$element[0].offsetWidth,angular.forEach(c,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(r,{direction:o,active:!0,entering:!0}),angular.extend(s.currentSlide||{},{direction:o,leaving:!0}),e.$currentTransition=n(r.$element,{}),function(t,n){e.$currentTransition.then(function(){l(t,n)},function(){l(t,n)})}(r,s.currentSlide)):l(r,s.currentSlide),s.currentSlide=r,d=p,i())}function l(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var p=c.indexOf(r);void 0===o&&(o=p>d?"next":"prev"),r&&r!==s.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(a)):a())},e.$on("$destroy",function(){u=!0}),s.indexOfSlide=function(e){return c.indexOf(e)},e.next=function(){var t=(d+1)%c.length;return e.$currentTransition?void 0:s.select(c[t],"next")},e.prev=function(){var t=0>d-1?c.length-1:d-1;return e.$currentTransition?void 0:s.select(c[t],"prev")},e.isActive=function(e){return s.currentSlide===e},e.$watch("interval",i),e.$on("$destroy",r),e.play=function(){l||(l=!0,i())},e.pause=function(){e.noPause||(l=!1,r())},s.addSlide=function(t,n){t.$element=n,c.push(t),1===c.length||t.active?(s.select(c[c.length-1]),1==c.length&&e.play()):t.active=!1},s.removeSlide=function(e){var t=c.indexOf(e);c.splice(t,1),c.length>0&&e.active?s.select(t>=c.length?c[t-1]:c[t]):d>t&&d--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(e,t,n,i){i.addSlide(e,t),e.$on("$destroy",function(){i.removeSlide(e)}),e.$watch("active",function(t){t&&i.select(e)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){function n(e,t,n){return 1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3!==t&&5!==t&&8!==t&&10!==t||31>n}this.parsers={};var i={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")}};this.createParser=function(e){var n=[],r=e.split("");return angular.forEach(i,function(t,i){var o=e.indexOf(i);if(o>-1){e=e.split(""),r[o]="("+t.regex+")",e[o]="$";for(var a=o+1,l=o+i.length;l>a;a++)r[a]="",e[a]="$";e=e.join(""),n.push({index:o,apply:t.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:t(n,"index")}},this.parse=function(t,i){if(!angular.isString(t))return t;i=e.DATETIME_FORMATS[i]||i,this.parsers[i]||(this.parsers[i]=this.createParser(i));var r=this.parsers[i],o=r.regex,a=r.map,l=t.match(o);if(l&&l.length){for(var s,c={year:1900,month:0,date:1,hours:0},d=1,u=l.length;u>d;d++){var p=a[d-1];p.apply&&p.apply.call(c,l[d])}return n(c.year,c.month,c.date)&&(s=new Date(c.year,c.month,c.date,c.hours)),s}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var r=function(t){for(var n=e[0],r=t.offsetParent||n;r&&r!==n&&i(r);)r=r.offsetParent;return r||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},o=r(t[0]);o!=e[0]&&(i=this.offset(angular.element(o)),i.top+=o.clientTop-o.scrollTop,i.left+=o.clientLeft-o.scrollLeft);var a=t[0].getBoundingClientRect();return{width:a.width||t.prop("offsetWidth"),height:a.height||t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,i){var r,o,a,l,s=n.split("-"),c=s[0],d=s[1]||"center";r=i?this.offset(e):this.position(e),o=t.prop("offsetWidth"),a=t.prop("offsetHeight");var u={center:function(){return r.left+r.width/2-o/2},left:function(){return r.left},right:function(){return r.left+r.width}},p={center:function(){return r.top+r.height/2-a/2},top:function(){return r.top},bottom:function(){return r.top+r.height}};switch(c){case"right":l={top:p[d](),left:u[c]()};break;case"left":l={top:p[d](),left:r.left-o};break;case"bottom":l={top:p[c](),left:u[d]()};break;default:l={top:r.top-a,left:u[d]()}}return l}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,n,i,r,o,a,l){var s=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(n,r){s[n]=angular.isDefined(t[n])?8>r?i(t[n])(e.$parent):e.$parent.$eval(t[n]):l[n]}),angular.forEach(["minDate","maxDate"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(e){s[i]=e?new Date(e):null,s.refreshView()}):s[i]=l[i]?new Date(l[i]):null}),e.datepickerMode=e.datepickerMode||l.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(t.initDate)?e.$parent.$eval(t.initDate):new Date,e.isActive=function(t){return 0===s.compare(t.date,s.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(e){c=e,c.$render=function(){s.render()}},this.render=function(){if(c.$modelValue){var e=new Date(c.$modelValue),t=!isNaN(e);t?this.activeDate=e:o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),c.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$modelValue?new Date(c.$modelValue):null;c.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$modelValue?new Date(c.$modelValue):null;return{date:e,label:a(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===s.minMode){var n=c.$modelValue?new Date(c.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else s.activeDate=t,e.datepickerMode=s.modes[s.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=s.activeDate.getFullYear()+e*(s.step.years||0),n=s.activeDate.getMonth()+e*(s.step.months||0);s.activeDate.setFullYear(t,n,1),s.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===s.maxMode&&1===t||e.datepickerMode===s.minMode&&-1===t||(e.datepickerMode=s.modes[s.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var d=function(){r(function(){s.element[0].focus()},0,!1)};e.$on("datepicker.focus",d),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),t.stopPropagation(),"enter"===n||"space"===n){if(s.isDisabled(s.activeDate))return;e.select(s.activeDate),d()}else!t.ctrlKey||"up"!==n&&"down"!==n?(s.handleKeyDown(n,t),s.refreshView()):(e.toggleMode("up"===n?1:-1),d())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,i){var r=i[0],o=i[1];o&&r.init(o)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,i,r){function o(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?s[t]:29}function a(e,t){var n=new Array(t),i=new Date(e),r=0;for(i.setHours(12);t>r;)n[r++]=new Date(i),i.setDate(i.getDate()+1);return n}function l(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=r.showWeeks,r.step={months:1},r.element=n;var s=[31,28,31,30,31,30,31,31,30,31,30,31];r._refreshView=function(){var n=r.activeDate.getFullYear(),i=r.activeDate.getMonth(),o=new Date(n,i,1),s=r.startingDay-o.getDay(),c=s>0?7-s:-s,d=new Date(o);c>0&&d.setDate(-c+1);for(var u=a(d,42),p=0;42>p;p++)u[p]=angular.extend(r.createDateObject(u[p],r.formatDay),{secondary:u[p].getMonth()!==i,uid:t.uniqueId+"-"+p});t.labels=new Array(7);for(var f=0;7>f;f++)t.labels[f]={abbr:e(u[f].date,r.formatDayHeader),full:e(u[f].date,"EEEE")};if(t.title=e(r.activeDate,r.formatDayTitle),t.rows=r.split(u,7),t.showWeeks){t.weekNumbers=[];for(var g=l(t.rows[0][0].date),h=t.rows.length;t.weekNumbers.push(g++)<h;);}},r.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},r.handleKeyDown=function(e){var t=r.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=r.activeDate.getMonth()+("pageup"===e?-1:1);r.activeDate.setMonth(n,1),t=Math.min(o(r.activeDate.getFullYear(),r.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=o(r.activeDate.getFullYear(),r.activeDate.getMonth()));r.activeDate.setDate(t)},r.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,i,r){r.step={years:1},r.element=n,r._refreshView=function(){for(var n=new Array(12),i=r.activeDate.getFullYear(),o=0;12>o;o++)n[o]=angular.extend(r.createDateObject(new Date(i,o,1),r.formatMonth),{uid:t.uniqueId+"-"+o});t.title=e(r.activeDate,r.formatMonthTitle),t.rows=r.split(n,3)},r.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},r.handleKeyDown=function(e){var t=r.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=r.activeDate.getFullYear()+("pageup"===e?-1:1);r.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);r.activeDate.setMonth(t)},r.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,i){function r(e){return parseInt((e-1)/o,10)*o+1}var o=i.yearRange;i.step={years:o},i.element=t,i._refreshView=function(){for(var t=new Array(o),n=0,a=r(i.activeDate.getFullYear());o>n;n++)t[n]=angular.extend(i.createDateObject(new Date(a+n,0,1),i.formatYear),{uid:e.uniqueId+"-"+n});e.title=[t[0].label,t[o-1].label].join(" - "),e.rows=i.split(t,5)},i.compare=function(e,t){return e.getFullYear()-t.getFullYear()},i.handleKeyDown=function(e){var t=i.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*i.step.years:"home"===e?t=r(i.activeDate.getFullYear()):"end"===e&&(t=r(i.activeDate.getFullYear())+o-1),i.activeDate.setFullYear(t)},i.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,n,i,r,o,a){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(l,s,c,d){function u(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function p(e){if(e){if(angular.isDate(e)&&!isNaN(e))return d.$setValidity("date",!0),e;if(angular.isString(e)){var t=o.parse(e,f)||new Date(e);return isNaN(t)?void d.$setValidity("date",!1):(d.$setValidity("date",!0),t)}return void d.$setValidity("date",!1)}return d.$setValidity("date",!0),null}var f,g=angular.isDefined(c.closeOnDateSelection)?l.$parent.$eval(c.closeOnDateSelection):a.closeOnDateSelection,h=angular.isDefined(c.datepickerAppendToBody)?l.$parent.$eval(c.datepickerAppendToBody):a.appendToBody;l.showButtonBar=angular.isDefined(c.showButtonBar)?l.$parent.$eval(c.showButtonBar):a.showButtonBar,l.getText=function(e){return l[e+"Text"]||a[e+"Text"]},c.$observe("datepickerPopup",function(e){f=e||a.datepickerPopup,d.$render()});var m=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");m.attr({"ng-model":"date","ng-change":"dateSelection()"});var v=angular.element(m.children()[0]);c.datepickerOptions&&angular.forEach(l.$parent.$eval(c.datepickerOptions),function(e,t){v.attr(u(t),e)}),angular.forEach(["minDate","maxDate"],function(e){c[e]&&(l.$parent.$watch(t(c[e]),function(t){l[e]=t}),v.attr(u(e),e))}),c.dateDisabled&&v.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),d.$parsers.unshift(p),l.dateSelection=function(e){angular.isDefined(e)&&(l.date=e),d.$setViewValue(l.date),d.$render(),g&&(l.isOpen=!1,s[0].focus())},s.bind("input change keyup",function(){l.$apply(function(){l.date=d.$modelValue})}),d.$render=function(){var e=d.$viewValue?r(d.$viewValue,f):"";s.val(e),l.date=p(d.$modelValue)};var b=function(e){l.isOpen&&e.target!==s[0]&&l.$apply(function(){l.isOpen=!1})},w=function(e){l.keydown(e)};s.bind("keydown",w),l.keydown=function(e){27===e.which?(e.preventDefault(),e.stopPropagation(),l.close()):40!==e.which||l.isOpen||(l.isOpen=!0)},l.$watch("isOpen",function(e){e?(l.$broadcast("datepicker.focus"),l.position=h?i.offset(s):i.position(s),l.position.top=l.position.top+s.prop("offsetHeight"),n.bind("click",b)):n.unbind("click",b)}),l.select=function(e){if("today"===e){var t=new Date;angular.isDate(d.$modelValue)?(e=new Date(d.$modelValue),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}l.dateSelection(e)},l.close=function(){l.isOpen=!1,s[0].focus()};var y=e(m)(l);h?n.find("body").append(y):s.after(y),l.$on("$destroy",function(){y.remove(),s.unbind("keydown",w),n.unbind("click",b)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(e){var t=null;this.open=function(r){t||(e.bind("click",n),e.bind("keydown",i)),t&&t!==r&&(t.isOpen=!1),t=r},this.close=function(r){t===r&&(t=null,e.unbind("click",n),e.unbind("keydown",i))};var n=function(e){e&&e.isDefaultPrevented()||t.$apply(function(){t.isOpen=!1})},i=function(e){27===e.which&&(t.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(e,t,n,i,r,o){var a,l=this,s=e.$new(),c=i.openClass,d=angular.noop,u=t.onToggle?n(t.onToggle):angular.noop;this.init=function(i){l.$element=i,t.isOpen&&(a=n(t.isOpen),d=a.assign,e.$watch(a,function(e){s.isOpen=!!e}))},this.toggle=function(e){return s.isOpen=arguments.length?!!e:!s.isOpen},this.isOpen=function(){return s.isOpen},s.focusToggleElement=function(){l.toggleElement&&l.toggleElement[0].focus()},s.$watch("isOpen",function(t,n){o[t?"addClass":"removeClass"](l.$element,c),t?(s.focusToggleElement(),r.open(s)):r.close(s),d(e,t),angular.isDefined(t)&&t!==n&&u(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){s.isOpen=!1}),e.$on("$destroy",function(){s.$destroy()})}]).directive("dropdown",function(){return{restrict:"CA",controller:"DropdownController",link:function(e,t,n,i){i.init(t)}}}).directive("dropdownToggle",function(){return{restrict:"CA",require:"?^dropdown",link:function(e,t,n,i){if(i){i.toggleElement=t;var r=function(r){r.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.bind("click",r),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",r)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t==e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t){t.animate=!1,e(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(n,i,r){i.addClass(r.windowClass||""),n.size=r.size,t(function(){n.animate=!0,i[0].focus()}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,i,r,o){function a(){for(var e=-1,t=f.keys(),n=0;n<t.length;n++)f.get(t[n]).value.backdrop&&(e=n);return e}function l(e){var t=n.find("body").eq(0),i=f.get(e).value;f.remove(e),c(i.modalDomEl,i.modalScope,300,function(){i.modalScope.$destroy(),t.toggleClass(p,f.length()>0),s()})}function s(){if(d&&-1==a()){var e=u;c(d,u,150,function(){e.$destroy(),e=null}),d=void 0,u=void 0}}function c(n,i,r,o){function a(){a.done||(a.done=!0,n.remove(),o&&o())}i.animate=!1;var l=e.transitionEndEventName;if(l){var s=t(a,r);n.bind(l,function(){t.cancel(s),a(),i.$apply()})}else t(a,0)}var d,u,p="modal-open",f=o.createNew(),g={};return r.$watch(a,function(e){u&&(u.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=f.top(),t&&t.value.keyboard&&(e.preventDefault(),r.$apply(function(){g.dismiss(t.key,"escape key press")})))}),g.open=function(e,t){f.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var o=n.find("body").eq(0),l=a();l>=0&&!d&&(u=r.$new(!0),u.index=l,d=i("<div modal-backdrop></div>")(u),o.append(d));var s=angular.element("<div modal-window></div>");s.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:f.length()-1,animate:"animate"}).html(t.content);var c=i(s)(t.scope);f.top().value.modalDomEl=c,o.append(c),o.addClass(p)},g.close=function(e,t){var n=f.get(e).value;n&&(n.deferred.resolve(t),l(e))},g.dismiss=function(e,t){var n=f.get(e).value;n&&(n.deferred.reject(t),l(e))},g.dismissAll=function(e){for(var t=this.getTop();t;)this.dismiss(t.key,e),t=this.getTop()},g.getTop=function(){return f.top()},g}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,i,r,o,a,l){function s(e){return e.template?i.when(e.template):r.get(e.templateUrl,{cache:o}).then(function(e){return e.data})}function c(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(i.when(t.invoke(e)))}),n}var d={};return d.open=function(t){var r=i.defer(),o=i.defer(),d={result:r.promise,opened:o.promise,close:function(e){l.close(d,e)},dismiss:function(e){l.dismiss(d,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var u=i.all([s(t)].concat(c(t.resolve)));return u.then(function(e){var i=(t.scope||n).$new();i.$close=d.close,i.$dismiss=d.dismiss;var o,s={},c=1;t.controller&&(s.$scope=i,s.$modalInstance=d,angular.forEach(t.resolve,function(t,n){s[n]=e[c++]}),o=a(t.controller,s)),l.open(d,{scope:i,deferred:r,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(e){r.reject(e)}),u.then(function(){o.resolve(!0)},function(){o.reject(!1)}),d},d}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var i=this,r={$setViewValue:angular.noop},o=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(o,a){r=o,this.config=a,r.$render=function(){i.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){i.itemsPerPage=parseInt(t,10),e.totalPages=i.calculateTotalPages()}):this.itemsPerPage=a.itemsPerPage},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(r.$viewValue,10)||1},e.selectPage=function(t){e.page!==t&&t>0&&t<=e.totalPages&&(r.$setViewValue(t),r.$render())},e.getText=function(t){return e[t+"Text"]||i.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages},e.$watch("totalItems",function(){e.totalPages=i.calculateTotalPages()}),e.$watch("totalPages",function(t){o(e.$parent,t),e.page>t?e.selectPage(t):r.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,i,r,o){function a(e,t,n){return{number:e,text:t,active:n}}function l(e,t){var n=[],i=1,r=t,o=angular.isDefined(d)&&t>d;o&&(u?(i=Math.max(e-Math.floor(d/2),1),r=i+d-1,r>t&&(r=t,i=r-d+1)):(i=(Math.ceil(e/d)-1)*d+1,r=Math.min(i+d-1,t)));for(var l=i;r>=l;l++){var s=a(l,l,l===e);n.push(s)}if(o&&!u){if(i>1){var c=a(i-1,"...",!1);n.unshift(c)}if(t>r){var p=a(r+1,"...",!1);n.push(p)}}return n}var s=o[0],c=o[1];if(c){var d=angular.isDefined(r.maxSize)?n.$parent.$eval(r.maxSize):t.maxSize,u=angular.isDefined(r.rotate)?n.$parent.$eval(r.rotate):t.rotate;n.boundaryLinks=angular.isDefined(r.boundaryLinks)?n.$parent.$eval(r.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(r.directionLinks)?n.$parent.$eval(r.directionLinks):t.directionLinks,s.init(c,t),r.maxSize&&n.$parent.$watch(e(r.maxSize),function(e){d=parseInt(e,10),s.render()});var p=s.render;s.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=l(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,i,r){var o=r[0],a=r[1];a&&(t.align=angular.isDefined(i.align)?t.$parent.$eval(i.align):e.align,o.init(a,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){
function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(r,o,a,l,s,c,d){return function(r,u,p){function f(e){var t=e||g.trigger||p,i=n[t]||t;return{show:t,hide:i}}var g=angular.extend({},t,i),h=e(r),m=d.startSymbol(),v=d.endSymbol(),b="<div "+h+'-popup title="'+m+"tt_title"+v+'" content="'+m+"tt_content"+v+'" placement="'+m+"tt_placement"+v+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(){var e=o(b);return function(t,n,i){function o(){t.tt_isOpen?p():d()}function d(){(!S||t.$eval(i[u+"Enable"]))&&(t.tt_popupDelay?C||(C=a(h,t.tt_popupDelay,!1),C.then(function(e){e()})):h()())}function p(){t.$apply(function(){m()})}function h(){return C=null,y&&(a.cancel(y),y=null),t.tt_content?(v(),w.css({top:0,left:0,display:"block"}),x?s.find("body").append(w):n.after(w),$(),t.tt_isOpen=!0,t.$digest(),$):angular.noop}function m(){t.tt_isOpen=!1,a.cancel(C),C=null,t.tt_animation?y||(y=a(b,500)):b()}function v(){w&&b(),w=e(t,function(){}),t.$digest()}function b(){y=null,w&&(w.remove(),w=null)}var w,y,C,x=!!angular.isDefined(g.appendToBody)&&g.appendToBody,E=f(void 0),S=angular.isDefined(i[u+"Enable"]),$=function(){var e=c.positionElements(n,w,t.tt_placement,x);e.top+="px",e.left+="px",w.css(e)};t.tt_isOpen=!1,i.$observe(r,function(e){t.tt_content=e,!e&&t.tt_isOpen&&m()}),i.$observe(u+"Title",function(e){t.tt_title=e}),i.$observe(u+"Placement",function(e){t.tt_placement=angular.isDefined(e)?e:g.placement}),i.$observe(u+"PopupDelay",function(e){var n=parseInt(e,10);t.tt_popupDelay=isNaN(n)?g.popupDelay:n});var T=function(){n.unbind(E.show,d),n.unbind(E.hide,p)};i.$observe(u+"Trigger",function(e){T(),E=f(e),E.show===E.hide?n.bind(E.show,o):(n.bind(E.show,d),n.bind(E.hide,p))});var R=t.$eval(i[u+"Animation"]);t.tt_animation=angular.isDefined(R)?!!R:g.animation,i.$observe(u+"AppendToBody",function(e){x=angular.isDefined(e)?l(e)(t):x}),x&&t.$on("$locationChangeSuccess",function(){t.tt_isOpen&&m()}),t.$on("$destroy",function(){a.cancel(y),a.cancel(C),T(),b()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var i=this,r=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,this.addBar=function(t,n){r||n.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(n){t.percent=+(100*n/e.max).toFixed(2)}),t.$on("$destroy",function(){n=null,i.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var i={$setViewValue:angular.noop};this.init=function(r){i=r,i.$render=this.render,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var o=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(i.$setViewValue(t),i.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,i){var r=i[0],o=i[1];o&&r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},t.addTab=function(e){n.push(e),1===n.length?e.active=!0:e.active&&t.select(e)},t.removeTab=function(e){var i=n.indexOf(e);if(e.active&&n.length>1){var r=i==n.length-1?i-1:i+1;t.select(n[r])}n.splice(i,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("tab",["$parse",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,i){return function(t,n,r,o){t.$watch("active",function(e){e&&o.select(t)}),t.disabled=!1,r.disabled&&t.$parent.$watch(e(r.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},o.addTab(t),t.$on("$destroy",function(){o.removeTab(t)}),t.$transcludeFn=i}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,i){var r=t.$eval(i.tabContentTransclude);r.$transcludeFn(r.$parent,function(t){angular.forEach(t,function(t){e(t)?r.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,i,r,o){function a(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===h[1]&&(t+=12)),t):void 0}function l(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function s(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function c(e){d(),g.$setViewValue(new Date(f)),u(e)}function d(){g.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function u(t){var n=f.getHours(),i=f.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:s(n),e.minutes="m"===t?i:s(i),e.meridian=f.getHours()<12?h[0]:h[1]}function p(e){var t=new Date(f.getTime()+6e4*e);f.setHours(t.getHours(),t.getMinutes()),c()}var f=new Date,g={$setViewValue:angular.noop},h=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):o.meridians||r.DATETIME_FORMATS.AMPMS;this.init=function(n,i){g=n,g.$render=this.render;var r=i.eq(0),a=i.eq(1),l=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):o.mousewheel;l&&this.setupMousewheelEvents(r,a),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):o.readonlyInput,this.setupInputEvents(r,a)};var m=o.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){m=parseInt(e,10)});var v=o.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){v=parseInt(e,10)}),e.showMeridian=o.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,g.$error.time){var n=a(),i=l();angular.isDefined(n)&&angular.isDefined(i)&&(f.setHours(n),c())}else u()}),this.setupMousewheelEvents=function(t,n){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var i=function(t,n){g.$setViewValue(null),g.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=a();angular.isDefined(e)?(f.setHours(e),c("h")):i(!0)},t.bind("blur",function(){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=s(e.hours)})}),e.updateMinutes=function(){var e=l();angular.isDefined(e)?(f.setMinutes(e),c("m")):i(void 0,!0)},n.bind("blur",function(){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=s(e.minutes)})})},this.render=function(){var e=g.$modelValue?new Date(g.$modelValue):null;isNaN(e)?(g.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(f=e),d(),u())},e.incrementHours=function(){p(60*m)},e.decrementHours=function(){p(60*-m)},e.incrementMinutes=function(){p(v)},e.decrementMinutes=function(){p(-v)},e.toggleMeridian=function(){p(720*(f.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,i){var r=i[0],o=i[1];o&&r.init(o,t.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,i,r,o,a){var l=[9,13,27,38,40];return{require:"ngModel",link:function(s,c,d,u){var p,f=s.$eval(d.typeaheadMinLength)||1,g=s.$eval(d.typeaheadWaitMs)||0,h=s.$eval(d.typeaheadEditable)!==!1,m=t(d.typeaheadLoading).assign||angular.noop,v=t(d.typeaheadOnSelect),b=d.typeaheadInputFormatter?t(d.typeaheadInputFormatter):void 0,w=!!d.typeaheadAppendToBody&&s.$eval(d.typeaheadAppendToBody),y=t(d.ngModel).assign,C=a.parse(d.typeahead),x=s.$new();s.$on("$destroy",function(){x.$destroy()});var E="typeahead-"+x.$id+"-"+Math.floor(1e4*Math.random());c.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":E});var S=angular.element("<div typeahead-popup></div>");S.attr({id:E,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(d.typeaheadTemplateUrl)&&S.attr("template-url",d.typeaheadTemplateUrl);var $=function(){x.matches=[],x.activeIdx=-1,c.attr("aria-expanded",!1)},T=function(e){return E+"-option-"+e};x.$watch("activeIdx",function(e){0>e?c.removeAttr("aria-activedescendant"):c.attr("aria-activedescendant",T(e))});var R=function(e){var t={$viewValue:e};m(s,!0),n.when(C.source(s,t)).then(function(n){var i=e===u.$viewValue;if(i&&p)if(n.length>0){x.activeIdx=0,x.matches.length=0;for(var r=0;r<n.length;r++)t[C.itemName]=n[r],x.matches.push({id:T(r),label:C.viewMapper(x,t),model:n[r]});x.query=e,x.position=w?o.offset(c):o.position(c),x.position.top=x.position.top+c.prop("offsetHeight"),c.attr("aria-expanded",!0)}else $();i&&m(s,!1)},function(){$(),m(s,!1)})};$(),x.query=void 0;var k;u.$parsers.unshift(function(e){return p=!0,e&&e.length>=f?g>0?(k&&i.cancel(k),k=i(function(){R(e)},g)):R(e):(m(s,!1),$()),h?e:e?void u.$setValidity("editable",!1):(u.$setValidity("editable",!0),e)}),u.$formatters.push(function(e){var t,n,i={};return b?(i.$model=e,b(s,i)):(i[C.itemName]=e,t=C.viewMapper(s,i),i[C.itemName]=void 0,n=C.viewMapper(s,i),t!==n?t:e)}),x.select=function(e){var t,n,r={};r[C.itemName]=n=x.matches[e].model,t=C.modelMapper(s,r),y(s,t),u.$setValidity("editable",!0),v(s,{$item:n,$model:t,$label:C.viewMapper(s,r)}),$(),i(function(){c[0].focus()},0,!1)},c.bind("keydown",function(e){0!==x.matches.length&&-1!==l.indexOf(e.which)&&(e.preventDefault(),40===e.which?(x.activeIdx=(x.activeIdx+1)%x.matches.length,x.$digest()):38===e.which?(x.activeIdx=(x.activeIdx?x.activeIdx:x.matches.length)-1,x.$digest()):13===e.which||9===e.which?x.$apply(function(){x.select(x.activeIdx)}):27===e.which&&(e.stopPropagation(),$(),x.$digest()))}),c.bind("blur",function(){p=!1});var D=function(e){c[0]!==e.target&&($(),x.$digest())};r.bind("click",D),s.$on("$destroy",function(){r.unbind("click",D)});var A=e(S)(x);w?r.find("body").append(A):c.after(A)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,n,i){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(r,o,a){var l=i(a.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";e.get(l,{cache:t}).success(function(e){o.replaceWith(n(e.trim())(r))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?(""+t).replace(new RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="{\'alert-{{type || \'warning\'}}\': true, \'alert-dismissable\': closeable}" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop fade"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" ng-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset-titles.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset-titles.html","<ul class=\"nav {{type && 'nav-' + type}}\" ng-class=\"{'nav-stacked': vertical}\">\n</ul>\n")}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'\n<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n\t<tbody>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n\t\t\t\t<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td>:</td>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n\t\t\t\t<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n\t\t</tr>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-if="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>');
}]),!function(){"use strict";angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])}(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart"},keymap:{TAB:9,STRG:17,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["ƒ","$","£","$","¤","¥","៛","₩","₱","฿","₫"]})}(),angular.module("ui.grid").directive("uiGridCell",["$compile","$log","$parse","gridUtil","uiGridConstants",function(e,t,n,i,r){var o={priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(t,n,o,a){function l(){var e=t.col.compiledElementFn;e(t,function(e){n.append(e)})}if(a&&t.col.compiledElementFn)l();else if(a&&!t.col.compiledElementFn)t.col.getCompiledElementFn().then(function(e){e(t,function(e){n.append(e)})});else{var s=t.col.cellTemplate.replace(r.MODEL_COL_FIELD,"row.entity."+i.preEval(t.col.field)).replace(r.COL_FIELD,"grid.getCellValue(row, col)"),c=e(s)(t);n.append(c)}},post:function(e,t){if(t.addClass(e.col.getColClass(!1)),e.col.cellClass){var n=t;n.addClass(angular.isFunction(e.col.cellClass)?e.col.cellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.cellClass)}}}}};return o}]),function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(e,t,n){var i={initialize:function(e,t){e.grid=t.grid,t.columnMenuScope=e,e.menuShown=!1},setColMenuItemWatch:function(e){var t=e.$watch("col.menuItems",function(t){"undefined"!=typeof t&&t&&angular.isArray(t)?(t.forEach(function(t){"undefined"!=typeof t.context&&t.context||(t.context={}),t.context.col=e.col}),e.menuItems=e.defaultMenuItems.concat(t)):e.menuItems=e.defaultMenuItems});e.$on("$destroy",t)},sortable:function(e){return!!(e.grid.options.enableSorting&&"undefined"!=typeof e.col&&e.col&&e.col.enableSorting)},isActiveSort:function(e,t){return"undefined"!=typeof e.col&&"undefined"!=typeof e.col.sort&&"undefined"!=typeof e.col.sort.direction&&e.col.sort.direction===t},suppressRemoveSort:function(e){return!!(e.col&&e.col.colDef&&e.col.colDef.suppressRemoveSort)},hideable:function(e){return!("undefined"!=typeof e.col&&e.col&&e.col.colDef&&e.col.colDef.disableHiding)},getDefaultMenuItems:function(n){return[{title:e.getSafeText("sort.ascending"),icon:"ui-grid-icon-sort-alt-up",action:function(e){e.stopPropagation(),n.sortColumn(e,t.ASC)},shown:function(){return i.sortable(n)},active:function(){return i.isActiveSort(n,t.ASC)}},{title:e.getSafeText("sort.descending"),icon:"ui-grid-icon-sort-alt-down",action:function(e){e.stopPropagation(),n.sortColumn(e,t.DESC)},shown:function(){return i.sortable(n)},active:function(){return i.isActiveSort(n,t.DESC)}},{title:e.getSafeText("sort.remove"),icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),n.unsortColumn()},shown:function(){return i.sortable(n)&&"undefined"!=typeof n.col&&"undefined"!=typeof n.col.sort&&"undefined"!=typeof n.col.sort.direction&&null!==n.col.sort.direction&&!i.suppressRemoveSort(n)}},{title:e.getSafeText("column.hide"),icon:"ui-grid-icon-cancel",shown:function(){return i.hideable(n)},action:function(e){e.stopPropagation(),n.hideColumn()}}]},getColumnElementPosition:function(e,t,i){var r={};return r.left=i[0].offsetLeft,r.top=i[0].offsetTop,r.offset=0,t.grid.options.offsetLeft&&(r.offset=t.grid.options.offsetLeft),r.height=n.elementHeight(i,!0),r.width=n.elementWidth(i,!0),r},repositionMenu:function(e,t,i,r,o){var a=r[0].querySelectorAll(".ui-grid-menu"),l=t.renderContainer?t.renderContainer:"body",s=(t.grid.renderContainers[l],n.closestElm(o,".ui-grid-render-container")),c=s.getBoundingClientRect().left-e.grid.element[0].getBoundingClientRect().left,d=s.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,u=t.lastMenuWidth?t.lastMenuWidth:e.lastMenuWidth?e.lastMenuWidth:170,p=t.lastMenuPaddingRight?t.lastMenuPaddingRight:e.lastMenuPaddingRight?e.lastMenuPaddingRight:10;if(0!==a.length){var f=a[0].querySelectorAll(".ui-grid-menu-mid");0===f.length||angular.element(f).hasClass("ng-hide")||(u=n.elementWidth(a,!0),e.lastMenuWidth=u,t.lastMenuWidth=u,p=parseInt(n.getStyles(angular.element(a)[0]).paddingRight,10),e.lastMenuPaddingRight=p,t.lastMenuPaddingRight=p)}var g=i.left+c-d+i.width-u+p;g<i.offset&&(g=i.offset),r.css("left",g+"px"),r.css("top",i.top+i.height+"px")}};return i}]).directive("uiGridColumnMenu",["$log","$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService",function(e,t,n,i,r){var o={priority:0,scope:!0,require:"?^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(e,t,n,i){var o=this;r.initialize(e,i),e.defaultMenuItems=r.getDefaultMenuItems(e),e.menuItems=e.defaultMenuItems,r.setColMenuItemWatch(e),e.showMenu=function(n,i,a){e.col=n;var l=r.getColumnElementPosition(e,n,i);e.menuShown?(e.colElement=i,e.colElementPosition=l,e.hideThenShow=!0,e.$broadcast("hide-menu",{originalEvent:a})):(o.shown=e.menuShown=!0,r.repositionMenu(e,n,l,t,i),e.colElement=i,e.colElementPosition=l,e.$broadcast("show-menu",{originalEvent:a}))},e.hideMenu=function(t){delete e.col,e.menuShown=!1,t||e.$broadcast("hide-menu")},e.$on("menu-hidden",function(){e.hideThenShow?(delete e.hideThenShow,r.repositionMenu(e,e.col,e.colElementPosition,t,e.colElement),e.$broadcast("show-menu"),e.menuShown=!0):e.hideMenu(!0)}),e.$on("menu-shown",function(){r.repositionMenu(e,e.col,e.colElementPosition,t,e.colElement),delete e.colElementPosition,delete e.columnElement}),e.sortColumn=function(t,n){t.stopPropagation(),e.grid.sortColumn(e.col,n,!0).then(function(){e.grid.refresh(),e.hideMenu()})},e.unsortColumn=function(){e.col.unsort(),e.grid.refresh(),e.hideMenu()},e.hideColumn=function(){e.col.colDef.visible=!1,e.grid.refresh(),e.hideMenu()}},controller:["$scope",function(e){var t=this;e.$watch("menuItems",function(e){t.menuItems=e})}]};return o}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$log","$timeout","gridUtil","$compile",function(e,t,n,i){var r={priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(){return{pre:function(e,t){function r(r){n.getTemplate(r).then(function(n){var r=i(n),o=r(e);t.append(o)})}r(e.col.footerCellTemplate?e.col.footerCellTemplate:"ui-grid/uiGridFooterCell")},post:function(e,t,n,i){e.grid=i.grid,t.addClass(e.col.getColClass(!1))}}}};return r}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$log","$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,i,r){var o="ui-grid/ui-grid-footer";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,t,i,a){var l=a[0],s=a[1];e.grid=l.grid,e.colContainer=s.colContainer,s.footer=t;var c=e.grid.options.footerTemplate?e.grid.options.footerTemplate:o;r.getTemplate(c).then(function(i){var r=angular.element(i),o=n(r)(e);if(t.append(o),s){var a=t[0].getElementsByClassName("ui-grid-footer-viewport")[0];a&&(s.footerViewport=a)}})},post:function(t,n,i,o){var a=o[0],l=o[1];e.debug("ui-grid-footer link"),a.grid,r.disableAnimations(n),l.footer=n;var s=n[0].getElementsByClassName("ui-grid-footer-viewport")[0];s&&(l.footerViewport=s)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(e,t,n){var i="ui-grid/ui-grid-group-panel";return{restrict:"EA",replace:!0,require:"?^uiGrid",scope:!1,compile:function(){return{pre:function(t,r){var o=t.grid.options.groupPanelTemplate||i;n.getTemplate(o).then(function(n){var i=angular.element(n),o=e(i)(t);r.append(o)})},post:function(e,t){t.bind("$destroy",function(){})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$log","$compile","$timeout","$window","$document","gridUtil","uiGridConstants",function(e,t,n,i,r,o,a){var l=500,s={priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["?^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(e,n){var i=t(e.col.headerCellTemplate)(e);n.append(i)},post:function(e,t,i,r){function o(t){var n=!1;t.shiftKey&&(n=!0),s.grid.sortColumn(e.col,n).then(function(){s.columnMenuScope&&s.columnMenuScope.hideMenu(),s.grid.refresh()})}var s=r[0],c=r[1];e.grid=s.grid,e.renderContainer=s.grid.renderContainers[c.containerId],t.addClass(e.col.getColClass(!1)),e.menuShown=!1,e.asc=a.ASC,e.desc=a.DESC;var d=(angular.element(t[0].querySelectorAll(".ui-grid-header-cell-menu")),angular.element(t[0].querySelectorAll(".ui-grid-cell-contents")));e.sortable=!(!s.grid.options.enableSorting||!e.col.enableSorting),e.filterable=!(!s.grid.options.enableFiltering||!e.col.enableFiltering);var u,p=0;if(d.on("mousedown touchstart",function(i){"undefined"!=typeof i.originalEvent&&void 0!==i.originalEvent&&(i=i.originalEvent),i.button&&0!==i.button||(p=(new Date).getTime(),u=n(function(){},l),u.then(function(){e.col.colDef&&!e.col.colDef.disableColumnMenu&&s.columnMenuScope.showMenu(e.col,t,i)}))}),d.on("mouseup touchend",function(){n.cancel(u)}),e.$on("$destroy",function(){d.off("mousedown touchstart")}),e.toggleMenu=function(n){n.stopPropagation(),s.columnMenuScope.menuShown&&s.columnMenuScope.col===e.col?s.columnMenuScope.hideMenu():s.columnMenuScope.showMenu(e.col,t)},e.sortable&&(d.on("click touchend",function(e){e.stopPropagation(),n.cancel(u);var t=(new Date).getTime(),i=t-p;i>l||o(e)}),e.$on("$destroy",function(){n.cancel(u)})),e.filterable){var f=[];angular.forEach(e.col.filters,function(t,n){f.push(e.$watch("col.filters["+n+"].term",function(){s.grid.api.core.raise.filterChanged(),s.grid.refresh().then(function(){s.prevScrollArgs&&s.prevScrollArgs.y&&s.prevScrollArgs.y.percentage&&s.fireScrollingEvent({y:{percentage:s.prevScrollArgs.y.percentage}})})}))}),e.$on("$destroy",function(){angular.forEach(f,function(e){e()})})}}}}};return s}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$log","$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,i,r){var o="ui-grid/ui-grid-header",a="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,t,i,l){var s=l[0],c=l[1];e.grid=s.grid,e.colContainer=c.colContainer,c.header=t,c.colContainer.header=t;var d;d=e.grid.options.hideHeader?a:e.grid.options.headerTemplate?e.grid.options.headerTemplate:o,r.getTemplate(d).then(function(i){var r=angular.element(i),o=n(r)(e);if(t.replaceWith(o),c.header=o,c.colContainer.header=o,t=o,c){var a=t[0].getElementsByClassName("ui-grid-header-viewport")[0];a&&(c.headerViewport=a)}})},post:function(t,n,i,o){function a(){var e=[],t=[],n=0,i=s.colContainer.getViewportWidth();"undefined"!=typeof l.grid.verticalScrollbarWidth&&void 0!==l.grid.verticalScrollbarWidth&&l.grid.verticalScrollbarWidth>0&&(i+=l.grid.verticalScrollbarWidth);var o,a=0,d=0,u="",p=s.colContainer.visibleColumnCache;p.forEach(function(i){if(i.visible){var o=!1;angular.isNumber(i.width)||(o=!!isNaN(i.width)&&r.endsWith(i.width,"%")),angular.isString(i.width)&&-1!==i.width.indexOf("*")?(n=parseInt(n+i.width.length,10),e.push(i)):o?t.push(i):angular.isNumber(i.width)&&(a=parseInt(a+i.width,10),d=parseInt(d,10)+parseInt(i.width,10),i.drawnWidth=i.width)}});var f,g,h,m=i-a;if(t.length>0){for(f=0;f<t.length;f++){g=t[f];var v=parseInt(g.width.replace(/%/g,""),10)/100;h=parseInt(v*m,10),g.colDef.minWidth&&h<g.colDef.minWidth?(h=g.colDef.minWidth,m-=h,d+=h,g.drawnWidth=h,t.splice(f,1)):g.colDef.maxWidth&&h>g.colDef.maxWidth&&(h=g.colDef.maxWidth,m-=h,d+=h,g.drawnWidth=h,t.splice(f,1))}t.forEach(function(e){var t=parseInt(e.width.replace(/%/g,""),10)/100,n=parseInt(t*m,10);d+=n,e.drawnWidth=n})}if(e.length>0){var b=parseInt(m/n,10);for(f=0;f<e.length;f++)g=e[f],h=parseInt(b*g.width.length,10),g.colDef.minWidth&&h<g.colDef.minWidth?(h=g.colDef.minWidth,m-=h,n--,d+=h,g.drawnWidth=h,o=g,e.splice(f,1)):g.colDef.maxWidth&&h>g.colDef.maxWidth&&(h=g.colDef.maxWidth,m-=h,n--,d+=h,g.drawnWidth=h,e.splice(f,1));b=parseInt(m/n,10),e.forEach(function(e){var t=parseInt(b*e.width.length,10);d+=t,e.drawnWidth=t})}var w=i-parseInt(d,10);if(w>0&&d>0&&i>d){var y=!1;if(p.forEach(function(e){e.width&&!angular.isNumber(e.width)&&(y=!0)}),y)for(var C=function(e){w>0&&(e.drawnWidth=e.drawnWidth+1,d+=1,w--)};w>0;)p.forEach(C)}return i>d&&(d=i),p.forEach(function(e){u+=e.getColClassDefinition()}),c.verticalScrollbarWidth&&(d+=c.verticalScrollbarWidth),p.length>0&&(p[p.length-1].headerWidth=p[p.length-1].drawnWidth-30),s.colContainer.canvasWidth=parseInt(d,10),u}var l=o[0],s=o[1];e.debug("ui-grid-header link");var c=l.grid;r.disableAnimations(n),s.header=n;var d=n[0].getElementsByClassName("ui-grid-header-viewport")[0];d&&(s.headerViewport=d),l&&l.grid.registerStyleComputation({priority:5,func:a})}}}}}])}(),function(){angular.module("ui.grid").service("uiGridGridMenuService",["$log","i18nService",function(e,t){var n={initialize:function(e,t){t.gridMenuScope=e,e.grid=t,e.$on("$destroy",function(){e.grid.gridMenuScope=null,e.grid=null,e.registeredMenuItems=null}),e.registeredMenuItems=[],t.api.registerMethod("core","addToGridMenu",n.addToGridMenu),t.api.registerMethod("core","removeFromGridMenu",n.removeFromGridMenu)},addToGridMenu:function(t,n){angular.isArray(n)?t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems.concat(n):e.error("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(t,n){var i=-1;t.gridMenuScope.registeredMenuItems.forEach(function(t,r){t.id===n&&(i>-1?e.error("removeFromGridMenu: found multiple items with the same id, removing only the last"):i=r)}),i>-1&&t.gridMenuScope.registeredMenuItems.splice(i,1)},getMenuItems:function(t){var i=[];return t.grid.options.gridMenuCustomItems&&(angular.isArray(t.grid.options.gridMenuCustomItems)?i=i.concat(t.grid.options.gridMenuCustomItems):e.error("gridOptions.gridMenuCustomItems must be an array, and is not")),i=i.concat(t.registeredMenuItems),t.grid.options.gridMenuShowHideColumns!==!1&&(i=i.concat(n.showHideColumns(t))),i},showHideColumns:function(i){var r=[];return i.grid.options.columnDefs?(r.push({title:t.getSafeText("gridMenu.columns")}),i.grid.options.gridMenuTitleFilter=i.grid.options.gridMenuTitleFilter?i.grid.options.gridMenuTitleFilter:function(e){return e},i.grid.options.columnDefs.forEach(function(e){if(!e.disableHiding){var t={icon:"ui-grid-icon-ok",action:function(e){e.stopPropagation(),n.toggleColumnVisibility(this.context.gridCol)},shown:function(){return this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible},context:{gridCol:i.grid.getColumn(e.name||e.field)}};n.setMenuItemTitle(t,e,i.grid),r.push(t),t={icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),n.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible)},context:{gridCol:i.grid.getColumn(e.name||e.field)}},n.setMenuItemTitle(t,e,i.grid),r.push(t)}}),r):(e.error("Something is wrong in showHideColumns, there are no columnDefs"),r)},setMenuItemTitle:function(t,n,i){var r=i.options.gridMenuTitleFilter(n.displayName||n.name||n.field);"string"==typeof r?t.title=r:r.then?(t.title="",r.then(function(e){t.title=e},function(e){t.title=e})):(e.error("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),t.title="badconfig")},toggleColumnVisibility:function(e){e.colDef.visible=!(e.colDef.visible===!0||void 0===e.colDef.visible),e.grid.refresh()}};return n}]).directive("uiGridMenuButton",["$log","gridUtil","uiGridConstants","uiGridGridMenuService",function(e,t,n,i){return{priority:0,scope:!0,require:["?^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(e,t,n,r){var o=r[0];i.initialize(e,o.grid),e.shown=!1,e.toggleMenu=function(){e.shown?(e.$broadcast("hide-menu"),e.shown=!1):(e.menuItems=i.getMenuItems(e),e.$broadcast("show-menu"),e.shown=!0)},e.$on("menu-hidden",function(){e.shown=!1})}}}])}(),function(){angular.module("ui.grid").directive("uiGridMenu",["$log","$compile","$timeout","$window","$document","gridUtil","uiGridConstants",function(e,t,n,i,r,o,a){var l={priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(e,t){var r,l,s=this;s.showMenu=e.showMenu=function(i,a){e.shown?e.shownMid||(r=t[0].querySelectorAll(".ui-grid-menu-mid"),l=o.enableAnimations(r),l?(e.shownMid=!0,l.removeClass(r,"ng-hide",function(){e.$emit("menu-shown")})):(e.shownMid=!0,e.$emit("menu-shown"))):(e.shown=!0,n(function(){r=t[0].querySelectorAll(".ui-grid-menu-mid"),l=o.enableAnimations(r),l?(e.shownMid=!0,l.removeClass(r,"ng-hide",function(){e.$emit("menu-shown")})):(e.shownMid=!0,e.$emit("menu-shown"))}));var s="click";a&&a.originalEvent&&a.originalEvent.type&&"touchstart"===a.originalEvent.type&&(s=a.originalEvent.type),angular.element(document).off("click touchstart",c),n(function(){angular.element(document).on(s,c)})},s.hideMenu=e.hideMenu=function(){e.shown&&(r=t[0].querySelectorAll(".ui-grid-menu-mid"),l=o.enableAnimations(r),l?(e.shownMid=!1,l.addClass(r,"ng-hide",function(){e.shownMid||(e.shown=!1,e.$emit("menu-hidden"))})):(e.shownMid=!1,e.shown=!1)),angular.element(document).off("click touchstart",c)},e.$on("hide-menu",function(t,n){e.hideMenu(t,n)}),e.$on("show-menu",function(t,n){e.showMenu(t,n)});var c=function(){e.$apply(function(){e.hideMenu()})};("undefined"==typeof e.autoHide||void 0===e.autoHide)&&(e.autoHide=!0),e.autoHide&&angular.element(i).on("resize",c),e.$on("$destroy",function(){angular.element(document).off("click touchstart",c)}),e.$on("$destroy",function(){angular.element(i).off("resize",c)}),e.$on("$destroy",e.$on(a.events.GRID_SCROLL,c)),e.$on("$destroy",e.$on(a.events.ITEM_DRAGGING,c))},controller:["$scope","$element","$attrs",function(){}]};return l}]).directive("uiGridMenuItem",["$log","gridUtil","$compile","i18nService",function(e,t,n,i){var r={priority:0,scope:{title:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"="},require:["?^uiGrid","^uiGridMenu"],templateUrl:"ui-grid/uiGridMenuItem",replace:!0,compile:function(){return{pre:function(e,i,r,o){o[0],o[1],e.templateUrl&&t.getTemplate(e.templateUrl).then(function(t){var r=angular.element(t),o=n(r)(e);i.replaceWith(o)})},post:function(t,n,r,o){var a=o[0];o[1],("undefined"==typeof t.shown||null===t.shown)&&(t.shown=function(){return!0}),t.itemShown=function(){var e={};return t.context&&(e.context=t.context),"undefined"!=typeof a&&a&&(e.grid=a.grid),t.shown.call(e)},t.itemAction=function(n,i){if(e.debug("itemAction"),n.stopPropagation(),"function"==typeof t.action){var r={};t.context&&(r.context=t.context),"undefined"!=typeof a&&a&&(r.grid=a.grid),t.action.call(r,n,i),t.$emit("hide-menu")}},t.i18n=i.get()}}}};return r}])}(),function(){angular.module("ui.grid").directive("uiGridNativeScrollbar",["$log","$timeout","$document","uiGridConstants","gridUtil",function(e,t,n,i,r){var o=r.getScrollbarWidth();angular.isNumber(o)||(o=0);var a=r.detectBrowser();return"ie"===a&&(o+=1),{scope:{type:"@"},require:["^uiGrid","^uiGridRenderContainer"],link:function(e,t,n,a){function l(){var e=f.getViewportHeight(),t=f.getCanvasHeight(),n=g.headerHeight?g.headerHeight:h.headerHeight,i=".grid"+h.id+" .ui-grid-render-container-"+p.containerId+" .ui-grid-native-scrollbar.vertical .contents { height: "+t+"px; }";return i+="\n .grid"+h.id+" .ui-grid-render-container-"+p.containerId+" .ui-grid-native-scrollbar.vertical { height: "+e+"px; top: "+n+"px}",b=t,i}function s(){var e=g.getCanvasWidth(),t=-1*o+y;h.options.showFooter&&(t-=1);var n=".grid"+h.id+" .ui-grid-render-container-"+p.containerId+" .ui-grid-native-scrollbar.horizontal { bottom: "+t+"px; }";return n+=".grid"+h.id+" .ui-grid-render-container-"+p.containerId+" .ui-grid-native-scrollbar.horizontal .contents { width: "+e+"px; }",b=e,n}function c(){if("vertical"===e.type){h.flagScrollingVertically();var n=t[0].scrollTop,i=f.getCanvasHeight()-f.getViewportHeight();h.horizontalScrollbarHeight&&h.horizontalScrollbarHeight>0&&(i-=u.grid.horizontalScrollbarHeight);var o=n/i;o>1&&(o=1),0>o&&(o=0);var a={target:t,y:{percentage:o}};e.scrollSource?e.scrollSource=null:u.fireScrollingEvent(a),v=n}else if("horizontal"===e.type){h.flagScrollingHorizontally();var l=r.normalizeScrollLeft(t),s=g.getCanvasWidth()-g.getViewportWidth(),c=l/s,d={target:t,x:{percentage:c}};e.scrollSource?e.scrollSource=null:u.fireScrollingEvent(d),v=l}}function d(n,i){if(!i.target||i.target!==t&&!angular.element(i.target).hasClass("ui-grid-native-scrollbar"))if(e.scrollSource=i.target,"vertical"===e.type){if(i.y&&"undefined"!=typeof i.y.percentage&&void 0!==i.y.percentage){h.flagScrollingVertically();var o=f.getCanvasHeight()-f.getViewportHeight(),a=Math.max(0,i.y.percentage*o);t[0].scrollTop=a}}else if("horizontal"===e.type&&i.x&&"undefined"!=typeof i.x.percentage&&void 0!==i.x.percentage){h.flagScrollingHorizontally();var l=g.getCanvasWidth()-g.getViewportWidth(),s=Math.max(0,i.x.percentage*l);t[0].scrollLeft=r.denormalizeScrollLeft(t,s)}}var u=a[0],p=a[1],f=p.rowContainer,g=p.colContainer,h=u.grid,m=angular.element('<div class="contents">&nbsp;</div>');t.addClass("ui-grid-native-scrollbar");var v,b=0;"vertical"===e.type?(t.css("width",o+"px"),t.addClass("vertical"),h.verticalScrollbarWidth=o,g.verticalScrollbarWidth=o,v=t[0].scrollTop):"horizontal"===e.type&&(t.css("height",o+"px"),t.addClass("horizontal"),h.horizontalScrollbarHeight=o,f.horizontalScrollbarHeight=o,v=r.normalizeScrollLeft(t)),t.append(m),"vertical"===e.type?b=r.elementHeight(t):"horizontal"===e.type&&(b=r.elementWidth(t));var w=r.closestElm(t,".ui-grid"),y=r.getBorderSize(w,"bottom");"vertical"===e.type?h.registerStyleComputation({priority:6,func:l}):"horizontal"===e.type&&h.registerStyleComputation({priority:6,func:s}),e.scrollSource=null,t.on("scroll",c),t.on("$destroy",function(){t.off("scroll")});var C=e.$on(i.events.GRID_SCROLL,d);e.$on("$destroy",C)}}}])}(),function(){"use strict";var e=angular.module("ui.grid");e.directive("uiGridRenderContainer",["$log","$timeout","$document","uiGridConstants","gridUtil",function(e,t,n,i,r){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableScrollbars:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(t,n,i,r){e.debug("render container "+t.containerId+" pre-link");var o=r[0],a=r[1],l=t.grid=o.grid;if(!t.rowContainerName)throw"No row render container name specified";if(!t.colContainerName)throw"No column render container name specified";if(!l.renderContainers[t.rowContainerName])throw"Row render container '"+t.rowContainerName+"' is not registered.";if(!l.renderContainers[t.colContainerName])throw"Column render container '"+t.colContainerName+"' is not registered.";var s=t.rowContainer=l.renderContainers[t.rowContainerName],c=t.colContainer=l.renderContainers[t.colContainerName];a.containerId=t.containerId,a.rowContainer=s,a.colContainer=c},post:function(o,a,l,s){function c(e,t){if(t.y&&o.bindScrollVertical){g.prevScrollArgs=t;var n=m.getCanvasHeight()-m.getViewportHeight();h.horizontalScrollbarHeight&&h.horizontalScrollbarHeight>0&&(n+=h.horizontalScrollbarHeight);var i,a=g.viewport[0].scrollTop;if("undefined"!=typeof t.y.percentage&&void 0!==t.y.percentage)i=t.y.percentage;else{if("undefined"==typeof t.y.pixels||void 0===t.y.pixels)throw new Error("No percentage or pixel value provided for scroll event Y axis");i=t.y.percentage=(a+t.y.pixels)/n}var l=Math.max(0,i*n);g.viewport[0].scrollTop=l,g.prevScrollArgs.y.pixels=l-a}if(t.x&&o.bindScrollHorizontal){g.prevScrollArgs=t;var s,c=v.getCanvasWidth()-v.getViewportWidth(),d=r.normalizeScrollLeft(g.viewport);if("undefined"!=typeof t.x.percentage&&void 0!==t.x.percentage)s=t.x.percentage;else{if("undefined"==typeof t.x.pixels||void 0===t.x.pixels)throw new Error("No percentage or pixel value provided for scroll event X axis");s=t.x.percentage=(d+t.x.pixels)/c}var u=Math.max(0,s*c);g.viewport[0].scrollLeft=r.denormalizeScrollLeft(g.viewport,u),g.prevScrollLeft=u,g.headerViewport&&(g.headerViewport.scrollLeft=r.denormalizeScrollLeft(g.headerViewport,u)),g.footerViewport&&(g.footerViewport.scrollLeft=r.denormalizeScrollLeft(g.footerViewport,u)),g.prevScrollArgs.x.pixels=u-d}}function d(e){e.originalEvent&&(e=e.originalEvent),e.preventDefault();var t,n,i,r;i=e.targetTouches[0].screenX,r=e.targetTouches[0].screenY,t=-(i-x),n=-(r-C),$=1>n?-1:1,T=1>t?-1:1,n*=2,t*=2;var o={target:e.target};if(0!==n){var a=(E+n)/(m.getCanvasHeight()-m.getViewportHeight());a>1?a=1:0>a&&(a=0),o.y={percentage:a,pixels:n}}if(0!==t){var l=(S+t)/(v.getCanvasWidth()-v.getViewportWidth());l>1?l=1:0>l&&(l=0),o.x={percentage:l,pixels:t}}f.fireScrollingEvent(o)}function u(e){function i(){t(function(){var t={target:e.target};if(0!==w){var n=(g.viewport[0].scrollTop+w)/(m.getCanvasHeight()-m.getViewportHeight());t.y={percentage:n,pixels:w}}if(0!==C){var r=(g.viewport[0].scrollLeft+C)/(v.getCanvasWidth()-v.getViewportWidth());t.x={percentage:r,pixels:C}}f.fireScrollingEvent(t),b-=1,w/=2,C/=2,b>0?i():f.scrollbars.forEach(function(e){e.removeClass("ui-grid-scrollbar-visible"),e.removeClass("ui-grid-scrolling")})},h)}e.originalEvent&&(e=e.originalEvent),e.preventDefault(),n.unbind("touchmove",d),n.unbind("touchend",u),n.unbind("touchcancel",u);var r=g.viewport[0].scrollTop,o=g.viewport[0].scrollTop,a=Math.abs(r-E),l=Math.abs(o-S),s=new Date-y,c=a/s,p=l/s,h=63,b=8,w=120*$*c,C=120*T*p;i()}function p(){var e="",t=v.getCanvasWidth(),n=v.getViewportWidth(),i=m.getCanvasHeight(),r=m.getViewportHeight(),a=v.getHeaderViewportWidth(),l=v.getHeaderViewportWidth();return e+="\n .grid"+f.grid.id+" .ui-grid-render-container-"+o.containerId+" .ui-grid-canvas { width: "+t+"px; height: "+i+"px; }",e+="\n .grid"+f.grid.id+" .ui-grid-render-container-"+o.containerId+" .ui-grid-header-canvas { width: "+t+"px; }",e+="\n .grid"+f.grid.id+" .ui-grid-render-container-"+o.containerId+" .ui-grid-viewport { width: "+n+"px; height: "+r+"px; }",e+="\n .grid"+f.grid.id+" .ui-grid-render-container-"+o.containerId+" .ui-grid-header-viewport { width: "+a+"px; }",e+="\n .grid"+f.grid.id+" .ui-grid-render-container-"+o.containerId+" .ui-grid-footer-canvas { width: "+t+"px; }",e+="\n .grid"+f.grid.id+" .ui-grid-render-container-"+o.containerId+" .ui-grid-footer-viewport { width: "+l+"px; }",void 0!==b.explicitHeaderHeight&&null!==b.explicitHeaderHeight&&b.explicitHeaderHeight>0?e+="\n .grid"+f.grid.id+" .ui-grid-render-container-"+o.containerId+" .ui-grid-header-cell { height: "+b.explicitHeaderHeight+"px; }":void 0!==b.innerHeaderHeight&&null!==b.innerHeaderHeight&&b.innerHeaderHeight>0&&(e+="\n .grid"+f.grid.id+" .ui-grid-render-container-"+o.containerId+" .ui-grid-header-cell { height: "+b.innerHeaderHeight+"px; }"),e}e.debug("render container "+o.containerId+" post-link");var f=s[0],g=s[1],h=f.grid,m=g.rowContainer,v=g.colContainer,b=h.renderContainers[o.containerId];a.addClass("ui-grid-render-container-"+o.containerId);var w;(o.bindScrollHorizontal||o.bindScrollVertical)&&(w=o.$on(i.events.GRID_SCROLL,c)),a.bind("wheel mousewheel DomMouseScroll MozMousePixelScroll",function(e){e.preventDefault();var t=r.normalizeWheelEvent(e),n={target:a};if(0!==t.deltaY){var i=-120*t.deltaY,o=(g.viewport[0].scrollTop+i)/(m.getCanvasHeight()-m.getViewportHeight());0>o?o=0:o>1&&(o=1),n.y={percentage:o,pixels:i}}if(0!==t.deltaX){var l=-120*t.deltaX,s=r.normalizeScrollLeft(g.viewport),c=(s+l)/(v.getCanvasWidth()-v.getViewportWidth());0>c?c=0:c>1&&(c=1),n.x={percentage:c,pixels:l}}f.fireScrollingEvent(n)});var y,C=0,x=0,E=0,S=0,$=1,T=1;r.isTouchEnabled()&&a.bind("touchstart",function(e){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),f.scrollbars.forEach(function(e){e.addClass("ui-grid-scrollbar-visible"),e.addClass("ui-grid-scrolling")}),y=new Date,C=e.targetTouches[0].screenY,x=e.targetTouches[0].screenX,E=g.viewport[0].scrollTop,S=g.viewport[0].scrollLeft,n.on("touchmove",d),n.on("touchend touchcancel",u)}),a.bind("$destroy",function(){w(),a.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(e){a.unbind(e)})}),f.grid.registerStyleComputation({priority:6,func:p})}}}}}]),e.controller("uiGridRenderContainer",["$scope","$log",function(e){var t=this;t.rowStyle=function(n){var i=e.grid.renderContainers[e.containerId],r={};if(!i.disableRowOffset&&0===n&&0!==t.currentTopRow){var o=e.rowContainer.currentTopRow*e.rowContainer.visibleRowCache[e.rowContainer.currentTopRow].height;r["margin-top"]=o+"px"}return i.disableColumnOffset||0===e.colContainer.currentFirstColumn||(e.grid.isRTL()?r["margin-right"]=e.colContainer.columnOffset+"px":r["margin-left"]=e.colContainer.columnOffset+"px"),r},t.columnStyle=function(t){var n=e.grid.renderContainers[e.containerId];if(!n.disableColumnOffset&&0===t&&0!==e.colContainer.currentFirstColumn){var i=e.colContainer.columnOffset;return e.grid.isRTL()?{"margin-right":i+"px"}:{"margin-left":i+"px"}}return null}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["$log",function(){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(e,t,n,i){var r=i[0],o=i[1],a=r.grid;e.grid=r.grid,e.colContainer=o.colContainer,a.getRowTemplateFn.then(function(n){n(e,function(e){t.replaceWith(e)})})},post:function(e,t,n,i){var r=i[0];i[1],e.getExternalScopes=r.getExternalScopes}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridStyle",["$log","$interpolate",function(e,t){return{link:function(n,i){e.debug("ui-grid-style link");var r=t(i.text(),!0);r&&n.$watch(r,function(e){i.text(e)})}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["$log","gridUtil",function(e,t){return{replace:!0,scope:{},templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(n,i,r,o){e.debug("viewport post-link");var a=o[0],l=o[1];n.containerCtrl=l;var s=l.rowContainer,c=l.colContainer;a.grid,n.grid=a.grid,n.rowContainer=l.rowContainer,n.colContainer=l.colContainer,l.viewport=i,i.on("scroll",function(){var e=i[0].scrollTop,r=t.normalizeScrollLeft(i),o=-1,l=-1;if(r!==c.prevScrollLeft){var d=(r-c.prevScrollLeft,c.getCanvasWidth()-c.getViewportWidth());o=r/d,c.adjustScrollHorizontal(r,o)}if(e!==s.prevScrollTop){var u=(e-s.prevScrollTop,s.getCanvasHeight()-s.getViewportHeight());l=e/u,l>1&&(l=1),0>l&&(l=0),s.adjustScrollVertical(e,l)}if(!n.grid.isScrollingVertically&&!n.grid.isScrollingHorizontally){var p={};o>-1&&(p.x={percentage:o}),l>-1&&(p.y={percentage:l}),a.fireScrollingEvent(p)}})}}}])}(),function(){angular.module("ui.grid").directive("uiGridVisible",function(){
return function(e,t,n){e.$watch(n.uiGridVisible,function(e){t[e?"removeClass":"addClass"]("ui-grid-invisible")})}})}(),function(){"use strict";angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","$log","gridUtil","$q","uiGridConstants","$templateCache","gridClassFactory","$timeout","$parse","$compile",function(e,t,n,i,r,o,a,l,s,c,d,u){function p(e,t){e&&e!==t&&(g.grid.options.columnDefs=e,g.grid.buildColumns().then(function(){g.grid.preCompileCellTemplates(),g.grid.refresh()}))}function f(t){var r=[];t&&(g.grid.columns.length===(g.grid.rowHeaderColumns?g.grid.rowHeaderColumns.length:0)&&(i.debug("loading cols in dataWatchFunction"),n.uiGridColumns||0!==g.grid.options.columnDefs.length||g.grid.buildColumnDefsFromData(t),r.push(g.grid.buildColumns().then(function(){g.grid.preCompileCellTemplates()}))),o.all(r).then(function(){g.grid.modifyRows(t).then(function(){g.grid.redrawInPlace(),e.$evalAsync(function(){g.grid.refreshCanvas(!0)})})}))}i.debug("ui-grid controller");var g=this;g.grid=s.createGrid(e.uiGrid),t.addClass("grid"+g.grid.id),g.grid.rtl="rtl"===r.getStyles(t[0]).direction,g.getExternalScopes=e.getExternalScopes,e.grid=g.grid,n.uiGridColumns&&n.$observe("uiGridColumns",function(e){g.grid.options.columnDefs=e,g.grid.buildColumns().then(function(){g.grid.preCompileCellTemplates(),g.grid.refreshCanvas(!0)})});var h;h=angular.isString(e.uiGrid.data)?e.$parent.$watchCollection(e.uiGrid.data,f):e.$parent.$watchCollection(function(){return e.uiGrid.data},f);var m=e.$parent.$watchCollection(function(){return e.uiGrid.columnDefs},p);e.$on("$destroy",function(){h(),m()}),e.$watch(function(){return g.grid.styleComputations},function(){g.grid.refreshCanvas(!0)}),g.fireScrollingEvent=r.throttle(function(t){e.$broadcast(a.events.GRID_SCROLL,t)},g.grid.options.scrollThrottle,{trailing:!0}),g.fireEvent=function(t,n){("undefined"==typeof n||void 0===n)&&(n={}),("undefined"==typeof n.grid||void 0===n.grid)&&(n.grid=g.grid),e.$broadcast(t,n)},g.innerCompile=function(t){u(t)(e)}}]),angular.module("ui.grid").directive("uiGrid",["$log","$compile","$templateCache","gridUtil","$window",function(e,t,n,i,r){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"=",getExternalScopes:"&?externalScopes"},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(t,n,o,a){function l(){s.gridWidth=t.gridWidth=i.elementWidth(n),s.gridHeight=t.gridHeight=i.elementHeight(n),s.queueRefresh()}e.debug("ui-grid postlink");var s=a.grid;if(a.scrollbars=[],s.renderingComplete(),s.element=n,s.gridWidth=t.gridWidth=i.elementWidth(n),s.canvasWidth=a.grid.gridWidth,s.gridHeight=t.gridHeight=i.elementHeight(n),s.gridHeight<s.options.rowHeight){var c=s.options.minRowsToShow*s.options.rowHeight;n.css("height",c+"px"),s.gridHeight=t.gridHeight=i.elementHeight(n)}s.refreshCanvas();var d=angular.element('<div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div>');n.prepend(d),a.innerCompile(d);var u=angular.element('<div  ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div>');n.append(u),a.innerCompile(u),t.$watch(function(){return s.hasLeftContainer()},function(e,t){e!==t&&s.refreshCanvas(!0)}),t.$watch(function(){return s.hasRightContainer()},function(e,t){e!==t&&s.refreshCanvas(!0)}),angular.element(r).on("resize",l),n.on("$destroy",function(){angular.element(r).off("resize",l)})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["$log",function(e){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(t,n,i,r){function o(){var e="";if("left"===t.side||"right"===t.side){for(var i=a.renderContainers[t.side].visibleColumnCache,r=0,o=0;o<i.length;o++){var s=i[o];r+=s.drawnWidth}l=r,n.attr("style",null);var c=a.renderContainers.body.getViewportHeight();e+=".grid"+a.id+" .ui-grid-pinned-container-"+t.side+", .grid"+a.id+" .ui-grid-pinned-container-"+t.side+" .ui-grid-render-container-"+t.side+" .ui-grid-viewport { width: "+l+"px; height: "+c+"px; } "}return e}e.debug("ui-grid-pinned-container "+t.side+" link");var a=r.grid,l=0;n.addClass("ui-grid-pinned-container-"+t.side),a.renderContainers.body.registerViewportAdjuster(function(e){return e.width-=l,e}),a.registerStyleComputation({priority:15,func:o})}}}}}])}(),function(){angular.module("ui.grid").factory("Grid",["$log","$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout",function(e,t,n,i,r,o,a,l,s,c,d,u,p,f){function g(){}var h=function(e){var t=this;if(void 0===e||"undefined"==typeof e.id||!e.id)throw new Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(e.id))throw new Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.');t.id=e.id,delete e.id,t.options=new a,angular.extend(t.options,e),t.headerHeight=t.options.headerRowHeight,t.footerHeight=t.options.showFooter===!0?t.options.footerRowHeight:0,t.rtl=!1,t.gridHeight=0,t.gridWidth=0,t.columnBuilders=[],t.rowBuilders=[],t.rowsProcessors=[],t.columnsProcessors=[],t.styleComputations=[],t.viewportAdjusters=[],t.rowHeaderColumns=[],t.renderContainers={},t.renderContainers.body=new p("body",t),t.cellValueGetterCache={},t.getRowTemplateFn=null,t.rows=[],t.columns=[],t.isScrollingVertically=!1,t.isScrollingHorizontally=!1;var n=r.debounce(function(){t.isScrollingVertically=!1},300),i=r.debounce(function(){t.isScrollingHorizontally=!1},300);t.flagScrollingVertically=function(){t.isScrollingVertically=!0,n()},t.flagScrollingHorizontally=function(){t.isScrollingHorizontally=!0,i()},t.api=new c(t),t.api.registerMethod("core","refresh",this.refresh),t.api.registerMethod("core","refreshRows",this.refreshRows),t.api.registerMethod("core","handleWindowResize",this.handleWindowResize),t.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),t.api.registerMethod("core","sortHandleNulls",d.handleNulls),t.api.registerEvent("core","sortChanged")};return h.prototype.isRTL=function(){return this.rtl},h.prototype.registerColumnBuilder=function(e){this.columnBuilders.push(e)},h.prototype.buildColumnDefsFromData=function(e){this.options.columnDefs=r.getColumnsFromData(e,this.options.excludeProperties)},h.prototype.registerRowBuilder=function(e){this.rowBuilders.push(e)},h.prototype.getColumn=function(e){var t=this.columns.filter(function(t){return t.colDef.name===e});return t.length>0?t[0]:null},h.prototype.getColDef=function(e){var t=this.options.columnDefs.filter(function(t){return t.name===e});return t.length>0?t[0]:null},h.prototype.assignTypes=function(){var t=this;t.options.columnDefs.forEach(function(n,i){if(!n.type){var o=new l(n,i,t),a=t.rows.length>0?t.rows[0]:null;a?n.type=r.guessType(t.getCellValue(a,o)):(e.log("Unable to assign type from data, so defaulting to string"),n.type="string")}})},h.prototype.addRowHeaderColumn=function(e){var t=this,n=new l(e,t.rowHeaderColumns.length,t);n.isRowHeader=!0,t.isRTL()?(t.createRightContainer(),n.renderContainer="right"):(t.createLeftContainer(),n.renderContainer="left"),t.columnBuilders[0](e,n,t.options).then(function(){n.enableFiltering=!1,n.enableSorting=!1,n.disableHiding=!0,t.rowHeaderColumns.push(n),t.buildColumns().then(function(){t.preCompileCellTemplates(),t.handleWindowResize()})})},h.prototype.buildColumns=function(){e.debug("buildColumns");var n,i=this,o=[],a=i.rowHeaderColumns.length;for(n=0;n<i.columns.length;n++)i.getColDef(i.columns[n].name)||(i.columns.splice(n,1),n--);return i.rowHeaderColumns.forEach(function(e){i.columns.unshift(e)}),i.options.columnDefs.forEach(function(e,t){i.preprocessColDef(e);var n=i.getColumn(e.name);n?n.updateColumnDef(e):(n=new l(e,r.nextUid(),i),i.columns.splice(t+a,0,n)),i.columnBuilders.forEach(function(t){o.push(t.call(i,e,n,i.options))})}),t.all(o)},h.prototype.preCompileCellTemplates=function(){var e=this;this.columns.forEach(function(t){var i=t.cellTemplate.replace(o.MODEL_COL_FIELD,e.getQualifiedColField(t));i=i.replace(o.COL_FIELD,"grid.getCellValue(row, col)");var r=n(i);t.compiledElementFn=r,t.compiledElementFnDefer&&t.compiledElementFnDefer.resolve(t.compiledElementFn)})},h.prototype.getQualifiedColField=function(e){return"row.entity."+r.preEval(e.field)},h.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new p("left",this,{disableColumnOffset:!0}))},h.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new p("right",this,{disableColumnOffset:!0}))},h.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},h.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},h.prototype.preprocessColDef=function(e){if(!e.field&&!e.name)throw new Error("colDef.name or colDef.field property is required");void 0===e.name&&void 0!==e.field&&(e.name=e.field)},h.prototype.newInN=function(e,t,n,i){for(var r=this,o=[],a=0;a<t.length;a++){for(var l=i?t[a][i]:t[a],s=!1,c=0;c<e.length;c++){var d=n?e[c][n]:e[c];if(r.options.rowEquality(l,d)){s=!0;break}}s||o.push(l)}return o},h.prototype.getRow=function(e){var t=this.rows.filter(function(t){return t.entity===e});return t.length>0?t[0]:null},h.prototype.modifyRows=function(e){var n,i,r=this;if(0===r.rows.length&&e.length>0){if(r.options.enableRowHashing)for(r.rowHashMap||r.createRowHashMap(),n=0;n<e.length;n++)i=e[n],r.rowHashMap.put(i,{i:n,entity:i});r.addRows(e),r.assignTypes()}else if(e.length>0){var o,a,l;if(r.options.enableRowHashing){o=[],l=[];var s={};a=[],r.rowHashMap||r.createRowHashMap();var c=r.rowHashMap;for(n=0;n<e.length;n++){i=e[n];var d=!1;r.options.getRowIdentity(i)||(d=!0);var u=c.get(i);u?u.row&&(s[r.options.rowIdentity(i)]=!0):(c.put(i,{i:n,entity:i}),d?l.push(i):o.push(i))}for(n=0;n<r.rows.length;n++){var p=r.rows[n],f=r.options.rowIdentity(p.entity);s[f]||a.push(p)}}var g=o||[],h=l||e;g=g.concat(r.newInN(r.rows,h,"entity")),r.addRows(g);var m=r.getDeletedRows(a||r.rows,e);for(n=0;n<m.length;n++)r.options.enableRowHashing&&r.rowHashMap.remove(m[n].entity),r.rows.splice(r.rows.indexOf(m[n]),1)}else r.createRowHashMap(),r.rows.length=0;var v=t.when(r.processRowsProcessors(r.rows)).then(function(e){return r.setVisibleRows(e)}),b=t.when(r.processColumnsProcessors(r.columns)).then(function(e){return r.setVisibleColumns(e)});return t.all([v,b])},h.prototype.getDeletedRows=function(e,t){var n=this,i=e.filter(function(e){return!t.some(function(t){return n.options.rowEquality(t,e.entity)})});return i},h.prototype.addRows=function(e){for(var t=this,n=t.rows.length,i=0;i<e.length;i++){var r=t.processRowBuilders(new s(e[i],i+n,t));if(t.options.enableRowHashing){var o=t.rowHashMap.get(r.entity);o&&(o.row=r)}t.rows.push(r)}},h.prototype.processRowBuilders=function(e){var t=this;return t.rowBuilders.forEach(function(n){n.call(t,e,t.gridOptions)}),e},h.prototype.registerStyleComputation=function(e){this.styleComputations.push(e)},h.prototype.registerRowsProcessor=function(e){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.rowsProcessors.push(e)},h.prototype.removeRowsProcessor=function(e){var t=this.rowsProcessors.indexOf(e);"undefined"!=typeof t&&void 0!==t&&this.rowsProcessors.splice(t,1)},h.prototype.processRowsProcessors=function(e){function n(e,r){var a=i.rowsProcessors[e];return t.when(a.call(i,r,i.columns)).then(function(t){if(!t)throw"Processor at index "+e+" did not return a set of renderable rows";if(!angular.isArray(t))throw"Processor at index "+e+" did not return an array";return e++,e<=i.rowsProcessors.length-1?n(e,t):void o.resolve(t)})}var i=this,r=e.slice(0);if(0===i.rowsProcessors.length)return t.when(r);var o=t.defer();return n(0,r),o.promise},h.prototype.setVisibleRows=function(e){var t=this;for(var n in t.renderContainers){var i=t.renderContainers[n];i.visibleRowCache.length=0}for(var r=0;r<e.length;r++){var o=e[r];o.visible&&("undefined"!=typeof o.renderContainer&&o.renderContainer?t.renderContainers[o.renderContainer].visibleRowCache.push(o):t.renderContainers.body.visibleRowCache.push(o))}},h.prototype.registerColumnsProcessor=function(e){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.columnsProcessors.push(e)},h.prototype.removeColumnsProcessor=function(e){var t=this.columnsProcessors.indexOf(e);"undefined"!=typeof t&&void 0!==t&&this.columnsProcessors.splice(t,1)},h.prototype.processColumnsProcessors=function(e){function n(e,a){var l=i.columnsProcessors[e];return t.when(l.call(i,a,i.rows)).then(function(t){if(!t)throw"Processor at index "+e+" did not return a set of renderable rows";if(!angular.isArray(t))throw"Processor at index "+e+" did not return an array";return e++,e<=i.columnsProcessors.length-1?n(e,r):void o.resolve(r)})}var i=this,r=e.slice(0);if(0===i.columnsProcessors.length)return t.when(r);var o=t.defer();return n(0,r),o.promise},h.prototype.setVisibleColumns=function(e){var t=this;for(var n in t.renderContainers){var i=t.renderContainers[n];i.visibleColumnCache.length=0}for(var r=0;r<e.length;r++){var o=e[r];o.visible&&("undefined"!=typeof o.renderContainer&&o.renderContainer?t.renderContainers[o.renderContainer].visibleColumnCache.push(o):t.renderContainers.body.visibleColumnCache.push(o))}},h.prototype.handleWindowResize=function(){var e=this;e.gridWidth=r.elementWidth(e.element),e.gridHeight=r.elementHeight(e.element),e.queueRefresh()},h.prototype.queueRefresh=function(){var e=this;return e.refreshCanceller&&f.cancel(e.refreshCanceller),e.refreshCanceller=f(function(){e.refreshCanvas(!0)}),e.refreshCanceller.then(function(){e.refreshCanceller=null}),e.refreshCanceller},h.prototype.buildStyles=function(){var e=this;e.customStyles="",e.styleComputations.sort(function(e,t){return null===e.priority?1:null===t.priority?-1:null===e.priority&&null===t.priority?0:e.priority-t.priority}).forEach(function(t){var n=t.func.call(e);angular.isString(n)&&(e.customStyles+="\n"+n)})},h.prototype.minColumnsToRender=function(){var e=this,t=this.getViewportWidth(),n=0,i=0;return e.columns.forEach(function(r,o){if(t>i)i+=r.drawnWidth,n++;else{for(var a=0,l=o;l>=o-n;l--)a+=e.columns[l].drawnWidth;t>a&&n++}}),n},h.prototype.getBodyHeight=function(){var e=this.getViewportHeight();return"undefined"!=typeof this.horizontalScrollbarHeight&&void 0!==this.horizontalScrollbarHeight&&this.horizontalScrollbarHeight>0&&(e+=this.horizontalScrollbarHeight),e},h.prototype.getViewportHeight=function(){var e=this,t=this.gridHeight-this.headerHeight-this.footerHeight;"undefined"!=typeof this.horizontalScrollbarHeight&&void 0!==this.horizontalScrollbarHeight&&this.horizontalScrollbarHeight>0&&(t-=this.horizontalScrollbarHeight);var n=e.getViewportAdjustment();return t+=n.height},h.prototype.getViewportWidth=function(){var e=this,t=this.gridWidth;"undefined"!=typeof this.verticalScrollbarWidth&&void 0!==this.verticalScrollbarWidth&&this.verticalScrollbarWidth>0&&(t-=this.verticalScrollbarWidth);var n=e.getViewportAdjustment();return t+=n.width},h.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return"undefined"!=typeof this.verticalScrollbarWidth&&void 0!==this.verticalScrollbarWidth&&this.verticalScrollbarWidth>0&&(e+=this.verticalScrollbarWidth),e},h.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},h.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);"undefined"!=typeof t&&void 0!==t&&this.viewportAdjusters.splice(t,1)},h.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},h.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},h.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},h.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},h.prototype.searchRows=function(e){return u.search(this,e,this.columns)},h.prototype.sortByColumn=function(e){return d.sort(this,e,this.columns)},h.prototype.getCellValue=function(e,t){var n=this;return n.cellValueGetterCache[t.colDef.name]||(n.cellValueGetterCache[t.colDef.name]=i(e.getEntityQualifiedColField(t))),n.cellValueGetterCache[t.colDef.name](e)},h.prototype.getNextColumnSortPriority=function(){var e=this,t=0;return e.columns.forEach(function(e){e.sort&&e.sort.priority&&e.sort.priority>t&&(t=e.sort.priority)}),t+1},h.prototype.resetColumnSorting=function(e){var t=this;t.columns.forEach(function(t){t!==e&&(t.sort={})})},h.prototype.getColumnSorting=function(){var e,t=this,n=[];return e=t.columns.slice(0),e.sort(d.prioritySort).forEach(function(e){e.sort&&"undefined"!=typeof e.sort.direction&&e.sort.direction&&(e.sort.direction===o.ASC||e.sort.direction===o.DESC)&&n.push(e)}),n},h.prototype.sortColumn=function(e,n,i){var r=this,a=null;if("undefined"==typeof e||!e)throw new Error("No column parameter provided");return"boolean"==typeof n?i=n:a=n,i?e.sort.priority=r.getNextColumnSortPriority():(r.resetColumnSorting(e),e.sort.priority=0),e.sort.direction=a?a:e.sort.direction&&e.sort.direction===o.ASC?o.DESC:e.sort.direction&&e.sort.direction===o.DESC?e.colDef&&e.colDef.suppressRemoveSort?o.ASC:null:o.ASC,r.api.core.raise.sortChanged(r,r.getColumnSorting()),t.when(e)},h.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},h.prototype.createRowHashMap=function(){var e=this,t=new g;t.grid=e,e.rowHashMap=t},h.prototype.refresh=function(){e.debug("grid refresh");var n=this,i=n.processRowsProcessors(n.rows).then(function(e){n.setVisibleRows(e)}),r=n.processColumnsProcessors(n.columns).then(function(e){n.setVisibleColumns(e)});return t.all([i,r]).then(function(){n.redrawInPlace(),n.refreshCanvas(!0)})},h.prototype.refreshRows=function(){var e=this;return e.processRowsProcessors(e.rows).then(function(t){e.setVisibleRows(t),e.redrawRows(),e.refreshCanvas()})},h.prototype.refreshCanvas=function(e){var n=this;e&&n.buildStyles();var i=t.defer(),o=[];for(var a in n.renderContainers)if(n.renderContainers.hasOwnProperty(a)){var l=n.renderContainers[a];l.header&&o.push(l)}return f(o.length>0?function(){var t,a,l=!1,s=0;for(t=0;t<o.length;t++)if(a=o[t],a.header){var c=a.headerHeight,d=r.outerElementHeight(a.header);a.headerHeight=parseInt(d,10),c!==d&&(l=!0);var u=r.getBorderSize(a.header,"top"),p=r.getBorderSize(a.header,"bottom"),f=parseInt(d-u-p,10);f=0>f?0:f,a.innerHeaderHeight=f,f>s&&(s=f)}for(t=0;t<o.length;t++)a=o[t],a.headerHeight<s&&(a.explicitHeaderHeight=s);e&&l&&n.buildStyles(),i.resolve()}:function(){i.resolve()}),i.promise},h.prototype.redrawInPlace=function(){var e=this;for(var t in e.renderContainers){var n=e.renderContainers[t];n.adjustRows(n.prevScrollTop,null),n.adjustColumns(n.prevScrollLeft,null)}},g.prototype={put:function(e,t){this[this.grid.options.rowIdentity(e)]=t},get:function(e){return this[this.grid.options.rowIdentity(e)]},remove:function(e){var t=this[e=this.grid.options.rowIdentity(e)];return delete this[e],t}},h}])}(),function(){angular.module("ui.grid").factory("GridApi",["$log","$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(e,t,n,i,r,o){function a(e,t,n,i){return e.$on(t,function(){var e=Array.prototype.slice.call(arguments);e.splice(0,1),n.apply(i.api,e)})}var l=function(e){this.grid=e,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",o.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",o.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",o.prototype.getVisibleRows),this.registerEvent("core","rowsVisibleChanged")};return l.prototype.suppressEvents=function(e,t){var n=this,i=angular.isArray(e)?e:[e],r=[];i.forEach(function(e){r=n.listeners.filter(function(t){return e===t.handler})}),r.forEach(function(e){e.dereg()}),t(),r.forEach(function(e){e.dereg=a(e.scope,e.eventId,e.handler,n.grid)})},l.prototype.registerEvent=function(t,i){var r=this;r[t]||(r[t]={});var o=r[t];o.on||(o.on={},o.raise={});var l=r.grid.id+t+i;e.log("Creating raise event method "+t+".raise."+i),o.raise[i]=function(){n.$broadcast.apply(n,[l].concat(Array.prototype.slice.call(arguments)))},e.log("Creating on event method "+t+".on."+i),o.on[i]=function(e,t){var n=a(e,l,t,r.grid),i={handler:t,dereg:n,eventId:l,scope:e};r.listeners.push(i),e.$on("$destroy",function(){i.dereg=null,i.handler=null,i.eventId=null,i.scope=null})}},l.prototype.registerEventsFromObject=function(e){var t=this,n=[];angular.forEach(e,function(e,t){var i={name:t,events:[]};angular.forEach(e,function(e,t){i.events.push(t)}),n.push(i)}),n.forEach(function(e){e.events.forEach(function(n){t.registerEvent(e.name,n)})})},l.prototype.registerMethod=function(e,t,n,r){this[e]||(this[e]={});var o=this[e];o[t]=i.createBoundedWrapper(r||this.grid,n)},l.prototype.registerMethodsFromObject=function(e,t){var n=this,i=[];angular.forEach(e,function(e,t){var n={name:t,methods:[]};angular.forEach(e,function(e,t){n.methods.push({name:t,fn:e})}),i.push(n)}),i.forEach(function(e){e.methods.forEach(function(i){n.registerMethod(e.name,i.name,i.fn,t)})})},l}])}(),function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService","$log",function(e,t,n,i){function r(e,t,n){var i=this;i.grid=n,i.uid=t,i.updateColumnDef(e)}return r.prototype.setPropertyOrDefault=function(e,t,n){var i=this;i[t]="undefined"!=typeof e[t]&&e[t]?e[t]:"undefined"!=typeof i[t]?i[t]:n?n:{}},r.prototype.updateColumnDef=function(t){var n=this;if(n.colDef=t,void 0===t.name)throw new Error("colDef.name is required for column at index "+n.grid.options.columnDefs.indexOf(t));var o="Cannot parse column width '"+t.width+"' for column named '"+t.name+"'";if(e.isNullOrUndefined(n.width)||!angular.isNumber(n.width))if(e.isNullOrUndefined(t.width))n.width="*";else if(angular.isNumber(t.width))n.width=t.width;else if(e.endsWith(t.width,"%")){var a=t.width.replace(/%/g,""),l=parseInt(a,10);if(isNaN(l))throw new Error(o);n.width=t.width}else if(t.width.match(/^(\d+)$/))n.width=parseInt(t.width.match(/^(\d+)$/)[1],10);else if(!t.width.match(/^\*+$/))throw new Error(o);r.prototype.unsort=function(){this.sort={},n.grid.api.core.raise.sortChanged(n,n.grid.getColumnSorting())},n.minWidth=t.minWidth?t.minWidth:50,n.maxWidth=t.maxWidth?t.maxWidth:9e3,n.field=void 0===t.field?t.name:t.field,"string"!=typeof n.field&&i.error("Field is not a string, this is likely to break the code, Field is: "+n.field),n.name=t.name,n.displayName=void 0===t.displayName?e.readableColumnName(t.name):t.displayName,n.aggregationType=angular.isDefined(t.aggregationType)?t.aggregationType:null,n.footerCellTemplate=angular.isDefined(t.footerCellTemplate)?t.footerCellTemplate:null,n.cellClass=t.cellClass,n.cellFilter=t.cellFilter?t.cellFilter:"",n.headerCellFilter=t.headerCellFilter?t.headerCellFilter:"",n.visible=e.isNullOrUndefined(t.visible)||t.visible,n.headerClass=t.headerClass,n.visible=!0,n.enableSorting="undefined"==typeof t.enableSorting||t.enableSorting,n.sortingAlgorithm=t.sortingAlgorithm,n.enableFiltering="undefined"==typeof t.enableFiltering||t.enableFiltering,n.setPropertyOrDefault(t,"menuItems",[]),n.setPropertyOrDefault(t,"sort");var s=[];t.filter?s.push(t.filter):n.enableFiltering&&n.grid.options.enableFiltering&&s.push({}),n.setPropertyOrDefault(t,"filter"),n.setPropertyOrDefault(t,"filters",s)},r.prototype.getColClass=function(e){var n=t.COL_CLASS_PREFIX+this.uid;return e?"."+n:n},r.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { width: "+this.drawnWidth+"px; }"},r.prototype.getRenderContainer=function(){var e=this,t=e.renderContainer;return(null===t||""===t||void 0===t)&&(t="body"),e.grid.renderContainers[t]},r.prototype.showColumn=function(){this.colDef.visible=!0},r.prototype.hideColumn=function(){this.colDef.visible=!1},r.prototype.getAggregationValue=function(){var e=this,n=0,i=e.grid.getVisibleRows(),r=[];return angular.forEach(i,function(t){var n=e.grid.getCellValue(t,e);angular.isNumber(n)&&r.push(n)}),angular.isFunction(e.aggregationType)?e.aggregationType(i,e):e.aggregationType===t.aggregationTypes.count?e.getAggregationText("aggregation.count",e.grid.getVisibleRowCount()):e.aggregationType===t.aggregationTypes.sum?(angular.forEach(r,function(e){n+=e}),e.getAggregationText("aggregation.sum",n)):e.aggregationType===t.aggregationTypes.avg?(angular.forEach(r,function(e){n+=e}),n/=r.length,e.getAggregationText("aggregation.avg",n)):e.aggregationType===t.aggregationTypes.min?e.getAggregationText("aggregation.min",Math.min.apply(null,r)):e.aggregationType===t.aggregationTypes.max?e.getAggregationText("aggregation.max",Math.max.apply(null,r)):null},r.prototype.getAggregationText=function(e,t){var i=this;return i.colDef.aggregationHideLabel?t:n.getSafeText(e)+t},r.prototype.getCellTemplate=function(){var e=this;return e.cellTemplatePromise},r.prototype.getCompiledElementFn=function(){var e=this;return e.compiledElementFnDefer.promise},r}])}(),function(){angular.module("ui.grid").factory("GridOptions",["gridUtil",function(e){function t(){this.onRegisterApi=angular.noop(),this.data=[],this.columnDefs=[],this.excludeProperties=["$$hashKey"],this.enableRowHashing=!0,this.rowIdentity=function(t){return e.hashKey(t)},this.getRowIdentity=function(e){return e.$$hashKey},this.headerRowHeight=50,this.rowHeight=30,this.maxVisibleRowCount=200,this.minRowsToShow=10,this.showFooter=!1,this.footerRowHeight=30,this.columnWidth=50,this.maxVisibleColumnCount=200,this.virtualizationThreshold=20,this.columnVirtualizationThreshold=10,this.excessRows=4,this.scrollThreshold=4,this.excessColumns=4,this.horizontalScrollThreshold=2,this.scrollThrottle=70,this.enableSorting=!0,this.enableFiltering=!1,this.enableColumnMenu=!0,this.enableScrollbars=!0,this.minimumColumnSize=10,this.rowEquality=function(e,t){return e===t},this.headerTemplate=null,this.footerTemplate=null,this.rowTemplate="ui-grid/ui-grid-row"}return t}])}(),function(){angular.module("ui.grid").factory("GridRenderContainer",["$log","gridUtil",function(e,t){function n(e,t,n){var i=this;i.name=e,i.grid=t,i.visibleRowCache=[],i.visibleColumnCache=[],i.renderedRows=[],i.renderedColumns=[],i.prevScrollTop=0,i.prevScrolltopPercentage=0,i.prevRowScrollIndex=0,i.prevScrollLeft=0,i.prevScrollleftPercentage=0,i.prevColumnScrollIndex=0,i.columnStyles="",i.viewportAdjusters=[],n&&angular.isObject(n)&&angular.extend(i,n),t.registerStyleComputation({priority:5,func:function(){return i.columnStyles}})}return n.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},n.prototype.minRowsToRender=function(){for(var e=this,t=0,n=0,i=e.getViewportHeight(),r=e.visibleRowCache.length-1;i>n&&r>=0;r--)n+=e.visibleRowCache[r].height,t++;return t},n.prototype.minColumnsToRender=function(){for(var e=this,t=this.getViewportWidth(),n=0,i=0,r=0;r<e.visibleColumnCache.length;r++){var o=e.visibleColumnCache[r];if(t>i)i+=o.drawnWidth?o.drawnWidth:0,n++;else{for(var a=0,l=r;l>=r-n;l--)a+=e.visibleColumnCache[l].drawnWidth?e.visibleColumnCache[l].drawnWidth:0;t>a&&n++}}return n},n.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},n.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},n.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);"undefined"!=typeof t&&void 0!==t&&this.viewportAdjusters.splice(t,1)},n.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},n.prototype.getViewportHeight=function(){var e=this,t=e.headerHeight?e.headerHeight:e.grid.headerHeight,n=e.grid.gridHeight-t-e.grid.footerHeight;"undefined"!=typeof e.horizontalScrollbarHeight&&void 0!==e.horizontalScrollbarHeight&&e.horizontalScrollbarHeight>0&&(n-=e.horizontalScrollbarHeight);var i=e.getViewportAdjustment();return n+=i.height},n.prototype.getViewportWidth=function(){var e=this,t=e.grid.gridWidth;"undefined"!=typeof e.grid.verticalScrollbarWidth&&void 0!==e.grid.verticalScrollbarWidth&&e.grid.verticalScrollbarWidth>0&&(t-=e.grid.verticalScrollbarWidth);var n=e.getViewportAdjustment();return t+=n.width},n.prototype.getHeaderViewportWidth=function(){var e=this,t=this.getViewportWidth();return"undefined"!=typeof e.grid.verticalScrollbarWidth&&void 0!==e.grid.verticalScrollbarWidth&&e.grid.verticalScrollbarWidth>0&&(t+=e.grid.verticalScrollbarWidth),t},n.prototype.getCanvasHeight=function(){var e=this,t=0;return e.visibleRowCache.forEach(function(e){t+=e.height}),"undefined"!=typeof e.grid.horizontalScrollbarHeight&&void 0!==e.grid.horizontalScrollbarHeight&&e.grid.horizontalScrollbarHeight>0&&(t-=e.grid.horizontalScrollbarHeight),t},n.prototype.getCanvasWidth=function(){var e=this,t=e.canvasWidth;return"undefined"!=typeof e.verticalScrollbarWidth&&void 0!==e.verticalScrollbarWidth&&e.verticalScrollbarWidth>0&&(t-=e.verticalScrollbarWidth),t},n.prototype.setRenderedRows=function(e){this.renderedRows.length=e.length;for(var t=0;t<e.length;t++)this.renderedRows[t]=e[t]},n.prototype.setRenderedColumns=function(e){this.renderedColumns.length=e.length;for(var t=0;t<e.length;t++)this.renderedColumns[t]=e[t];this.updateColumnOffset()},n.prototype.updateColumnOffset=function(){for(var e=0,t=0;t<this.currentFirstColumn;t++)e+=this.visibleColumnCache[t].drawnWidth;this.columnOffset=e},n.prototype.adjustScrollVertical=function(e,t,n){(this.prevScrollTop!==e||n)&&(e=this.getCanvasHeight()*t,this.adjustRows(e,t),this.prevScrollTop=e,this.prevScrolltopPercentage=t,this.grid.queueRefresh())},n.prototype.adjustScrollHorizontal=function(e,t,n){(this.prevScrollLeft!==e||n)&&(e=this.getCanvasWidth()*t,this.adjustColumns(e,t),this.prevScrollLeft=e,this.prevScrollleftPercentage=t,this.grid.queueRefresh())},n.prototype.adjustRows=function(e,t){var n=this,i=n.minRowsToRender(),r=n.visibleRowCache,o=r.length-i;n.maxRowIndex=o,n.prevRowScrollIndex,"undefined"!=typeof t&&null!==t||!e||(t=e/n.getCanvasHeight());var a=Math.ceil(Math.min(o,o*t));a>o&&(a=o);var l=[];if(r.length>n.grid.options.virtualizationThreshold){if(n.prevScrollTop<e&&a<n.prevRowScrollIndex+n.grid.options.scrollThreshold&&o>a)return;if(n.prevScrollTop>e&&a>n.prevRowScrollIndex-n.grid.options.scrollThreshold&&o>a)return;var s=Math.max(0,a-n.grid.options.excessRows),c=Math.min(r.length,a+i+n.grid.options.excessRows);l=[s,c]}else{var d=n.visibleRowCache.length;l=[0,Math.max(d,i+n.grid.options.excessRows)]}n.updateViewableRowRange(l),n.prevRowScrollIndex=a},n.prototype.adjustColumns=function(e,t){var n=this,i=n.minColumnsToRender(),r=n.visibleColumnCache,o=r.length-i;"undefined"!=typeof t&&null!==t||!e||(t=e/n.getCanvasWidth());var a=Math.ceil(Math.min(o,o*t));a>o&&(a=o);var l=[];if(r.length>n.grid.options.columnVirtualizationThreshold&&n.getCanvasWidth()>n.getViewportWidth()){if(n.prevScrollLeft<e&&a<n.prevColumnScrollIndex+n.grid.options.horizontalScrollThreshold&&o>a)return;if(n.prevScrollLeft>e&&a>n.prevColumnScrollIndex-n.grid.options.horizontalScrollThreshold&&o>a)return;var s=Math.max(0,a-n.grid.options.excessColumns),c=Math.min(r.length,a+i+n.grid.options.excessColumns);l=[s,c]}else{var d=n.visibleColumnCache.length;l=[0,Math.max(d,i+n.grid.options.excessColumns)]}n.updateViewableColumnRange(l),n.prevColumnScrollIndex=a;
},n.prototype.updateViewableRowRange=function(e){var t=this.visibleRowCache.slice(e[0],e[1]);this.currentTopRow=e[0],this.setRenderedRows(t)},n.prototype.updateViewableColumnRange=function(e){var t=this.visibleColumnCache.slice(e[0],e[1]);this.currentFirstColumn=e[0],this.setRenderedColumns(t)},n.prototype.rowStyle=function(e){var t=this,n={};if(0===e&&0!==t.currentTopRow){var i=t.currentTopRow*t.grid.options.rowHeight;n["margin-top"]=i+"px"}return 0!==t.currentFirstColumn&&(t.grid.isRTL()?n["margin-right"]=t.columnOffset+"px":n["margin-left"]=t.columnOffset+"px"),n},n.prototype.columnStyle=function(e){var t=this;if(0===e&&0!==t.currentFirstColumn){var n=t.columnOffset;return t.grid.isRTL()?{"margin-right":n+"px"}:{"margin-left":n+"px"}}return null},n.prototype.updateColumnWidths=function(){var e=this,n=[],i=[],r=0,o=e.getViewportWidth();"undefined"!=typeof e.grid.verticalScrollbarWidth&&void 0!==e.grid.verticalScrollbarWidth&&e.grid.verticalScrollbarWidth>0&&(o+=e.grid.verticalScrollbarWidth);var a,l=0,s=0,c="",d=e.visibleColumnCache;d.forEach(function(e){if(e.visible){var o=!1;angular.isNumber(e.width)||(o=isNaN(e.width)&&t.endsWith(e.width,"%")),angular.isString(e.width)&&-1!==e.width.indexOf("*")?(r=parseInt(r+e.width.length,10),n.push(e)):o?i.push(e):angular.isNumber(e.width)&&(l=parseInt(l+e.width,10),s=parseInt(s,10)+parseInt(e.width,10),e.drawnWidth=e.width)}});var u,p,f,g=o-l;if(i.length>0){for(u=0;u<i.length;u++){p=i[u];var h=parseInt(p.width.replace(/%/g,""),10)/100;f=parseInt(h*g,10),p.colDef.minWidth&&f<p.colDef.minWidth?(f=p.colDef.minWidth,g-=f,s+=f,p.drawnWidth=f,i.splice(u,1)):p.colDef.maxWidth&&f>p.colDef.maxWidth&&(f=p.colDef.maxWidth,g-=f,s+=f,p.drawnWidth=f,i.splice(u,1))}i.forEach(function(e){var t=parseInt(e.width.replace(/%/g,""),10)/100,n=parseInt(t*g,10);s+=n,e.drawnWidth=n})}if(n.length>0){var m=parseInt(g/r,10);for(u=0;u<n.length;u++)p=n[u],f=parseInt(m*p.width.length,10),p.colDef.minWidth&&f<p.colDef.minWidth?(f=p.colDef.minWidth,g-=f,r--,s+=f,p.drawnWidth=f,a=p,n.splice(u,1)):p.colDef.maxWidth&&f>p.colDef.maxWidth&&(f=p.colDef.maxWidth,g-=f,r--,s+=f,p.drawnWidth=f,n.splice(u,1));m=parseInt(g/r,10),n.forEach(function(e){var t=parseInt(m*e.width.length,10);s+=t,e.drawnWidth=t})}var v=o-parseInt(s,10);if(v>0&&s>0&&o>s){var b=!1;if(d.forEach(function(e){e.width&&!angular.isNumber(e.width)&&(b=!0)}),b)for(var w=function(e){v>0&&(e.drawnWidth=e.drawnWidth+1,s+=1,v--)};v>0;)d.forEach(w)}o>s&&(s=o),d.forEach(function(e){c+=e.getColClassDefinition()}),e.grid.verticalScrollbarWidth&&(s+=e.grid.verticalScrollbarWidth),e.canvasWidth=parseInt(s,10),this.columnStyles=c},n}])}(),function(){angular.module("ui.grid").factory("GridRow",["gridUtil",function(e){function t(t,n,i){this.grid=i,this.entity=t,this.uid=e.nextUid(),this.visible=!0,this.height=i.options.rowHeight}return t.prototype.getQualifiedColField=function(e){return"row."+this.getEntityQualifiedColField(e)},t.prototype.getEntityQualifiedColField=function(t){return e.preEval("entity."+t.field)},t.prototype.setRowInvisible=function(e){null!==e&&(e.forceInvisible=!0,e.visible&&(e.visible=!1,e.grid.refresh(),e.grid.api.core.raise.rowsVisibleChanged()))},t.prototype.clearRowInvisible=function(e){null!==e&&(e.forceInvisible=!1,e.visible||(e.visible=!0,e.grid.refresh(),e.grid.api.core.raise.rowsVisibleChanged()))},t.prototype.getVisibleRows=function(e){return e.rows.filter(function(e){return e.visible})},t}])}(),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","$log","Grid","GridColumn","GridRow",function(e,t,n,i,r,o,a){var l={createGrid:function(i){i="undefined"!=typeof i?i:{},i.id=e.newId();var r=new a(i);if(r.options.rowTemplate){var o=t.defer();r.getRowTemplateFn=o.promise,e.getTemplate(r.options.rowTemplate).then(function(e){var t=n(e);o.resolve(t)},function(){throw new Error("Couldn't fetch/use row template '"+r.options.rowTemplate+"'")})}return r.registerColumnBuilder(l.defaultColumnBuilder),r.registerRowsProcessor(function(e){return e.forEach(function(e){e.visible=!e.forceInvisible}),e}),r.registerColumnsProcessor(function(e){return e.forEach(function(e){e.visible=!0}),e}),r.registerColumnsProcessor(function(e){return e.forEach(function(e){e.colDef.visible===!1&&(e.visible=!1)}),e}),r.options.enableFiltering&&r.registerRowsProcessor(r.searchRows),r.registerRowsProcessor(r.options.externalSort&&angular.isFunction(r.options.externalSort)?r.options.externalSort:r.sortByColumn),r},defaultColumnBuilder:function(n,i){var o=[];return n.headerCellTemplate||(n.headerCellTemplate="ui-grid/uiGridHeaderCell"),n.cellTemplate||(n.cellTemplate="ui-grid/uiGridCell",i.cellTemplatePromise=e.getTemplate(n.cellTemplate)),i.cellTemplatePromise=e.getTemplate(n.cellTemplate),o.push(i.cellTemplatePromise.then(function(e){i.cellTemplate=e.replace(r.CUSTOM_FILTERS,i.cellFilter?"|"+i.cellFilter:"")},function(){throw new Error("Couldn't fetch/use colDef.cellTemplate '"+n.cellTemplate+"'")})),o.push(e.getTemplate(n.headerCellTemplate).then(function(e){i.headerCellTemplate=e.replace(r.CUSTOM_FILTERS,i.headerCellFilter?"|"+i.headerCellFilter:"")},function(){throw new Error("Couldn't fetch/use colDef.headerCellTemplate '"+n.headerCellTemplate+"'")})),i.compiledElementFnDefer=t.defer(),t.all(o)}};return l}])}(),function(){function e(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function t(){var e=function(t,n){return t&&e.cache[t]?e.cache[t]:t&&n?(e.cache[t]=n,e.cache[t]):void 0};return e.cache={},e.clear=function(){e.cache={}},e}var n=angular.module("ui.grid");n.service("rowSearcher",["$log","uiGridConstants",function(n,i){var r=i.filter.STARTS_WITH,o={};return o.getTerm=function(e){if("undefined"==typeof e.term)return e.term;var t=e.term;return"string"==typeof t&&(t=t.trim()),t},o.stripTerm=function(t){var n=o.getTerm(t);return"string"==typeof n?e(n.replace(/(^\*|\*$)/g,"")):n},o.guessCondition=function(e){if("undefined"==typeof e.term||!e.term)return r;var t=o.getTerm(e);if(/\*/.test(t)){var n="";e.flags&&e.flags.caseSensitive||(n+="i");var i=t.replace(/(\\)?\*/g,function(e,t){return t?e:"[\\s\\S]*?"});return new RegExp("^"+i+"$",n)}return r},o.runColumnFilter=function(e,t,n,r,a,l){var s=typeof l.condition;"undefined"!==s&&l.condition||(l.condition=i.filter.CONTAINS);var c=o.stripTerm(l);if(null===c||void 0===c||""===c)return!0;var d=e.getCellValue(t,n),u="";l.flags&&l.flags.caseSensitive||(u+="i");var p=n.field+a;if(l.condition instanceof RegExp){if(!l.condition.test(d))return!1}else{if("function"===s)return l.condition(c,d,t,n);if(l.condition===i.filter.STARTS_WITH){var f=r(p)?r(p):r(p,new RegExp("^"+c,u));if(!f.test(d))return!1}else if(l.condition===i.filter.ENDS_WITH){var g=r(p)?r(p):r(p,new RegExp(c+"$",u));if(!g.test(d))return!1}else if(l.condition===i.filter.CONTAINS){var h=r(p)?r(p):r(p,new RegExp(c,u));if(!h.test(d))return!1}else if(l.condition===i.filter.EXACT){var m=r(p)?r(p):r(p,new RegExp("^"+c+"$",u));if(!m.test(d))return!1}else if(l.condition===i.filter.GREATER_THAN){if(c>=d)return!1}else if(l.condition===i.filter.GREATER_THAN_OR_EQUAL){if(c>d)return!1}else if(l.condition===i.filter.LESS_THAN){if(d>=c)return!1}else if(l.condition===i.filter.LESS_THAN_OR_EQUAL){if(d>c)return!1}else if(l.condition===i.filter.NOT_EQUAL&&!angular.equals(d,c))return!1}return!0},o.searchColumn=function(e,t,n,i){var r=[];if(e.options.useExternalFiltering)return!0;if(!("undefined"!=typeof n.filters&&n.filters&&n.filters.length>0))return!0;r=n.filters;for(var a in r){var l=r[a];if(!l.condition){var s="cond-"+n.field+"-"+l.term,c=i(s)?i(s):i(s,o.guessCondition(l));l={term:l.term,condition:c,flags:angular.extend({caseSensitive:!1},l.flags)}}var d=o.runColumnFilter(e,t,n,i,a,l);if(!d)return!1}return!0},o.search=function(e,n,i){if(n){var r=new t,a=[];return i.forEach(function(e){"undefined"!=typeof e.filters&&e.filters.length>0?a.push(e):"undefined"!=typeof e.filter&&e.filter&&"undefined"!=typeof e.filter.term&&e.filter.term&&a.push(e)}),a.length>0&&(a.forEach(function(t){n.forEach(function(n){(n.forceInvisible||!o.searchColumn(e,n,t,r))&&(n.visible=!1)})}),e.api.core.raise.rowsVisibleChanged&&e.api.core.raise.rowsVisibleChanged()),r.clear(),n}},o}])}(),function(){var e=angular.module("ui.grid");e.service("rowSorter",["$parse","uiGridConstants",function(e,t){var n="("+t.CURRENCY_SYMBOLS.map(function(e){return"\\"+e}).join("|")+")?",i=(new RegExp("^[-+]?"+n+"[\\d,.]+"+n+"%?$"),{colSortFnCache:[]});return i.guessSortFn=function(e){switch(e){case"number":return i.sortNumber;case"boolean":return i.sortBool;case"string":return i.sortAlpha;case"date":return i.sortDate;case"object":return i.basicSort;default:throw new Error("No sorting function found for type:"+e)}},i.handleNulls=function(e,t){if(!e&&0!==e&&e!==!1||!t&&0!==t&&t!==!1){if(!e&&0!==e&&e!==!1&&!t&&0!==t&&t!==!1)return 0;if(!e&&0!==e&&e!==!1)return 1;if(!t&&0!==t&&t!==!1)return-1}return null},i.basicSort=function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e===t?0:t>e?-1:1},i.sortNumber=function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e-t},i.sortNumberStr=function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;var r,o,a=!1,l=!1;return r=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(r)&&(a=!0),o=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(o)&&(l=!0),a&&l?0:a?1:l?-1:r-o},i.sortAlpha=function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;var r=e.toLowerCase(),o=t.toLowerCase();return r===o?0:o>r?-1:1},i.sortDate=function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;var r=e.getTime(),o=t.getTime();return r===o?0:o>r?-1:1},i.sortBool=function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e&&t?0:e||t?e?1:-1:0},i.getSortFn=function(e,t){var n;return i.colSortFnCache[t.colDef.name]?n=i.colSortFnCache[t.colDef.name]:void 0!==t.sortingAlgorithm?(n=t.sortingAlgorithm,i.colSortFnCache[t.colDef.name]=t.sortingAlgorithm):(n=i.guessSortFn(t.colDef.type),n?i.colSortFnCache[t.colDef.name]=n:n=i.sortAlpha),n},i.prioritySort=function(e,t){return void 0!==e.sort.priority&&void 0!==t.sort.priority?e.sort.priority<t.sort.priority?-1:e.sort.priority===t.sort.priority?0:1:e.sort.priority?-1:t.sort.priority?1:0},i.sort=function(e,n,r){if(n){if(e.options.useExternalSorting)return n;var o=[];if(r.forEach(function(e){e.sort&&e.sort.direction&&(e.sort.direction===t.ASC||e.sort.direction===t.DESC)&&o.push(e)}),o=o.sort(i.prioritySort),0===o.length)return n;var a,l,s=n.slice(0);return n.sort(function(n,r){for(var c,d=0,u=0;0===d&&u<o.length;){a=o[u],l=o[u].sort.direction,c=i.getSortFn(e,a,s);var p=e.getCellValue(n,a),f=e.getCellValue(r,a);d=c(p,f),u++}return l===t.ASC?d:0-d})}},i}])}(),function(){function e(e){var t=e;return"undefined"!=typeof t.length&&t.length&&(t=e[0]),t.ownerDocument.defaultView.getComputedStyle(t,null)}function t(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0,l=["Top","Right","Bottom","Left"];4>o;o+=2){var s=l[o];if("margin"===n){var c=parseFloat(r[n+s]);isNaN(c)||(a+=c)}if(i){if("content"===n){var d=parseFloat(r["padding"+s]);isNaN(d)||(a-=d)}if("margin"!==n){var u=parseFloat(r["border"+s+"Width"]);isNaN(u)||(a-=u)}}else{var p=parseFloat(r["padding"+s]);if(isNaN(p)||(a+=p),"padding"!==n){var f=parseFloat(r["border"+s+"Width"]);isNaN(f)||(a+=f)}}}return a}function n(n,i,o){var a,l=!0,s=e(n),c="border-box"===s.boxSizing;if(0>=a||null==a){if(a=s[i],(0>a||null==a)&&(a=n.style[i]),r.test(a))return a;l=c&&!0,a=parseFloat(a)||0}var d=a+t(n,i,o||(c?"border":"content"),l,s);return d}var i=angular.module("ui.grid"),r=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),o=/^(block|none|table(?!-c[ea]).+)/,a={position:"absolute",visibility:"hidden",display:"block"},l=["0","0","0"],s="uiGrid-";i.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$injector","$q","uiGridConstants",function(t,i,r,c,d,u,p,f,g){var h={getStyles:e,createBoundedWrapper:function(e,t){return function(){return t.apply(e,arguments)}},readableColumnName:function(e){return"undefined"==typeof e||void 0===e||null===e?e:("string"!=typeof e&&(e=String(e)),e.replace(/_+/g," ").replace(/^[A-Z]+$/,function(e){return angular.lowercase(angular.uppercase(e.charAt(0))+e.slice(1))}).replace(/(\w+)/g,function(e){return angular.uppercase(e.charAt(0))+e.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(e,t){var n=[];if(!e||"undefined"==typeof e[0]||void 0===e[0])return[];angular.isUndefined(t)&&(t=[]);var i=e[0];return angular.forEach(i,function(e,i){-1===t.indexOf(i)&&n.push({name:i})}),n},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),getTemplate:function(e){if(d.get(e))return f.when(d.get(e));if(e.hasOwnProperty("then"))return e;try{if(angular.element(e).length>0)return f.when(e)}catch(e){}return t.debug("Fetching url",e),c({method:"GET",url:e}).then(function(t){var n=t.data.trim();return d.put(e,n),n},function(t){throw new Error("Could not get template "+e+": "+t)})},guessType:function(e){var t=typeof e;switch(t){case"number":case"boolean":case"string":return t;default:return angular.isDate(e)?"date":"object"}},elementWidth:function(){},elementHeight:function(){},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var i=n.offsetWidth;return e.parentNode.removeChild(e),t-i},swap:function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r},fakeElement:function(e,t,n){var i,r,o=angular.element(e).clone()[0];for(r in t)o.style[r]=t[r];return angular.element(document.body).append(o),i=n.call(o,o),angular.element(o).remove(),i},normalizeWheelEvent:function(e){var t,n,i,r=e||window.event,o=([].slice.call(arguments,1),0),a=0,l=0,s=0,c=0;return r.originalEvent&&(r=r.originalEvent),r.wheelDelta&&(o=r.wheelDelta),r.detail&&(o=-1*r.detail),l=o,void 0!==r.axis&&r.axis===r.HORIZONTAL_AXIS&&(l=0,a=-1*o),r.deltaY&&(l=-1*r.deltaY,o=l),r.deltaX&&(a=r.deltaX,o=-1*a),void 0!==r.wheelDeltaY&&(l=r.wheelDeltaY),void 0!==r.wheelDeltaX&&(a=r.wheelDeltaX),s=Math.abs(o),(!t||t>s)&&(t=s),c=Math.max(Math.abs(l),Math.abs(a)),(!n||n>c)&&(n=c),i=o>0?"floor":"ceil",o=Math[i](o/t),a=Math[i](a/n),l=Math[i](l/n),{delta:o,deltaX:a,deltaY:l}},isTouchEnabled:function(){var e;return("ontouchstart"in i||i.DocumentTouch&&r instanceof DocumentTouch)&&(e=!0),e},isNullOrUndefined:function(e){return void 0===e||null===e},endsWith:function(e,t){return!(!e||!t||"string"!=typeof e)&&-1!==e.indexOf(t,e.length-t.length)},requestAnimationFrame:i.requestAnimationFrame&&i.requestAnimationFrame.bind(i)||i.webkitRequestAnimationFrame&&i.webkitRequestAnimationFrame.bind(i)||function(e){return u(e,10,!1)},numericAndNullSort:function(e,t){return null===e?1:null===t?-1:null===e&&null===t?0:e-t},disableAnimations:function(e){var t;try{t=p.get("$animate"),t.enabled(!1,e)}catch(e){}},enableAnimations:function(e){var t;try{return t=p.get("$animate"),t.enabled(!0,e),t}catch(e){}},nextUid:function(){for(var e,t=l.length;t;){if(t--,e=l[t].charCodeAt(0),57===e)return l[t]="A",s+l.join("");if(90!==e)return l[t]=String.fromCharCode(e+1),s+l.join("");l[t]="0"}return l.unshift("0"),s+l.join("")},hashKey:function(e){var t,n=typeof e;return"object"===n&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():"undefined"!=typeof e.$$hashKey&&e.$$hashKey?t=e.$$hashKey:void 0===t&&(t=e.$$hashKey=h.nextUid()):t=e,n+":"+t},resetUids:function(){l=["0","0","0"]}};return["width","height"].forEach(function(t){var i=angular.uppercase(t.charAt(0))+t.substr(1);h["element"+i]=function(i,r){var l=i;if(l&&"undefined"!=typeof l.length&&l.length&&(l=i[0]),l){var s=e(l);return 0===l.offsetWidth&&o.test(s.display)?h.fakeElement(l,a,function(e){return n(e,t,r)}):n(l,t,r)}return null},h["outerElement"+i]=function(e,t){return e?h["element"+i].call(this,e,t?"margin":"border"):null}}),h.closestElm=function(e,t){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var n;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]&&(n=e,!0)});for(var i;null!==e;){if(i=e.parentElement,null!==i&&i[n](t))return i;e=i}return null},h.type=function(e){var t=Function.prototype.toString.call(e.constructor);return t.match(/function (.*?)\(/)[1]},h.getBorderSize=function(t,n){"undefined"!=typeof t.length&&t.length&&(t=t[0]);var i=e(t);n=n?"border"+n.charAt(0).toUpperCase()+n.slice(1):"border",n+="Width";var r=parseInt(i[n],10);return isNaN(r)?0:r},h.detectBrowser=function(){var e=i.navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var n in t)if(t[n].test(e))return n;return"unknown"},h.normalizeScrollLeft=function(e){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var t=h.detectBrowser(),n=e.scrollLeft,i=h.getStyles(e).direction;if("ie"===t)return n;if("chrome"===t){if("rtl"===i){var r=e.scrollWidth-e.clientWidth;return r-n}return n}return"firefox"===t?Math.abs(n):n},h.denormalizeScrollLeft=function(e,t){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var n=h.detectBrowser(),i=h.getStyles(e).direction;if("ie"===n)return t;if("chrome"===n){if("rtl"===i){var r=e.scrollWidth-e.clientWidth;return r-t}return t}return"firefox"===n&&"rtl"===i?-1*t:t},h.preEval=function(e){var t=g.BRACKET_REGEXP.exec(e);if(t)return(t[1]?h.preEval(t[1]):t[1])+t[2]+(t[3]?h.preEval(t[3]):t[3]);e=e.replace(g.APOS_REGEXP,"\\'");var n=e.split(g.DOT_REGEXP),i=[n.shift()];return angular.forEach(n,function(e){i.push(e.replace(g.FUNC_REGEXP,"']$1"))}),i.join("['")},h.debounce=function(e,t,n){function i(){a=this,o=arguments;var i=function(){r=null,n||(l=e.apply(a,o))},s=n&&!r;return r&&u.cancel(r),r=u(i,t),s&&(l=e.apply(a,o)),l}var r,o,a,l;return i.cancel=function(){u.cancel(r),r=null},i},h.throttle=function(e,t,n){function i(){a=+new Date,e.apply(r,o),u(function(){l=null},0)}n=n||{};var r,o,a=0,l=null;return function(){if(r=this,o=arguments,null===l){var e=+new Date-a;e>t?i():n.trailing&&(l=u(i,t-e))}}},h}]),i.filter("px",function(){return function(e){return e.match(/^[\d\.]+$/)?e+"px":e}})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil."},search:{placeholder:"Søg...",showingItems:"Viste rækker:",selectedItems:"Valgte rækker:",totalItems:"Rækker totalt:",size:"Side størrelse:",first:"Første side",next:"Næste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vælg kolonner:"},column:{hide:"Skjul kolonne"},aggregation:{count:"samlede rækker: ",sum:"smalede: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("de",{aggregate:{label:"eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenüberschrift hierhin um nach dieser Spalte zu gruppieren."},search:{placeholder:"Suche...",showingItems:"Zeige Einträge:",selectedItems:"Ausgewählte Einträge:",totalItems:"Einträge gesamt:",size:"Einträge pro Seite:",first:"Erste Seite",next:"Nächste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswählen:"},column:{hide:"Spalte ausblenden"},aggregation:{count:"gesamt reihen: ",sum:"gesamt: ",avg:"durchschnitt: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("en",{aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},gridMenu:{columns:"Columns:",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("es",{aggregate:{label:"Artículos"},groupPanel:{description:"Arrastre un encabezado de columna aquí y soltarlo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artículos Mostrando:",selectedItems:"Artículos Seleccionados:",totalItems:"Artículos Totales:",size:"Tamaño de Página:",first:"Primera Página",next:"Página Siguiente",previous:"Página Anterior",last:"Última Página"},menu:{text:"Elegir columnas:"},column:{hide:"Ocultar la columna"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fa",{aggregate:{label:"موردها"},groupPanel:{description:"یک عنوان ستون اینجا را بردار و به گروهی از آن ستون بیانداز."},search:{placeholder:"جستجو...",showingItems:"نمایش موردها:",selectedItems:"موردهای انتخاب‌شده:",totalItems:"همهٔ موردها:",size:"اندازهٔ صفحه:",first:"صفحهٔ اول",next:"صفحهٔ بعد",previous:"صفحهٔ قبل",last:"آخرین صفحه"},menu:{text:"انتخاب ستون‌ها:"},column:{hide:"ستون پنهان کن"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fr",{aggregate:{label:"articles"},groupPanel:{description:"Faites glisser un en-tête de colonne ici et déposez-le vers un groupe par cette colonne."},search:{placeholder:"Recherche...",showingItems:"Articles Affichage des:",selectedItems:"Éléments Articles:",totalItems:"Nombre total d'articles:",size:"Taille de page:",first:"Première page",next:"Page Suivante",previous:"Page précédente",last:"Dernière page"},menu:{text:"Choisir des colonnes:"},column:{hide:"Colonne de peau"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("he",{aggregate:{label:"items"},groupPanel:{description:"גרור עמודה לכאן ושחרר בכדי לקבץ עמודה זו."},search:{placeholder:"חפש...",showingItems:"מציג:",selectedItems:'סה"כ נבחרו:',totalItems:'סה"כ רשומות:',size:"תוצאות בדף:",first:"דף ראשון",next:"דף הבא",previous:"דף קודם",last:"דף אחרון"},menu:{text:"בחר עמודות:"},sort:{ascending:"סדר עולה",descending:"סדר יורד",remove:"בטל"},column:{hide:"טור הסתר"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"aantal rijen: ",sum:"som: ",avg:"gemiddelde: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt-br",{aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},gridMenu:{columns:"Colunas:",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ru",{aggregate:{label:"элементы"},groupPanel:{description:"Для группировки по столбцу перетащите сюда его название."},search:{placeholder:"Поиск...",showingItems:"Показать элементы:",selectedItems:"Выбранные элементы:",totalItems:"Всего элементов:",size:"Размер страницы:",first:"Первая страница",next:"Следующая страница",previous:"Предыдущая страница",last:"Последняя страница"},menu:{text:"Выбрать столбцы:"},sort:{ascending:"По возрастанию",descending:"По убыванию",remove:"Убрать сортировку"},column:{hide:"спрятать столбец"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem názov stĺpca pre zoskupenie podľa toho stĺpca."},search:{placeholder:"Hľadaj...",showingItems:"Zobrazujem položky:",selectedItems:"Vybraté položky:",totalItems:"Počet položiek:",size:"Počet:",first:"Prvá strana",next:"Ďalšia strana",previous:"Predchádzajúca strana",last:"Posledná strana"},menu:{text:"Vyberte stĺpce:"},sort:{ascending:"Zotriediť vzostupne",descending:"Zotriediť zostupne",remove:"Vymazať triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sv",{aggregate:{label:"artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och släpp den för att gruppera efter den kolumnen."},search:{placeholder:"Sök...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Första sidan",next:"Nästa sida",previous:"Föregående sida",last:"Sista sidan"},menu:{text:"Välj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Göm kolumn"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fäst vänster",pinRight:"Fäst höger",unpin:"Lösgör"},gridMenu:{columns:"Columns:",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"}}),e}])}])}(),function(){var e=["uiT","uiTranslate"],t=["t","uiTranslate"],n=angular.module("ui.grid.i18n");n.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),n.service("i18nService",["$log","i18nConstants","$rootScope",function(e,t,n){var i={_langs:{},current:null,get:function(e){return this._langs[e.toLowerCase()]},add:function(e,t){var n=e.toLowerCase();this._langs[n]||(this._langs[n]={}),angular.extend(this._langs[n],t)},getAllLangs:function(){var e=[];if(!this._langs)return e;for(var t in this._langs)e.push(t);return e},setCurrent:function(e){this.current=e.toLowerCase()},getCurrentLang:function(){return this.current}},r={add:function(e,t){"object"==typeof e?angular.forEach(e,function(e){e&&i.add(e,t)}):i.add(e,t)},getAllLangs:function(){return i.getAllLangs()},get:function(e){var t=e?e:r.getCurrentLang();return i.get(t)},getSafeText:function(e,n){var o=n?n:r.getCurrentLang(),a=i.get(o);if(!a)return t.MISSING;for(var l=e.split("."),s=a,c=0;c<l.length;++c){if(void 0===s[l[c]]||null===s[l[c]])return t.MISSING;s=s[l[c]]}return s},setCurrentLang:function(e){e&&(i.setCurrent(e),
n.$broadcast(t.UPDATE_EVENT))},getCurrentLang:function(){var e=i.getCurrentLang();return e||(e=t.DEFAULT_LANG,i.setCurrent(e)),e}};return r}]);var i=function(e,t){return{compile:function(){return{pre:function(n,i,r){var o=t.LOCALE_DIRECTIVE_ALIAS,a=n.$eval(r[o]);a?n.$watch(r[o],function(){e.setCurrentLang(a)}):r.$$observers&&r.$observe(o,function(){e.setCurrentLang(r[o]||t.DEFAULT_LANG)})}}}}};n.directive("uiI18n",["i18nService","i18nConstants",i]);var r=function(t,n,i){return{restrict:"EA",compile:function(){return{pre:function(r,o,a){var l,s=e[0],c=e[1],d=a[s]||a[c]||o.html(),u=i.MISSING+d;if(a.$$observers){var p=a[s]?s:c;l=a.$observe(p,function(e){e&&o.html(t(e)(n.getCurrentLang())||u)})}var f=t(d),g=r.$on(i.UPDATE_EVENT,function(){l?l(a[s]||a[c]):o.html(f(n.get())||u)});r.$on("$destroy",g),o.html(f(n.get())||u)}}}}};e.forEach(function(e){n.directive(e,["$parse","i18nService","i18nConstants",r])});var o=function(e,t,n){return function(i){var r=e(i);return r(t.get())||n.MISSING+i}};t.forEach(function(e){n.filter(e,["$parse","i18nService","i18nConstants",o])})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-cn",{aggregate:{label:"条目"},groupPanel:{description:"拖曳表头到此处以进行分组"},search:{placeholder:"搜索...",showingItems:"当前显示条目：",selectedItems:"选中条目：",totalItems:"条目总数：",size:"每页显示数：",first:"回到首页",next:"下一页",previous:"上一页",last:"前往尾页"},menu:{text:"数据分组与选择列："},column:{hide:"隐藏列"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-tw",{aggregate:{label:"筆"},groupPanel:{description:"拖拉表頭到此處以進行分組"},search:{placeholder:"搜尋...",showingItems:"目前顯示筆數：",selectedItems:"選取筆數：",totalItems:"總筆數：",size:"每頁顯示：",first:"第一頁",next:"下一頁",previous:"上一頁",last:"最後頁"},menu:{text:"選擇欄位："},column:{hide:"隐藏列"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"}}),e}])}])}(),function(){"use strict";var e=angular.module("ui.grid.autoResize",["ui.grid"]);e.directive("uiGridAutoResize",["$log","$timeout","gridUtil",function(e,t,n){return{require:"uiGrid",scope:!1,link:function(e,i,r,o){function a(){c=n.elementHeight(i),s=n.elementWidth(i)}function l(){t.cancel(d),d=t(function(){var e=n.elementHeight(i),t=n.elementWidth(i);e!==c||t!==s?(o.grid.gridHeight=e,o.grid.gridWidth=t,o.grid.queueRefresh().then(function(){a(),l()})):l()},250)}var s,c;a();var d;l(),e.$on("$destroy",function(){t.cancel(d)})}}}])}(),function(){"use strict";function e(e,t){this.row=e,this.col=t}var t=angular.module("ui.grid.cellNav",["ui.grid"]);t.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3}}),t.factory("uiGridCellNavFactory",["$log","uiGridConstants","uiGridCellNavConstants","$q",function(t,n,i){var r=function(e,t,n,i){this.rows=e.visibleRowCache,this.columns=t.visibleColumnCache,this.leftColumns=n?n.visibleColumnCache:[],this.rightColumns=i?i.visibleColumnCache:[]};return r.prototype.getFocusableCols=function(){var e=this.leftColumns.concat(this.columns,this.rightColumns);return e.filter(function(e){return e.colDef.allowCellFocus})},r.prototype.getNextRowCol=function(e,t,n){switch(e){case i.direction.LEFT:return this.getRowColLeft(t,n);case i.direction.RIGHT:return this.getRowColRight(t,n);case i.direction.UP:return this.getRowColUp(t,n);case i.direction.DOWN:return this.getRowColDown(t,n)}},r.prototype.getRowColLeft=function(t,n){var i=this.getFocusableCols(),r=i.indexOf(n),o=this.rows.indexOf(t);-1===r&&(r=1);var a=0===r?i.length-1:r-1;return a>r?0===o?new e(t,i[a]):new e(this.rows[o-1],i[a]):new e(t,i[a])},r.prototype.getRowColRight=function(t,n){var i=this.getFocusableCols(),r=i.indexOf(n),o=this.rows.indexOf(t);-1===r&&(r=0);var a=r===i.length-1?0:r+1;return r>a?o===this.rows.length-1?new e(t,i[a]):new e(this.rows[o+1],i[a]):new e(t,i[a])},r.prototype.getRowColDown=function(t,n){var i=this.getFocusableCols(),r=i.indexOf(n),o=this.rows.indexOf(t);return-1===r&&(r=0),o===this.rows.length-1?new e(t,i[r]):new e(this.rows[o+1],i[r])},r.prototype.getRowColUp=function(t,n){var i=this.getFocusableCols(),r=i.indexOf(n),o=this.rows.indexOf(t);return-1===r&&(r=0),0===o?new e(t,i[r]):new e(this.rows[o-1],i[r])},r}]),t.service("uiGridCellNavService",["$log","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory",function(e,t,n,i,r){var o={initializeGrid:function(e){e.registerColumnBuilder(o.cellNavColumnBuilder),e.cellNav={},e.cellNav.lastRowCol=null;var t={events:{cellNav:{navigate:function(){}}},methods:{cellNav:{scrollTo:function(e,t,n,i){o.scrollTo(e,t,n,i)},getFocusedCell:function(){return e.cellNav.lastRowCol}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},decorateRenderContainers:function(e){var t=e.hasRightContainer()?e.renderContainers.right:null,n=e.hasLeftContainer()?e.renderContainers.left:null;null!==n&&(e.renderContainers.left.cellNav=new r(e.renderContainers.body,n,t,e.renderContainers.body)),null!==t&&(e.renderContainers.right.cellNav=new r(e.renderContainers.body,t,e.renderContainers.body,n)),e.renderContainers.body.cellNav=new r(e.renderContainers.body,e.renderContainers.body,n,t)},getDirection:function(e){return e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey?n.direction.LEFT:e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB?n.direction.RIGHT:e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey?n.direction.UP:e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER?n.direction.DOWN:null},cellNavColumnBuilder:function(e){var t=[];return e.allowCellFocus=void 0===e.allowCellFocus||e.allowCellFocus,i.all(t)},scrollTo:function(e,t,n,i){var r=null,o=null;null!==n&&(r=e.getRow(n)),null!==i&&(o=e.getColumn(i.name?i.name:i.field)),this.scrollToInternal(e,t,r,o)},scrollToInternal:function(e,n,i,r){var o={};null!==i&&(o.y={percentage:e.renderContainers.body.visibleRowCache.indexOf(i)/e.renderContainers.body.visibleRowCache.length}),null!==r&&(o.x={percentage:this.getLeftWidth(e,r)/this.getLeftWidth(e,e.renderContainers.body.visibleColumnCache[e.renderContainers.body.visibleColumnCache.length-1])}),(o.y||o.x)&&n.$broadcast(t.events.GRID_SCROLL,o)},getLeftWidth:function(e,t){var n=0;if(!t)return n;var i=e.renderContainers.body.visibleColumnCache.indexOf(t);e.renderContainers.body.visibleColumnCache.forEach(function(e,t){i>t&&(n+=e.drawnWidth)});var r=0===i?0:(i+1)/e.renderContainers.body.visibleColumnCache.length;return n+=t.drawnWidth*r}};return o}]),t.directive("uiGridCellnav",["$log","uiGridCellNavService","uiGridCellNavConstants",function(t,n,i){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,r,o,a){var l=a.grid;n.initializeGrid(l),a.cellNav={},a.cellNav.broadcastCellNav=function(e){t.$broadcast(i.CELL_NAV_EVENT,e),a.cellNav.broadcastFocus(e.row,e.col)},a.cellNav.broadcastFocus=function(t,n){if(null===l.cellNav.lastRowCol||l.cellNav.lastRowCol.row!==t||l.cellNav.lastRowCol.col!==n){var i=new e(t,n);l.api.cellNav.raise.navigate(i,l.cellNav.lastRowCol),l.cellNav.lastRowCol=i}}},post:function(){}}}}}]),t.directive("uiGridRenderContainer",["$log","uiGridCellNavService","uiGridCellNavConstants",function(e,t){return{replace:!0,priority:-99999,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(){},post:function(e,n,i,r){var o=r.grid;t.decorateRenderContainers(o)}}}}}]),t.directive("uiGridCell",["uiGridCellNavService","$log","uiGridCellNavConstants",function(e,t,n){return{priority:-150,restrict:"A",require:"^uiGrid",scope:!1,link:function(t,i,r,o){function a(){i.find("div").attr("tabindex",-1)}function l(){var e=i.find("div");console.log("setFocused: "+e[0].parentElement.className),e[0].focus(),e.attr("tabindex",0),t.grid.queueRefresh()}t.col.colDef.allowCellFocus&&(a(),i.on("keydown",function(n){var i=e.getDirection(n);if(null===i)return!0;var r=t.colContainer.cellNav.getNextRowCol(i,t.row,t.col);return o.cellNav.broadcastCellNav(r),a(),n.stopPropagation(),n.preventDefault(),!1}),i.find("div").on("focus",function(){o.cellNav.broadcastFocus(t.row,t.col)}),t.$on(n.CELL_NAV_EVENT,function(e,n){n.row===t.row&&n.col===t.col&&l()}))}}}])}(),function(){"use strict";var e=angular.module("ui.grid.edit",["ui.grid"]);e.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),e.service("uiGridEditService",["$log","$q","$templateCache","uiGridConstants","gridUtil",function(e,t,n,i,r){var o={initializeGrid:function(e){o.defaultGridOptions(e.options),e.registerColumnBuilder(o.editColumnBuilder);var t={events:{edit:{afterCellEdit:function(){},beginCellEdit:function(){},cancelCellEdit:function(){}}},methods:{edit:{}}};e.api.registerEventsFromObject(t.events)},defaultGridOptions:function(e){e.cellEditableCondition=void 0===e.cellEditableCondition||e.cellEditableCondition,e.enableCellEditOnFocus=void 0!==e.enableCellEditOnFocus&&e.enableCellEditOnFocus},editColumnBuilder:function(e,n,i){var o=[];return e.enableCellEdit=void 0===e.enableCellEdit?void 0===i.enableCellEdit?"object"!==e.type:i.enableCellEdit:e.enableCellEdit,e.cellEditableCondition=void 0===e.cellEditableCondition?i.cellEditableCondition:e.cellEditableCondition,e.enableCellEdit&&(e.editableCellTemplate=e.editableCellTemplate||i.editableCellTemplate||"ui-grid/cellEditor",o.push(r.getTemplate(e.editableCellTemplate).then(function(e){n.editableCellTemplate=e},function(){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+e.editableCellTemplate+"'")}))),e.enableCellEditOnFocus=void 0===e.enableCellEditOnFocus?i.enableCellEditOnFocus:e.enableCellEditOnFocus,t.all(o)},isStartEditKey:function(e){return!(e.keyCode===i.keymap.LEFT||e.keyCode===i.keymap.TAB&&e.shiftKey||e.keyCode===i.keymap.RIGHT||e.keyCode===i.keymap.TAB||e.keyCode===i.keymap.UP||e.keyCode===i.keymap.ENTER&&e.shiftKey||e.keyCode===i.keymap.DOWN||e.keyCode===i.keymap.ENTER)}};return o}]),e.directive("uiGridEdit",["$log","uiGridEditService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(r.grid)},post:function(){}}}}}]),e.directive("uiGridCell",["$compile","uiGridConstants","uiGridEditConstants","$log","$parse","uiGridEditService",function(e,t,n,i,r,o){return{priority:-100,restrict:"A",scope:!1,link:function(i,a){function l(){a.on("dblclick",p),a.on("keydown",d),i.col.colDef.enableCellEditOnFocus&&a.find("div").on("focus",c)}function s(){a.off("dblclick",p),a.off("keydown",d),i.col.colDef.enableCellEditOnFocus&&a.find("div").off("focus",c)}function c(e){console.log("begin edit"),e.stopPropagation(),p()}function d(e){o.isStartEditKey(e)&&p()}function u(e,t){return!t.isSaving&&(angular.isFunction(e.colDef.cellEditableCondition)?e.colDef.cellEditableCondition(i):e.colDef.cellEditableCondition)}function p(){if(u(i.col,i.row)){v=r(i.row.getQualifiedColField(i.col)),m=v(i),h=i.col.editableCellTemplate,h=h.replace(t.MODEL_COL_FIELD,i.row.getQualifiedColField(i.col));var o=i.col.colDef.editDropdownFilter?"|"+i.col.colDef.editDropdownFilter:"";switch(h=h.replace(t.CUSTOM_FILTERS,o),i.inputType="text",i.col.colDef.type){case"boolean":i.inputType="checkbox";break;case"number":i.inputType="number";break;case"date":i.inputType="date"}i.editDropdownOptionsArray=i.col.colDef.editDropdownOptionsArray,i.editDropdownIdLabel=i.col.colDef.editDropdownIdLabel?i.col.colDef.editDropdownIdLabel:"id",i.editDropdownValueLabel=i.col.colDef.editDropdownValueLabel?i.col.colDef.editDropdownValueLabel:"value";var l;i.$apply(function(){b=!0,s(),l=e(h)(i.$new());var t=angular.element(a.children()[0]);w=t.hasClass(":focus"),t.addClass("ui-grid-cell-contents-hidden"),a.append(l)});var c=i.$on(t.events.GRID_SCROLL,function(){f(!0),i.grid.api.edit.raise.afterCellEdit(i.row.entity,i.col.colDef,v(i),m),c()}),d=i.$on(n.events.END_CELL_EDIT,function(e,t){f(t),i.grid.api.edit.raise.afterCellEdit(i.row.entity,i.col.colDef,v(i),m),d()}),p=i.$on(n.events.CANCEL_CELL_EDIT,function(){g(),p()});i.$broadcast(n.events.BEGIN_CELL_EDIT),i.grid.api.edit.raise.beginCellEdit(i.row.entity,i.col.colDef)}}function f(e){if(b){var t=angular.element(a.children()[0]);angular.element(a.children()[1]).remove(),t.removeClass("ui-grid-cell-contents-hidden"),e&&w&&t.focus(),w=!1,b=!1,l()}}function g(){b&&(v.assign(i,m),i.$apply(),i.grid.api.edit.raise.cancelCellEdit(i.row.entity,i.col.colDef),f(!0))}if(i.col.colDef.enableCellEdit){var h,m,v,b=!1,w=!1;l()}}}}]),e.directive("uiGridEditor",["uiGridConstants","uiGridEditConstants",function(e,t){return{scope:!0,compile:function(){return{pre:function(){},post:function(n,i){n.$on(t.events.BEGIN_CELL_EDIT,function(){i[0].focus(),i[0].select(),i.on("blur",function(e){n.stopEdit(e)})}),n.deepEdit=!1,n.stopEdit=function(e){n.inputForm&&!n.inputForm.$valid?(e.stopPropagation(),n.$emit(t.events.CANCEL_CELL_EDIT)):n.$emit(t.events.END_CELL_EDIT),n.deepEdit=!1},i.on("click",function(){n.deepEdit=!0}),i.on("keydown",function(i){switch(i.keyCode){case e.keymap.ESC:i.stopPropagation(),n.$emit(t.events.CANCEL_CELL_EDIT);break;case e.keymap.ENTER:n.stopEdit(i);break;case e.keymap.TAB:n.stopEdit(i)}if(n.deepEdit)switch(i.keyCode){case e.keymap.LEFT:i.stopPropagation();break;case e.keymap.RIGHT:i.stopPropagation();break;case e.keymap.UP:i.stopPropagation();break;case e.keymap.DOWN:i.stopPropagation()}return!0})}}}}}]),e.directive("input",["$filter",function(e){function t(e){if("undefined"==typeof e||""===e)return null;var t=e.split("-");if(3!==t.length)return null;var n=parseInt(t[0],10),i=parseInt(t[1],10),r=parseInt(t[2],10);return 1>i||1>n||1>r?null:new Date(n,i-1,r)}return{restrict:"E",require:"?ngModel",link:function(n,i,r,o){2===angular.version.minor&&r.type&&"date"===r.type&&o&&(o.$formatters.push(function(t){return o.$setValidity(null,!t||!isNaN(t.getTime())),e("date")(t,"yyyy-MM-dd")}),o.$parsers.push(function(e){if(e&&e.length>0){var n=t(e);return o.$setValidity(null,n&&!isNaN(n.getTime())),n}return o.$setValidity(null,!0),null}))}}}]),e.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants",function(e,t){return{scope:!0,compile:function(){return{pre:function(){},post:function(n,i){n.$on(t.events.BEGIN_CELL_EDIT,function(){i[0].focus(),i[0].style.width=i[0].parentElement.offsetWidth-1+"px",i.on("blur",function(e){n.stopEdit(e)})}),n.stopEdit=function(){n.$emit(t.events.END_CELL_EDIT)},i.on("keydown",function(i){switch(i.keyCode){case e.keymap.ESC:i.stopPropagation(),n.$emit(t.events.CANCEL_CELL_EDIT);break;case e.keymap.ENTER:n.stopEdit(i);break;case e.keymap.LEFT:n.stopEdit(i);break;case e.keymap.RIGHT:n.stopEdit(i);break;case e.keymap.UP:i.stopPropagation();break;case e.keymap.DOWN:i.stopPropagation();break;case e.keymap.TAB:n.stopEdit(i)}return!0})}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.expandable",["ui.grid"]);e.service("uiGridExpandableService",["gridUtil","$log","$compile",function(){var e={initializeGrid:function(t){var n={events:{expandable:{rowExpandedStateChanged:function(){}}},methods:{expandable:{toggleRowExpansion:function(n){var i=t.getRow(n);null!==i&&e.toggleRowExpansion(t,i)},expandAllRows:function(){e.expandAllRows(t)},collapseAllRows:function(){e.collapseAllRows(t)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods)},toggleRowExpansion:function(e,t){t.isExpanded=!t.isExpanded,t.height=t.isExpanded?t.grid.options.rowHeight+e.options.expandable.expandableRowHeight:t.grid.options.rowHeight,e.api.expandable.raise.rowExpandedStateChanged(t)},expandAllRows:function(t){angular.forEach(t.renderContainers.body.visibleRowCache,function(n){n.isExpanded||e.toggleRowExpansion(t,n)}),t.refresh()},collapseAllRows:function(t){angular.forEach(t.renderContainers.body.visibleRowCache,function(n){n.isExpanded&&e.toggleRowExpansion(t,n)}),t.refresh()}};return e}]),e.directive("uiGridExpandable",["$log","uiGridExpandableService","$templateCache",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,r,o){var a={name:"expandableButtons",width:40};a.cellTemplate=n.get("ui-grid/expandableRowHeader"),o.grid.addRowHeaderColumn(a),t.initializeGrid(o.grid)},post:function(){}}}}}]),e.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$log","$compile","uiGridConstants","gridUtil","$interval",function(e,t,n,i,r,o){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(e,t){o.getTemplate(e.grid.options.expandable.rowExpandableTemplate).then(function(n){var r=i(n)(e);t.append(r),e.row.expandedRendered=!0})},post:function(e){e.$on("$destroy",function(){e.row.expandedRendered=!1})}}}}}]),e.directive("uiGridRow",["$compile","$log","$templateCache",function(){return{priority:-200,scope:!1,compile:function(){return{pre:function(e){e.expandableRow={},e.expandableRow.shouldRenderExpand=function(){var t="body"===e.colContainer.name&&e.row.isExpanded&&(!e.grid.isScrollingVertically||e.row.expandedRendered);return t},e.expandableRow.shouldRenderFiller=function(){var t=e.row.isExpanded&&("body"!==e.colContainer.name||e.grid.isScrollingVertically&&!e.row.expandedRendered);return t}},post:function(){}}}}}]),e.directive("uiGridViewport",["$compile","$log","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e){var t=angular.element(e.children().children()[0]),i=n.get("ui-grid/expandableScrollFiller"),r=n.get("ui-grid/expandableRow");return t.append(r),t.append(i),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.exporter",["ui.grid"]);e.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",LINK_LABEL:"LINK_LABEL",BUTTON_LABEL:"BUTTON_LABEL"}),e.service("uiGridExporterService",["$log","$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function(e,t,n,i,r,o,a){var l={initializeGrid:function(e){e.exporter={},this.defaultGridOptions(e.options);var t={events:{exporter:{}},methods:{exporter:{csvExport:function(t,n,i){l.csvExport(e,t,n,i)},pdfExport:function(t,n){l.pdfExport(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods),e.api.core.addToGridMenu?l.addToMenu(e):o(function(){e.api.core.addToGridMenu&&l.addToMenu(e)},100,1)},defaultGridOptions:function(e){e.exporterSuppressButton=e.exporterSuppressButton===!0,e.exporterLinkTemplate=e.exporterLinkTemplate?e.exporterLinkTemplate:"ui-grid/csvLink",e.exporterHeaderTemplate=e.exporterHeaderTemplate?e.exporterHeaderTemplate:"ui-grid/exporterHeader",e.exporterLinkLabel=e.exporterLinkLabel?e.exporterLinkLabel:"Download CSV",e.exporterButtonLabel=e.exporterButtonLabel?e.exporterButtonLabel:"Export",e.exporterPdfDefaultStyle=e.exporterPdfDefaultStyle?e.exporterPdfDefaultStyle:{fontSize:11},e.exporterPdfTableStyle=e.exporterPdfTableStyle?e.exporterPdfTableStyle:{margin:[0,5,0,15]},e.exporterPdfTableHeaderStyle=e.exporterPdfTableHeaderStyle?e.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},e.exporterPdfOrientation=e.exporterPdfOrientation?e.exporterPdfOrientation:"landscape",e.exporterPdfPageSize=e.exporterPdfPageSize?e.exporterPdfPageSize:"A4",e.exporterPdfMaxGridWidth=e.exporterPdfMaxGridWidth?e.exporterPdfMaxGridWidth:720,e.exporterMenuCsv=void 0===e.exporterMenuCsv||e.exporterMenuCsv,e.exporterMenuPdf=void 0===e.exporterMenuPdf||e.exporterMenuPdf},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.exporterAllAsCsv"),action:function(){this.grid.api.exporter.csvExport(n.ALL,n.ALL)},shown:function(){return this.grid.options.exporterMenuCsv}},{title:a.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(){this.grid.api.exporter.csvExport(n.VISIBLE,n.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv}},{title:a.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(){this.grid.api.exporter.csvExport(n.SELECTED,n.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0}},{title:a.getSafeText("gridMenu.exporterAllAsPdf"),action:function(){this.grid.api.exporter.pdfExport(n.ALL,n.ALL)},shown:function(){return this.grid.options.exporterMenuPdf}},{title:a.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(){this.grid.api.exporter.pdfExport(n.VISIBLE,n.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf}},{title:a.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(){this.grid.api.exporter.pdfExport(n.SELECTED,n.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0}}])},csvExport:function(t,n,i,r){var o=this.getColumnHeaders(t,i),a=this.getData(t,n,i),l=this.formatAsCsv(o,a);!r&&t.options.exporterCsvLinkElement&&(r=t.options.exporterCsvLinkElement),r?this.renderCsvLink(t,l,r):e.error("Exporter asked to export as csv, but no element provided.  Perhaps you should set gridOptions.exporterCsvLinkElement?")},getColumnHeaders:function(e,t){var i=[];return angular.forEach(e.columns,function(e){(e.visible||t===n.ALL)&&i.push({name:e.field,displayName:e.displayName,width:e.drawnWidth?e.drawnWidth:e.width,align:"number"===e.colDef.type?"right":"left"})}),i},getData:function(t,i,r){var o,a=[];switch(i){case n.ALL:o=t.rows;break;case n.VISIBLE:o=t.getVisibleRows();break;case n.SELECTED:t.api.selection?o=t.api.selection.getSelectedGridRows():e.error("selection feature must be enabled to allow selected rows to be exported")}return n.ALL?(angular.forEach(o,function(e){var i=[];angular.forEach(t.columns,function(o){(o.visible||r===n.ALL)&&i.push(t.getCellValue(e,o))}),a.push(i)}),a):void 0},formatAsCsv:function(e,t){var n=this,i=e.map(function(e){return e.displayName}),r=n.formatRowAsCsv(this)(i)+"\n";return r+=t.map(this.formatRowAsCsv(this)).join("\n")},formatRowAsCsv:function(e){return function(t){return t.map(e.formatFieldAsCsv).join(",")}},formatFieldAsCsv:function(e){return null==e?"":"number"==typeof e?e:"boolean"==typeof e?e?"TRUE":"FALSE":"string"==typeof e?'"'+e.replace(/"/g,'""')+'"':JSON.stringify(e)},renderCsvLink:function(e,t,o){var a=o?o:angular.element(e.exporter.gridElm[0].querySelectorAll(".ui-grid-exporter-csv-link"));angular.element(a[0].querySelectorAll(".ui-grid-exporter-csv-link-span"))&&angular.element(a[0].querySelectorAll(".ui-grid-exporter-csv-link-span")).remove(),i.getTemplate(e.options.exporterLinkTemplate).then(function(i){i=i.replace(n.LINK_LABEL,e.options.exporterLinkLabel),i=i.replace(n.CSV_CONTENT,encodeURIComponent(t));var o=angular.element(i),l=r(o)(e.exporter.$scope);a.append(l)})},pdfExport:function(e,t,n){var i=this.getColumnHeaders(e,n),r=this.getData(e,t,n),o=this.prepareAsPdf(e,i,r);pdfMake.createPdf(o).open()},prepareAsPdf:function(e,t,n){var i=this.calculatePdfHeaderWidths(e,t),r=t.map(function(e){return{text:e.displayName,style:"tableHeader"}}),o=n.map(this.formatRowAsPdf(this)),a=[r].concat(o),l={pageOrientation:e.options.exporterPdfOrientation,content:[{style:"tableStyle",table:{headerRows:1,widths:i,body:a}}],styles:{tableStyle:e.options.exporterPdfTableStyle,tableHeader:e.options.exporterPdfTableHeaderStyle},defaultStyle:e.options.exporterPdfDefaultStyle};return e.options.exporterPdfLayout&&(l.layout=e.options.exporterPdfLayout),l},calculatePdfHeaderWidths:function(e,t){var n=0;angular.forEach(t,function(e){"number"==typeof e.width&&(n+=e.width)});var i=0;angular.forEach(t,function(e){if("*"===e.width&&(i+=100),"string"==typeof e.width&&e.width.match(/(\d)*%/)){var t=parseInt(e.width.match(/(\d)*%/)[0]);e.width=n*t/100,i+=e.width}});var r=n+i;return t.map(function(t){return"*"===t.width?t.width:t.width*e.options.exporterPdfMaxGridWidth/r})},formatRowAsPdf:function(e){return function(t){return t.map(e.formatFieldAsPdfString)}},formatFieldAsPdfString:function(e){return null==e?"":"number"==typeof e?e.toString():"boolean"==typeof e?e?"TRUE":"FALSE":"string"==typeof e?e.replace(/"/g,'""'):JSON.stringify(e).replace(/^"/,"").replace(/"$/,"")}};return l}]),e.directive("uiGridExporter",["$log","uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,t,i,r){n.initializeGrid(r.grid),r.grid.exporter.$scope=e}}}])}(),function(){"use strict";var e=angular.module("ui.grid.infiniteScroll",["ui.grid"]);e.service("uiGridInfiniteScrollService",["gridUtil","$log","$compile","$timeout",function(){var e={initializeGrid:function(t){e.defaultGridOptions(t.options);var n={events:{infiniteScroll:{needLoadMoreData:function(){}}},methods:{infiniteScroll:{dataLoaded:function(){t.options.loadTimout=!1}}}};t.options.loadTimout=!1,t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableInfiniteScroll=e.enableInfiniteScroll!==!1},loadData:function(e){e.api.infiniteScroll.raise.needLoadMoreData(),e.options.loadTimout=!0},checkScroll:function(e,t){var n=e.options.infiniteScrollPercentage?e.options.infiniteScrollPercentage:20;return!e.options.loadTimout&&n>=t&&(this.loadData(e),!0)}};return e}]),e.directive("uiGridInfiniteScroll",["$log","uiGridInfiniteScrollService",function(e,t){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(r.grid)},post:function(){}}}}}]),e.directive("uiGridViewport",["$compile","$log","uiGridInfiniteScrollService","uiGridConstants",function(e,t,n,i){return{priority:-200,scope:!1,link:function(e){e.grid.options.enableInfiniteScroll&&e.$on(i.events.GRID_SCROLL,function(t,i){if(i.y){var r=100-100*i.y.percentage;n.checkScroll(e.grid,r)}})}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pinning",["ui.grid"]);e.service("uiGridPinningService",["$log","GridRenderContainer","i18nService",function(e,t,n){var i={initializeGrid:function(e){i.defaultGridOptions(e.options),e.registerColumnBuilder(i.pinningColumnBuilder)},defaultGridOptions:function(e){e.enablePinning=e.enablePinning!==!1},pinningColumnBuilder:function(e,t,i){if(e.enablePinning=void 0===e.enablePinning?i.enablePinning:e.enablePinning,e.pinnedLeft?(t.renderContainer="left",t.grid.createLeftContainer()):e.pinnedRight&&(t.renderContainer="right",t.grid.createRightContainer()),e.enablePinning){var r={title:n.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){this.context.col.renderContainer="left",this.context.col.width=this.context.col.drawnWidth,this.context.col.grid.createLeftContainer(),t.grid.refresh().then(function(){t.grid.refresh()})}},o={title:n.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){this.context.col.renderContainer="right",this.context.col.width=this.context.col.drawnWidth,this.context.col.grid.createRightContainer(),t.grid.refresh().then(function(){t.grid.refresh()})}},a={title:n.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return"undefined"!=typeof this.context.col.renderContainer&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){this.context.col.renderContainer=null,t.grid.refresh().then(function(){t.grid.refresh()})}};t.menuItems.push(r),t.menuItems.push(o),t.menuItems.push(a)}}};return i}]),e.directive("uiGridPinning",["$log","uiGridPinningService",function(e,t){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(r.grid)},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.resizeColumns",["ui.grid"]);e.constant("columnBounds",{minWidth:35}),e.service("uiGridResizeColumnsService",["$log","$q",function(e,t){var n={defaultGridOptions:function(e){e.enableColumnResizing=e.enableColumnResizing!==!1,e.enableColumnResize===!1&&(e.enableColumnResizing=!1)},colResizerColumnBuilder:function(e,n,i){var r=[];return e.enableColumnResizing=void 0===e.enableColumnResizing?i.enableColumnResizing:e.enableColumnResizing,e.enableColumnResize===!1&&(e.enableColumnResizing=!1),t.all(r)}};return n}]),e.directive("uiGridResizeColumns",["$log","uiGridResizeColumnsService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.defaultGridOptions(r.grid.options),r.grid.registerColumnBuilder(t.colResizerColumnBuilder)},post:function(){}}}}}]),e.directive("uiGridHeaderCell",["$log","$templateCache","$compile","$q",function(e,t,n,i){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,r,o,a){if(a.grid.options.enableColumnResizing){var l=i.defer();o.$observe("renderIndex",function(t){e.renderIndex=e.$eval(t),l.resolve()}),l.promise.then(function(){var i=t.get("ui-grid/columnResizer"),o=angular.element(i).clone(),a=angular.element(i).clone();o.attr("position","left"),a.attr("position","right");var l=e.col,s=l.getRenderContainer(),c=s.renderedColumns[e.renderIndex-1];c&&0!==s.visibleColumnCache.indexOf(e.col)&&c.colDef.enableColumnResizing!==!1&&(r.prepend(o),n(o)(e)),e.col.colDef.enableColumnResizing!==!1&&(r.append(a),n(a)(e))})}}}}}}]),e.directive("uiGridColumnResizer",["$log","$document","gridUtil","uiGridConstants","columnBounds",function(e,t,n,i,r){var o=angular.element('<div class="ui-grid-resize-overlay"></div>'),a={priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(e,a,l,s){function c(e){var t=e.getRenderContainer();t.visibleColumnCache.forEach(function(t){if(t!==e){var n=t.colDef;(!n.width||angular.isString(n.width)&&(-1!==n.width.indexOf("*")||-1!==n.width.indexOf("%")))&&(t.width=t.drawnWidth)}})}function d(){s.grid.buildColumns().then(function(){s.grid.refreshCanvas(!0)})}function u(t){t.originalEvent&&(t=t.originalEvent),t.preventDefault(),g=t.clientX-h,0>g?g=0:g>s.grid.gridWidth&&(g=s.grid.gridWidth);var n,a=e.col,l=a.getRenderContainer();if("left"===e.position?(a=l.renderedColumns[e.renderIndex-1],n=e.col):"right"===e.position&&(n=l.renderedColumns[e.renderIndex+1]),a.colDef.enableColumnResizing!==!1){s.grid.element.hasClass("column-resizing")||s.grid.element.addClass("column-resizing");var c=g-f,d=a.drawnWidth+c;a.colDef.minWidth&&d<a.colDef.minWidth?g+=a.colDef.minWidth-d:!a.colDef.minWidth&&r.minWidth&&d<r.minWidth?g+=a.colDef.minWidth-d:a.colDef.maxWidth&&d>a.colDef.maxWidth&&(g+=a.colDef.maxWidth-d),o.css({left:g+"px"}),s.fireEvent(i.events.ITEM_DRAGGING)}}function p(n){n.originalEvent&&(n=n.originalEvent),n.preventDefault(),s.grid.element.removeClass("column-resizing"),o.remove(),g=n.clientX-h;var i=g-f;if(0===i)return t.off("mouseup",p),void t.off("mousemove",u);var a,l=e.col,m=l.getRenderContainer();
if("left"===e.position?(l=m.renderedColumns[e.renderIndex-1],a=e.col):"right"===e.position&&(a=m.renderedColumns[e.renderIndex+1]),l.colDef.enableColumnResizing!==!1){var v=parseInt(l.drawnWidth+i,10);l.colDef.minWidth&&v<l.colDef.minWidth?v=l.colDef.minWidth:!l.colDef.minWidth&&r.minWidth&&v<r.minWidth&&(v=r.minWidth),l.colDef.maxWidth&&v>l.colDef.maxWidth&&(v=l.colDef.maxWidth),l.width=v,c(l),d(i),t.off("mouseup",p),t.off("mousemove",u)}}var f=0,g=0,h=0;"left"===e.position?a.addClass("left"):"right"===e.position&&a.addClass("right"),a.on("mousedown",function(e){e.originalEvent&&(e=e.originalEvent),e.stopPropagation(),h=s.grid.element[0].getBoundingClientRect().left,f=e.clientX-h,s.grid.element.append(o),o.css({left:f}),t.on("mouseup",p),t.on("mousemove",u)}),a.on("dblclick",function(t){t.stopPropagation();var o,l,s=e.col,u=s.getRenderContainer();"left"===e.position?(s=u.renderedColumns[e.renderIndex-1],o=e.col,l=1):"right"===e.position&&(o=u.renderedColumns[e.renderIndex+1],o=u.renderedColumns[e.renderIndex+1],l=-1);var p=0,f=0,g=n.closestElm(a,".ui-grid-render-container"),h=g.querySelectorAll("."+i.COL_CLASS_PREFIX+s.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(h,function(e){var t;angular.element(e).parent().hasClass("ui-grid-header-cell")&&(t=angular.element(e).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),n.fakeElement(e,{},function(e){var i=angular.element(e);i.attr("style","float: left");var r=n.elementWidth(i);if(t){var o=n.elementWidth(t);r+=o}r>p&&(p=r,f=p-r)})}),s.colDef.minWidth&&p<s.colDef.minWidth?p=s.colDef.minWidth:!s.colDef.minWidth&&r.minWidth&&p<r.minWidth&&(p=r.minWidth),s.colDef.maxWidth&&p>s.colDef.maxWidth&&(p=s.colDef.maxWidth),s.width=parseInt(p,10),c(s),d(f)}),a.on("$destroy",function(){a.off("mousedown"),a.off("dblclick"),t.off("mousemove",u),t.off("mouseup",p)})}};return a}])}(),function(){"use strict";var e=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);e.constant("uiGridRowEditConstants",{}),e.service("uiGridRowEditService",["$interval","$log","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(e,t,n){var i={initializeGrid:function(e,t){var n={events:{rowEdit:{saveRow:function(){}}},methods:{rowEdit:{setSavePromise:function(e,t,n){i.setSavePromise(e,t,n)},getDirtyRows:function(e){return e.rowEditDirtyRows?e.rowEditDirtyRows:[]},getErrorRows:function(e){return e.rowEditErrorRows?e.rowEditErrorRows:[]},flushDirtyRows:function(e){return i.flushDirtyRows(e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.api.core.on.renderingComplete(e,function(){t.api.edit.on.afterCellEdit(e,i.endEditCell),t.api.edit.on.beginCellEdit(e,i.beginEditCell),t.api.edit.on.cancelCellEdit(e,i.cancelEditCell),t.api.cellNav&&t.api.cellNav.on.navigate(e,i.navigate)})},defaultGridOptions:function(){},saveRow:function(e,n){var i=this;return function(){n.isSaving=!0;var r=e.api.rowEdit.raise.saveRow(n.entity);return n.rowEditSavePromise?n.rowEditSavePromise.then(i.processSuccessPromise(e,n),i.processErrorPromise(e,n)):t.log("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),r}},setSavePromise:function(e,t,n){var i=e.getRow(t);i.rowEditSavePromise=n},processSuccessPromise:function(e,t){var n=this;return function(){delete t.isSaving,delete t.isDirty,delete t.isError,delete t.rowEditSaveTimer,n.removeRow(e.rowEditErrorRows,t),n.removeRow(e.rowEditDirtyRows,t)}},processErrorPromise:function(e,t){return function(){delete t.isSaving,delete t.rowEditSaveTimer,t.isError=!0,e.rowEditErrorRows||(e.rowEditErrorRows=[]),e.rowEditErrorRows.push(t)}},removeRow:function(e,t){angular.forEach(e,function(n,i){n.uid===t.uid&&e.splice(i,1)})},flushDirtyRows:function(e){var t=[];return angular.forEach(e.rowEditDirtyRows,function(n){i.saveRow(e,n)(),t.push(n.rowEditSavePromise)}),n.all(t)},endEditCell:function(e,n,r,o){var a=this.grid,l=a.getRow(e);return l?void((r!==o||l.isDirty)&&(a.rowEditDirtyRows||(a.rowEditDirtyRows=[]),l.isDirty||(l.isDirty=!0,a.rowEditDirtyRows.push(l)),delete l.isError,i.considerSetTimer(a,l))):void t.log("Unable to find rowEntity in grid data, dirty flag cannot be set")},beginEditCell:function(e){var n=this.grid,r=n.getRow(e);return r?void i.cancelTimer(n,r):void t.log("Unable to find rowEntity in grid data, timer cannot be cancelled")},cancelEditCell:function(e){var n=this.grid,r=n.getRow(e);return r?void i.considerSetTimer(n,r):void t.log("Unable to find rowEntity in grid data, timer cannot be set")},navigate:function(e,t){var n=this.grid;e.row.rowEditSaveTimer&&i.cancelTimer(n,e.row),t&&t.row&&t.row!==e.row&&i.considerSetTimer(n,t.row)},considerSetTimer:function(t,n){if(i.cancelTimer(t,n),n.isDirty&&!n.isSaving&&-1!==t.options.rowEditWaitInterval){var r=t.options.rowEditWaitInterval?t.options.rowEditWaitInterval:2e3;n.rowEditSaveTimer=e(i.saveRow(t,n),r,1)}},cancelTimer:function(t,n){n.rowEditSaveTimer&&!n.isSaving&&(e.cancel(n.rowEditSaveTimer),delete n.rowEditSaveTimer)}};return i}]),e.directive("uiGridRowEdit",["$log","uiGridRowEditService","uiGridEditConstants",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(e,r.grid)},post:function(){}}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","$log","$parse",function(){return{priority:-200,scope:!1,compile:function(e){var t=angular.element(e.children().children()[0]),n=t.attr("ng-class"),i="";return i=n?n.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",t.attr("ng-class",i),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.selection",["ui.grid"]);e.constant("uiGridSelectionConstants",{featureName:"selection"}),e.service("uiGridSelectionService",["$log","$q","$templateCache","uiGridSelectionConstants","gridUtil",function(){var e={initializeGrid:function(t){t.selection={},t.selection.lastSelectedRow=null,e.defaultGridOptions(t.options);var n={events:{selection:{rowSelectionChanged:function(){}}},methods:{selection:{toggleRowSelection:function(n){var i=t.getRow(n);null!==i&&e.toggleRowSelection(t,i,t.options.multiSelect,t.options.noUnselect)},selectRow:function(n){var i=t.getRow(n);null===i||i.isSelected||e.toggleRowSelection(t,i,t.options.multiSelect,t.options.noUnselect)},unSelectRow:function(n){var i=t.getRow(n);null!==i&&i.isSelected&&e.toggleRowSelection(t,i,t.options.multiSelect,t.options.noUnselect)},selectAllRows:function(){t.options.multiSelect!==!1&&t.rows.forEach(function(e){e.isSelected=!0})},selectAllVisibleRows:function(){t.options.multiSelect!==!1&&t.rows.forEach(function(e){e.isSelected=!!e.visible})},clearSelectedRows:function(){e.clearSelectedRows(t)},getSelectedRows:function(){return e.getSelectedRows(t).map(function(e){return e.entity})},getSelectedGridRows:function(){return e.getSelectedRows(t)},setMultiSelect:function(e){t.options.multiSelect=e},setModifierKeysToMultiSelect:function(e){t.options.modifierKeysToMultiSelect=e}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableRowSelection=e.enableRowSelection!==!1,e.multiSelect=e.multiSelect!==!1,e.noUnselect=e.noUnselect===!0,e.modifierKeysToMultiSelect=e.modifierKeysToMultiSelect===!0,e.enableRowHeaderSelection=e.enableRowHeaderSelection!==!1},toggleRowSelection:function(t,n,i,r){var o=n.isSelected;i||o||e.clearSelectedRows(t),n.isSelected&&r||(n.isSelected=!o,n.isSelected===!0&&(t.selection.lastSelectedRow=n),t.api.selection.raise.rowSelectionChanged(n))},shiftSelect:function(t,n,i){if(i){var r=e.getSelectedRows(t),o=r.length>0?t.renderContainers.body.visibleRowCache.indexOf(t.selection.lastSelectedRow):0,a=t.renderContainers.body.visibleRowCache.indexOf(n);if(o>a){var l=o;o=a,a=l}for(var s=o;a>=s;s++){var c=t.renderContainers.body.visibleRowCache[s];c&&(c.isSelected=!0,t.selection.lastSelectedRow=c,t.api.selection.raise.rowSelectionChanged(c))}}},getSelectedRows:function(e){return e.rows.filter(function(e){return e.isSelected})},clearSelectedRows:function(t){e.getSelectedRows(t).forEach(function(e){e.isSelected=!1,t.api.selection.raise.rowSelectionChanged(e)})}};return e}]),e.directive("uiGridSelection",["$log","uiGridSelectionConstants","uiGridSelectionService","$templateCache",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,i,r){if(n.initializeGrid(r.grid),r.grid.options.enableRowHeaderSelection){var o={name:"selectionRowHeaderCol",displayName:"",width:30,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell"};r.grid.addRowHeaderColumn(o)}},post:function(){}}}}}]),e.directive("uiGridSelectionRowHeaderButtons",["$log","$templateCache","uiGridSelectionService",function(e,t,n){return{replace:!0,restrict:"E",template:t.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,t,i,r){var o=r.grid;e.selectButtonClick=function(e,t){t.shiftKey?n.shiftSelect(o,e,o.options.multiSelect):t.ctrlKey||t.metaKey?n.toggleRowSelection(o,e,o.options.multiSelect,o.options.noUnselect):n.toggleRowSelection(o,e,o.options.multiSelect&&!o.options.modifierKeysToMultiSelect,o.options.noUnselect)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","$log","$parse","uiGridSelectionService",function(){return{priority:-200,scope:!1,compile:function(e){var t=angular.element(e.children().children()[0]),n=t.attr("ng-class"),i="";return i=n?n.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",t.attr("ng-class",i),{pre:function(){},post:function(){}}}}}]),e.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","$log","$parse","uiGridSelectionService",function(e,t,n,i,r,o){return{priority:-200,restrict:"A",scope:!1,link:function(e,t){function n(){t.on("click",function(t){t.shiftKey?o.shiftSelect(e.grid,e.row,e.grid.options.multiSelect):t.ctrlKey||t.metaKey?o.toggleRowSelection(e.grid,e.row,e.grid.options.multiSelect,e.grid.options.noUnselect):o.toggleRowSelection(e.grid,e.row,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply()})}e.grid.options.enableRowSelection&&!e.grid.options.enableRowHeaderSelection&&(t.addClass("ui-grid-disable-selection"),n())}}}])}(),angular.module("ui.grid").run(["$templateCache",function(e){"use strict";e.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel"><div ui-grid-group-panel ng-show="grid.options.showGroupPanel"></div><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div ng-repeat="col in colContainer.renderedColumns track by col.colDef.name" ui-grid-footer-cell col="col" render-index="$index" class="ui-grid-footer-cell clearfix" ng-style="$index === 0 && colContainer.columnStyle($index)"></div></div></div></div>'),e.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>'),e.put("ui-grid/ui-grid-header",'<div class="ui-grid-header"><div class="ui-grid-top-panel"><div ui-grid-group-panel ng-show="grid.options.showGroupPanel"></div><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell clearfix" ng-repeat="col in colContainer.renderedColumns track by col.colDef.name" ui-grid-header-cell col="col" render-index="$index" ng-style="$index === 0 && colContainer.columnStyle($index)"></div></div></div><div ui-grid-menu></div></div></div>'),e.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button" ng-click="toggleMenu()"><div class="ui-grid-icon-container"><i class="ui-grid-icon-menu">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>'),e.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),e.put("ui-grid/ui-grid-row",'<div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell" ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader }" ui-grid-cell></div>'),e.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid"><!-- TODO (c0bra): add "scoped" attr here, eventually? --><style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n\n    {{ grid.customStyles }}</style><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-scrollbars="grid.options.enableScrollbars"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenu"></div><div ng-transclude></div></div>'),e.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/uiGridColumnFilter",'<li class="ui-grid-menu-item ui-grid-clearfix ui-grid-column-filter" ng-show="itemShown()" ng-click="$event.stopPropagation();"><div class="input-container"><input class="column-filter-input" type="text" ng-model="item.model" placeholder="{{ i18n.search.placeholder }}"><div class="column-filter-cancel-icon-container"><i class="ui-grid-filter-cancel ui-grid-icon-cancel column-filter-cancel-icon">&nbsp;</i></div></div><div style="button-container" ng-click="item.action($event)"><div class="ui-grid-button"><i class="ui-grid-icon-search">&nbsp;</i></div></div></li>'),e.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems"><!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --></div></div>'),e.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationValue() }}</div></div>'),e.put("ui-grid/uiGridHeaderCell",'<div ng-class="{ \'sortable\': sortable }"><div class="ui-grid-vertical-bar">&nbsp;</div><div class="ui-grid-cell-contents" col-index="renderIndex">{{ col.displayName CUSTOM_FILTERS }} <span ui-grid-visible="col.sort.direction" ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }">&nbsp;</span></div><div class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenu && !col.isRowHeader  && !col.colDef.disableColumnMenu" class="ui-grid-column-menu-button" ng-click="toggleMenu($event)"><i class="ui-grid-icon-angle-down">&nbsp;</i></div><div ng-if="filterable" class="ui-grid-filter-container" ng-repeat="colFilter in col.filters"><input type="text" class="ui-grid-filter-input" ng-model="colFilter.term" ng-click="$event.stopPropagation()" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}"><div class="ui-grid-filter-button" ng-click="colFilter.term = null"><i class="ui-grid-icon-cancel right" ng-show="!!colFilter.term">&nbsp;</i> <!-- use !! because angular interprets \'f\' as false --></div></div></div>'),e.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul class="ui-grid-menu-items"><li ng-repeat="item in menuItems" ui-grid-menu-item action="item.action" title="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl"></li></ul></div></div></div>'),e.put("ui-grid/uiGridMenuItem",'<li class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\' : active() }"><i ng-class="icon"></i> {{ title }}</li>'),e.put("ui-grid/uiGridRenderContainer",'<div class="ui-grid-render-container"><div ui-grid-header></div><div ui-grid-viewport></div><div ui-grid-footer ng-if="grid.options.showFooter"></div><!-- native scrolling --><div ui-grid-native-scrollbar ng-if="enableScrollbars" type="vertical"></div><div ui-grid-native-scrollbar ng-if="enableScrollbars" type="horizontal"></div></div>'),e.put("ui-grid/uiGridViewport",'<div class="ui-grid-viewport"><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by row.uid" class="ui-grid-row" ng-style="containerCtrl.rowStyle(rowRenderIndex)"><div ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),e.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="{{inputType}}" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),e.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth() - grid.verticalScrollbarWidth) + \'px\'\n     , height: grid.options.expandable.expandableRowHeight + \'px\'}"></div>'),e.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>'),e.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" style=\"float:left; margin-top: 2px; margin-bottom: 2px\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px',\n              height: grid.options.expandable.expandableRowHeight + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{ 'margin-top': ( grid.options.expandable.expandableRowHeight/2 - 5) + 'px',\n            'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px' }\"></i></div>"),e.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT">LINK_LABEL</a></span>'),e.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex"></div>'),e.put("ui-grid/selectionHeaderCell",'<div><div class="ui-grid-vertical-bar">&nbsp;</div><div class="ui-grid-cell-contents" col-index="renderIndex"></div></div>'),e.put("ui-grid/selectionRowHeader",'<div class="ui-grid-row-header-cell ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>'),e.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>')}]),!function(){"use strict";var e={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,isControl:function(t){var n=t.which;switch(n){case e.COMMAND:case e.SHIFT:case e.CTRL:case e.ALT:return!0}return!!t.metaKey},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e},isVerticalMovement:function(t){return~[e.UP,e.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[e.LEFT,e.RIGHT,e.BACKSPACE,e.DELETE].indexOf(t)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,placeholder:"",refreshDelay:1e3}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),n=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).service("RepeatParser",["uiSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var i=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!i)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);return{itemName:i[2],source:t(i[3]),trackByExp:i[4],modelMapper:t(i[1]||i[2])}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups"},n.getNgRepeatExpression=function(e,t,n,i){var r=e+" in "+(i?"$group.items":t);return n&&(r+=" track by "+n),r}}]).controller("uiSelectCtrl",["$scope","$element","$timeout","RepeatParser","uiSelectMinErr",function(t,n,i,r,o){function a(){u.resetSearchInput&&(u.search=p,u.selected&&u.items.length&&!u.multiple&&(u.activeIndex=u.items.indexOf(u.selected)))}function l(t){var n=!0;switch(t){case e.DOWN:!u.open&&u.multiple?u.activate(!1,!0):u.activeIndex<u.items.length-1&&u.activeIndex++;break;case e.UP:!u.open&&u.multiple?u.activate(!1,!0):u.activeIndex>0&&u.activeIndex--;break;case e.TAB:(!u.multiple||u.open)&&u.select(u.items[u.activeIndex],!0);break;case e.ENTER:u.open?u.select(u.items[u.activeIndex]):u.activate(!1,!0);break;case e.ESC:u.close();break;default:n=!1}return n}function s(t){function n(){switch(t){case e.LEFT:return~u.activeMatchIndex?d:a;case e.RIGHT:return~u.activeMatchIndex&&l!==a?s:(u.activate(),!1);case e.BACKSPACE:return~u.activeMatchIndex?(u.removeChoice(l),d):a;case e.DELETE:return!!~u.activeMatchIndex&&(u.removeChoice(u.activeMatchIndex),l)}}var i=c(f[0]),r=u.selected.length,o=0,a=r-1,l=u.activeMatchIndex,s=u.activeMatchIndex+1,d=u.activeMatchIndex-1,p=l;return!(i>0||u.search.length&&t==e.RIGHT)&&(u.close(),p=n(),u.activeMatchIndex=u.selected.length&&p!==!1?Math.min(a,Math.max(o,p)):-1,!0)}function c(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function d(){var e=n.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw o("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);var i=t[u.activeIndex],r=i.offsetTop+i.clientHeight-e[0].scrollTop,a=e[0].offsetHeight;r>a?e[0].scrollTop+=r-a:r<i.clientHeight&&(u.isGrouped&&0===u.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=i.clientHeight-r)}var u=this,p="";u.placeholder=void 0,u.search=p,u.activeIndex=0,u.activeMatchIndex=-1,u.items=[],u.selected=void 0,u.open=!1,u.focus=!1,u.focusser=void 0,u.disabled=void 0,u.searchEnabled=void 0,u.resetSearchInput=void 0,u.refreshDelay=void 0,u.multiple=!1,u.disableChoiceExpression=void 0,u.isEmpty=function(){return angular.isUndefined(u.selected)||null===u.selected||""===u.selected};var f=n.querySelectorAll("input.ui-select-search");if(1!==f.length)throw o("searchInput","Expected 1 input.ui-select-search but got '{0}'.",f.length);u.activate=function(e,t){u.disabled||u.open||(t||a(),u.focusser.prop("disabled",!0),u.open=!0,u.activeMatchIndex=-1,u.activeIndex=u.activeIndex>=u.items.length?0:u.activeIndex,i(function(){u.search=e||u.search,f[0].focus()}))},u.findGroupByName=function(e){return u.groups&&u.groups.filter(function(t){return t.name===e})[0]},u.parseRepeatAttr=function(e,n){function i(e){u.groups=[],angular.forEach(e,function(e){var i=t.$eval(n),r=angular.isFunction(i)?i(e):e[i],o=u.findGroupByName(r);o?o.items.push(e):u.groups.push({name:r,items:[e]})}),u.items=[],u.groups.forEach(function(e){u.items=u.items.concat(e.items)})}function a(e){u.items=e}var l=n?i:a;u.parserResult=r.parse(e),u.isGrouped=!!n,u.itemProperty=u.parserResult.itemName,t.$watchCollection(u.parserResult.source,function(e){if(void 0===e||null===e)u.items=[];else{if(!angular.isArray(e))throw o("items","Expected an array but got '{0}'.",e);if(u.multiple){var t=e.filter(function(e){return u.selected.indexOf(e)<0});l(t)}else l(e);u.ngModel.$modelValue=null}}),u.multiple&&t.$watchCollection("$select.selected",function(e){var n=u.parserResult.source(t);if(e.length){var i=n.filter(function(t){return e.indexOf(t)<0});l(i)}else l(n);u.sizeSearchInput()})};var g;u.refresh=function(e){void 0!==e&&(g&&i.cancel(g),g=i(function(){t.$eval(e)},u.refreshDelay))},u.setActiveItem=function(e){u.activeIndex=u.items.indexOf(e)},u.isActive=function(e){return u.open&&u.items.indexOf(e[u.itemProperty])===u.activeIndex},u.isDisabled=function(e){if(u.open){var t,n=u.items.indexOf(e[u.itemProperty]),i=!1;return n>=0&&!angular.isUndefined(u.disableChoiceExpression)&&(t=u.items[n],i=!!e.$eval(u.disableChoiceExpression),t._uiSelectChoiceDisabled=i),i}},u.select=function(e,n){if(void 0===e||!e._uiSelectChoiceDisabled){var i={};i[u.parserResult.itemName]=e,u.onSelectCallback(t,{$item:e,$model:u.parserResult.modelMapper(t,i)}),u.multiple?(u.selected.push(e),u.sizeSearchInput()):u.selected=e,u.close(n)}},u.close=function(e){u.open&&(a(),u.open=!1,u.multiple||i(function(){u.focusser.prop("disabled",!1),e||u.focusser[0].focus()},0,!1))},u.toggle=function(e){u.open?u.close():u.activate(),e.preventDefault(),e.stopPropagation()},u.removeChoice=function(e){var n=u.selected[e],i={};i[u.parserResult.itemName]=n,u.selected.splice(e,1),u.activeMatchIndex=-1,u.sizeSearchInput(),u.onRemoveCallback(t,{$item:n,$model:u.parserResult.modelMapper(t,i)})},u.getPlaceholder=function(){return u.multiple&&u.selected.length?void 0:u.placeholder};var h;u.sizeSearchInput=function(){var e=f[0],n=f.parent().parent()[0];f.css("width","10px");var r=function(){var t=n.clientWidth-e.offsetLeft-10;50>t&&(t=n.clientWidth),f.css("width",t+"px")};i(function(){0!==n.clientWidth||h?h||r():h=t.$watch(function(){return n.clientWidth},function(e){0!==e&&(r(),h(),h=null)})},0,!1)},f.on("keydown",function(n){var i=n.which;t.$apply(function(){var t=!1;u.multiple&&e.isHorizontalMovement(i)&&(t=s(i)),!t&&u.items.length>0&&(t=l(i)),t&&i!=e.TAB&&(n.preventDefault(),n.stopPropagation())}),e.isVerticalMovement(i)&&u.items.length>0&&d()}),f.on("blur",function(){i(function(){u.activeMatchIndex=-1})}),t.$on("$destroy",function(){f.off("keydown blur")})}]).directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","$compile","$parse",function(t,n,i,r,o){return{restrict:"EA",templateUrl:function(e,t){var i=t.theme||n.theme;return i+(angular.isDefined(t.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",link:function(n,a,l,s,c){function d(e){var t=!1;t=window.jQuery?window.jQuery.contains(a[0],e.target):a[0].contains(e.target),t||(u.close(),n.$digest())}var u=s[0],p=s[1],f=a.querySelectorAll("input.ui-select-search");u.multiple=!!angular.isDefined(l.multiple)&&(""===l.multiple||"true"===l.multiple.toLowerCase()),u.onSelectCallback=o(l.onSelect),u.onRemoveCallback=o(l.onRemove),p.$parsers.unshift(function(e){var t,i={};if(u.multiple){for(var r=[],o=u.selected.length-1;o>=0;o--)i={},i[u.parserResult.itemName]=u.selected[o],t=u.parserResult.modelMapper(n,i),r.unshift(t);return r}return i={},i[u.parserResult.itemName]=e,t=u.parserResult.modelMapper(n,i)}),p.$formatters.unshift(function(e){var t,i=u.parserResult.source(n,{$select:{search:""}}),r={};if(i){if(u.multiple){var o=[],a=function(e,i){if(e&&e.length){for(var a=e.length-1;a>=0;a--)if(r[u.parserResult.itemName]=e[a],t=u.parserResult.modelMapper(n,r),t==i)return o.unshift(e[a]),!0;return!1}};if(!e)return o;for(var l=e.length-1;l>=0;l--)a(u.selected,e[l])||a(i,e[l]);return o}var s=function(i){return r[u.parserResult.itemName]=i,t=u.parserResult.modelMapper(n,r),t==e};if(u.selected&&s(u.selected))return u.selected;for(var c=i.length-1;c>=0;c--)if(s(i[c]))return i[c]}return e}),u.ngModel=p;var g=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' aria-haspopup='true' role='button' />");l.tabindex&&l.$observe("tabindex",function(e){u.multiple?f.attr("tabindex",e):g.attr("tabindex",e),a.removeAttr("tabindex")}),r(g)(n),u.focusser=g,u.multiple||(a.append(g),g.bind("focus",function(){n.$evalAsync(function(){u.focus=!0})}),g.bind("blur",function(){n.$evalAsync(function(){u.focus=!1})}),g.bind("keydown",function(t){return t.which===e.BACKSPACE?(t.preventDefault(),t.stopPropagation(),u.select(void 0),void n.$apply()):void(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||((t.which==e.DOWN||t.which==e.UP||t.which==e.ENTER||t.which==e.SPACE)&&(t.preventDefault(),t.stopPropagation(),u.activate()),n.$digest()))}),g.bind("keyup input",function(t){t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||t.which==e.ENTER||t.which===e.BACKSPACE||(u.activate(g.val()),g.val(""),n.$digest())})),n.$watch("searchEnabled",function(){var e=n.$eval(l.searchEnabled);u.searchEnabled=void 0===e||e}),l.$observe("disabled",function(){u.disabled=void 0!==l.disabled&&l.disabled}),l.$observe("resetSearchInput",function(){var e=n.$eval(l.resetSearchInput);u.resetSearchInput=void 0===e||e}),u.multiple?(n.$watchCollection(function(){return p.$modelValue},function(e,t){t!=e&&(p.$modelValue=null)}),n.$watchCollection("$select.selected",function(){p.$setViewValue(Date.now())}),g.prop("disabled",!0)):n.$watch("$select.selected",function(e){p.$viewValue!==e&&p.$setViewValue(e)}),p.$render=function(){if(u.multiple&&!angular.isArray(p.$viewValue)){if(!angular.isUndefined(p.$viewValue)&&null!==p.$viewValue)throw i("multiarr","Expected model value to be array but got '{0}'",p.$viewValue);u.selected=[]}u.selected=p.$viewValue},t.on("click",d),n.$on("$destroy",function(){t.off("click",d)}),c(n,function(e){var t=angular.element("<div>").append(e),n=t.querySelectorAll(".ui-select-match");if(n.removeAttr("ui-select-match"),1!==n.length)throw i("transcluded","Expected 1 .ui-select-match but got '{0}'.",n.length);a.querySelectorAll(".ui-select-match").replaceWith(n);var r=t.querySelectorAll(".ui-select-choices");if(r.removeAttr("ui-select-choices"),1!==r.length)throw i("transcluded","Expected 1 .ui-select-choices but got '{0}'.",r.length);a.querySelectorAll(".ui-select-choices").replaceWith(r)})}}}]).directive("uiSelectChoices",["uiSelectConfig","RepeatParser","uiSelectMinErr","$compile",function(e,t,n,i){
return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme;return n+"/choices.tpl.html"},compile:function(r,o){if(!o.repeat)throw n("repeat","Expected 'repeat' expression.");return function(r,o,a,l,s){var c=a.groupBy;if(l.parseRepeatAttr(a.repeat,c),l.disableChoiceExpression=a.uiDisableChoice,c){var d=o.querySelectorAll(".ui-select-choices-group");if(1!==d.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",d.length);d.attr("ng-repeat",t.getGroupNgRepeatExpression())}var u=o.querySelectorAll(".ui-select-choices-row");if(1!==u.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",u.length);u.attr("ng-repeat",t.getNgRepeatExpression(l.parserResult.itemName,"$select.items",l.parserResult.trackByExp,c)).attr("ng-mouseenter","$select.setActiveItem("+l.parserResult.itemName+")").attr("ng-click","$select.select("+l.parserResult.itemName+")");var p=o.querySelectorAll(".ui-select-choices-row-inner");if(1!==p.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",p.length);p.attr("uis-transclude-append",""),i(o,s)(r),r.$watch("$select.search",function(e){e&&!l.open&&l.multiple&&l.activate(!1,!0),l.activeIndex=0,l.refresh(a.refresh)}),a.$observe("refreshDelay",function(){var t=r.$eval(a.refreshDelay);l.refreshDelay=void 0!==t?t:e.refreshDelay})}}}}]).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,i,r){r(e,function(e){t.append(e)})}}}).directive("uiSelectMatch",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme,i=t.parent().attr("multiple");return n+(i?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,i,r){i.$observe("placeholder",function(t){r.placeholder=void 0!==t?t:e.placeholder}),r.multiple&&r.sizeSearchInput()}}}]).filter("highlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?t.replace(new RegExp(e(n),"gi"),'<span class="ui-select-highlight">$&</span>'):t}})}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content dropdown-menu" role="menu" aria-labelledby="dLabel" ng-show="$select.items.length > 0"><li class="ui-select-choices-group"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header">{{$group.name}}</div><div class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span style="margin-right: 3px;" class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$select.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$select.activeMatchIndex === $index}"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$select.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<button type="button" class="btn btn-default form-control ui-select-match" tabindex="-1" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}" ;="" ng-click="$select.activate()"><span ng-show="$select.searchEnabled && $select.isEmpty()" class="text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" ng-transclude=""></span> <span class="caret ui-select-toggle" ng-click="$select.toggle($event)"></span></button>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$select.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search"></div><div class="ui-select-choices"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),e.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.isGrouped}"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label select2-result-label">{{$group.name}}</div><ul ng-class="{\'select2-result-sub\': $select.isGrouped, \'select2-result-single\': !$select.isGrouped}"><li class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$select.activeMatchIndex === $index}"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$select.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.activate()"><span ng-show="$select.searchEnabled && $select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <span class="select2-arrow ui-select-toggle" ng-click="$select.toggle($event)"><b></b></span></a>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open\': $select.open,\n                \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="select2-input ui-select-search" placeholder="{{$select.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;"></li></ul><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open\': $select.open,\n                \'select2-container-disabled\': $select.disabled,\n                \'select2-container-active\': $select.focus }"><div class="ui-select-match"></div><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header">{{$group.name}}</div><div class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),e.put("selectize/select.tpl.html",'<div class="selectize-control single"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled"></div><div class="ui-select-choices"></div></div>')}]),function(){"use strict";var e,t=function(e,t){var n=e.style[t];if(e.currentStyle?n=e.currentStyle[t]:window.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),"auto"==n&&"cursor"==t)for(var i=["a"],r=0;r<i.length;r++)if(e.tagName.toLowerCase()==i[r])return"pointer";return n},n=function(e){if(p.prototype._singleton){e||(e=window.event);var t;this!==window?t=this:e.target?t=e.target:e.srcElement&&(t=e.srcElement),p.prototype._singleton.setCurrent(t)}},i=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},r=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},o=function(e,t){if(e.addClass)return e.addClass(t),e;if(t&&"string"==typeof t){var n=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var i=" "+e.className+" ",r=e.className,o=0,a=n.length;o<a;o++)i.indexOf(" "+n[o]+" ")<0&&(r+=" "+n[o]);e.className=r.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},a=function(e,t){if(e.removeClass)return e.removeClass(t),e;if(t&&"string"==typeof t||void 0===t){var n=(t||"").split(/\s+/);if(1===e.nodeType&&e.className)if(t){for(var i=(" "+e.className+" ").replace(/[\n\t]/g," "),r=0,o=n.length;r<o;r++)i=i.replace(" "+n[r]+" "," ");e.className=i.replace(/^\s+|\s+$/g,"")}else e.className=""}return e},l=function(e){var n={left:0,top:0,width:e.width||e.offsetWidth||0,height:e.height||e.offsetHeight||0,zIndex:9999},i=t(e,"zIndex");for(i&&"auto"!=i&&(n.zIndex=parseInt(i,10));e;){var r=parseInt(t(e,"borderLeftWidth"),10),o=parseInt(t(e,"borderTopWidth"),10);n.left+=isNaN(e.offsetLeft)?0:e.offsetLeft,n.left+=isNaN(r)?0:r,n.top+=isNaN(e.offsetTop)?0:e.offsetTop,n.top+=isNaN(o)?0:o,e=e.offsetParent}return n},s=function(e){return(e.indexOf("?")>=0?"&":"?")+"nocache="+(new Date).getTime()},c=function(e){var t=[];return e.trustedDomains&&("string"==typeof e.trustedDomains?t.push("trustedDomain="+e.trustedDomains):t.push("trustedDomain="+e.trustedDomains.join(","))),t.join("&")},d=function(e,t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},u=function(e){if("string"==typeof e)throw new TypeError("ZeroClipboard doesn't accept query strings.");return e.length?e:[e]},p=function(e,t){if(e&&(p.prototype._singleton||this).glue(e),p.prototype._singleton)return p.prototype._singleton;p.prototype._singleton=this,this.options={};for(var n in g)this.options[n]=g[n];for(var i in t)this.options[i]=t[i];this.handlers={},p.detectFlashSupport()&&h()},f=[];p.prototype.setCurrent=function(n){e=n,this.reposition(),n.getAttribute("title")&&this.setTitle(n.getAttribute("title")),this.setHandCursor("pointer"==t(n,"cursor"))},p.prototype.setText=function(e){e&&""!==e&&(this.options.text=e,this.ready()&&this.flashBridge.setText(e))},p.prototype.setTitle=function(e){e&&""!==e&&this.htmlBridge.setAttribute("title",e)},p.prototype.setSize=function(e,t){this.ready()&&this.flashBridge.setSize(e,t)},p.prototype.setHandCursor=function(e){this.ready()&&this.flashBridge.setHandCursor(e)},p.version="1.1.7";var g={moviePath:"ZeroClipboard.swf",trustedDomains:null,text:null,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",allowScriptAccess:"sameDomain"};p.setDefaults=function(e){for(var t in e)g[t]=e[t]},p.destroy=function(){p.prototype._singleton.unglue(f);var e=p.prototype._singleton.htmlBridge;e.parentNode.removeChild(e),delete p.prototype._singleton},p.detectFlashSupport=function(){var e=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(t){navigator.mimeTypes["application/x-shockwave-flash"]&&(e=!0)}return e};var h=function(){var e=p.prototype._singleton,t=document.getElementById("global-zeroclipboard-html-bridge");if(!t){var n='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+e.options.moviePath+s(e.options.moviePath)+'"/>         <param name="allowScriptAccess" value="'+e.options.allowScriptAccess+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+c(e.options)+'"/>         <embed src="'+e.options.moviePath+s(e.options.moviePath)+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="always"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+c(e.options)+'"           scale="exactfit">         </embed>       </object>';t=document.createElement("div"),t.id="global-zeroclipboard-html-bridge",t.setAttribute("class","global-zeroclipboard-container"),t.setAttribute("data-clipboard-ready",!1),t.style.position="absolute",t.style.left="-9999px",t.style.top="-9999px",t.style.width="15px",t.style.height="15px",t.style.zIndex="9999",t.innerHTML=n,document.body.appendChild(t)}e.htmlBridge=t,e.flashBridge=document["global-zeroclipboard-flash-bridge"]||t.children[0].lastElementChild};p.prototype.resetBridge=function(){this.htmlBridge.style.left="-9999px",this.htmlBridge.style.top="-9999px",this.htmlBridge.removeAttribute("title"),this.htmlBridge.removeAttribute("data-clipboard-text"),a(e,this.options.activeClass),e=null,this.options.text=null},p.prototype.ready=function(){var e=this.htmlBridge.getAttribute("data-clipboard-ready");return"true"===e||e===!0},p.prototype.reposition=function(){if(!e)return!1;var t=l(e);this.htmlBridge.style.top=t.top+"px",this.htmlBridge.style.left=t.left+"px",this.htmlBridge.style.width=t.width+"px",this.htmlBridge.style.height=t.height+"px",this.htmlBridge.style.zIndex=t.zIndex+1,this.setSize(t.width,t.height)},p.dispatch=function(e,t){p.prototype._singleton.receiveEvent(e,t)},p.prototype.on=function(e,t){for(var n=e.toString().split(/\s/g),i=0;i<n.length;i++)e=n[i].toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=t);this.handlers.noflash&&!p.detectFlashSupport()&&this.receiveEvent("onNoFlash",null)},p.prototype.addEventListener=p.prototype.on,p.prototype.off=function(e,t){for(var n=e.toString().split(/\s/g),i=0;i<n.length;i++){e=n[i].toLowerCase().replace(/^on/,"");for(var r in this.handlers)r===e&&this.handlers[r]===t&&delete this.handlers[r]}},p.prototype.removeEventListener=p.prototype.off,p.prototype.receiveEvent=function(t,n){t=t.toString().toLowerCase().replace(/^on/,"");var i=e;switch(t){case"load":if(n&&parseFloat(n.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,""))<10)return void this.receiveEvent("onWrongFlash",{flashVersion:n.flashVersion});this.htmlBridge.setAttribute("data-clipboard-ready",!0);break;case"mouseover":o(i,this.options.hoverClass);break;case"mouseout":a(i,this.options.hoverClass),this.resetBridge();break;case"mousedown":o(i,this.options.activeClass);break;case"mouseup":a(i,this.options.activeClass);break;case"datarequested":var r=i.getAttribute("data-clipboard-target"),l=r?document.getElementById(r):null;if(l){var s=l.value||l.textContent||l.innerText;s&&this.setText(s)}else{var c=i.getAttribute("data-clipboard-text");c&&this.setText(c)}break;case"complete":this.options.text=null}if(this.handlers[t]){var d=this.handlers[t];"function"==typeof d?d.call(i,this,n):"string"==typeof d&&window[d].call(i,this,n)}},p.prototype.glue=function(e){e=u(e);for(var t=0;t<e.length;t++)d(e[t],f)==-1&&(f.push(e[t]),i(e[t],"mouseover",n))},p.prototype.unglue=function(e){e=u(e);for(var t=0;t<e.length;t++){r(e[t],"mouseover",n);var i=d(e[t],f);i!=-1&&f.splice(i,1)}},"undefined"!=typeof module?module.exports=p:"function"==typeof define&&define.amd?define(function(){return p}):window.ZeroClipboard=p}(),function(e){e.Jcrop=function(t,n){function i(e){return Math.round(e)+"px"}function r(e){return O.baseClass+"-"+e}function o(){return e.fx.step.hasOwnProperty("backgroundColor")}function a(t){var n=e(t).offset();return[n.left,n.top]}function l(e){return[e.pageX-L[0],e.pageY-L[1]]}function s(t){"object"!=typeof t&&(t={}),O=e.extend(O,t),e.each(["onChange","onSelect","onRelease","onDblClick"],function(e,t){"function"!=typeof O[t]&&(O[t]=function(){})})}function c(e,t,n){if(L=a(z),ge.setCursor("move"===e?e:e+"-resize"),"move"===e)return ge.activateHandlers(u(t),m,n);var i=ue.getFixed(),r=p(e),o=ue.getCorner(p(r));ue.setPressed(ue.getCorner(r)),ue.setCurrent(o),ge.activateHandlers(d(e,i),m,n)}function d(e,t){return function(n){if(O.aspectRatio)switch(e){case"e":n[1]=t.y+1;break;case"w":n[1]=t.y+1;break;case"n":n[0]=t.x+1;break;case"s":n[0]=t.x+1}else switch(e){case"e":n[1]=t.y2;break;case"w":n[1]=t.y2;break;case"n":n[0]=t.x2;break;case"s":n[0]=t.x2}ue.setCurrent(n),fe.update()}}function u(e){var t=e;return he.watchKeys(),function(e){ue.moveOffset([e[0]-t[0],e[1]-t[1]]),t=e,fe.update()}}function p(e){switch(e){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function f(e){return function(t){return!O.disabled&&(!("move"===e&&!O.allowMove)&&(L=a(z),ie=!0,c(e,l(t)),t.stopPropagation(),t.preventDefault(),!1))}}function g(e,t,n){var i=e.width(),r=e.height();i>t&&t>0&&(i=t,r=t/e.width()*e.height()),r>n&&n>0&&(r=n,i=n/e.height()*e.width()),te=e.width()/i,ne=e.height()/r,e.width(i).height(r)}function h(e){return{x:e.x*te,y:e.y*ne,x2:e.x2*te,y2:e.y2*ne,w:e.w*te,h:e.h*ne}}function m(e){var t=ue.getFixed();t.w>O.minSelect[0]&&t.h>O.minSelect[1]?(fe.enableHandles(),fe.done()):fe.release(),ge.setCursor(O.allowSelect?"crosshair":"default")}function v(e){if(O.disabled)return!1;if(!O.allowSelect)return!1;ie=!0,L=a(z),fe.disableHandles(),ge.setCursor("crosshair");var t=l(e);return ue.setPressed(t),fe.update(),ge.activateHandlers(b,m,"touch"===e.type.substring(0,5)),he.watchKeys(),e.stopPropagation(),e.preventDefault(),!1}function b(e){ue.setCurrent(e),fe.update()}function w(){var t=e("<div></div>").addClass(r("tracker"));return _&&t.css({opacity:0,backgroundColor:"white"}),t}function y(e){q.removeClass().addClass(r("holder")).addClass(e)}function C(e,t){function n(){window.setTimeout(b,u)}var i=e[0]/te,r=e[1]/ne,o=e[2]/te,a=e[3]/ne;if(!re){var l=ue.flipCoords(i,r,o,a),s=ue.getFixed(),c=[s.x,s.y,s.x2,s.y2],d=c,u=O.animationDelay,p=l[0]-c[0],f=l[1]-c[1],g=l[2]-c[2],h=l[3]-c[3],m=0,v=O.swingSpeed;i=d[0],r=d[1],o=d[2],a=d[3],fe.animMode(!0);var b=function(){return function(){m+=(100-m)/v,d[0]=Math.round(i+m/100*p),d[1]=Math.round(r+m/100*f),d[2]=Math.round(o+m/100*g),d[3]=Math.round(a+m/100*h),m>=99.8&&(m=100),m<100?(E(d),n()):(fe.done(),fe.animMode(!1),"function"==typeof t&&t.call(me))}}();n()}}function x(e){E([e[0]/te,e[1]/ne,e[2]/te,e[3]/ne]),O.onSelect.call(me,h(ue.getFixed())),fe.enableHandles()}function E(e){ue.setPressed([e[0],e[1]]),ue.setCurrent([e[2],e[3]]),fe.update()}function S(){return h(ue.getFixed())}function $(){return ue.getFixed()}function T(e){s(e),P()}function R(){O.disabled=!0,fe.disableHandles(),fe.setCursor("default"),ge.setCursor("default")}function k(){O.disabled=!1,P()}function D(){fe.done(),ge.activateHandlers(null,null)}function A(){q.remove(),N.show(),N.css("visibility","visible"),e(t).removeData("Jcrop")}function I(e,t){fe.release(),R();var n=new Image;n.onload=function(){var i=n.width,r=n.height,o=O.boxWidth,a=O.boxHeight;z.width(i).height(r),z.attr("src",e),j.attr("src",e),g(z,o,a),U=z.width(),B=z.height(),j.width(U).height(B),le.width(U+2*ae).height(B+2*ae),q.width(U).height(B),pe.resize(U,B),k(),"function"==typeof t&&t.call(me)},n.src=e}function M(e,t,n){var i=t||O.bgColor;O.bgFade&&o()&&O.fadeTime&&!n?e.animate({backgroundColor:i},{queue:!1,duration:O.fadeTime}):e.css("backgroundColor",i)}function P(e){O.allowResize?e?fe.enableOnly():fe.enableHandles():fe.disableHandles(),ge.setCursor(O.allowSelect?"crosshair":"default"),fe.setCursor(O.allowMove?"move":"default"),O.hasOwnProperty("trueSize")&&(te=O.trueSize[0]/U,ne=O.trueSize[1]/B),O.hasOwnProperty("setSelect")&&(x(O.setSelect),fe.done(),delete O.setSelect),pe.refresh(),O.bgColor!=se&&(M(O.shade?pe.getShades():q,O.shade?O.shadeColor||O.bgColor:O.bgColor),se=O.bgColor),ce!=O.bgOpacity&&(ce=O.bgOpacity,O.shade?pe.refresh():fe.setBgOpacity(ce)),Q=O.maxSize[0]||0,Z=O.maxSize[1]||0,J=O.minSize[0]||0,ee=O.minSize[1]||0,O.hasOwnProperty("outerImage")&&(z.attr("src",O.outerImage),delete O.outerImage),fe.refresh()}var L,O=e.extend({},e.Jcrop.defaults),F=navigator.userAgent.toLowerCase(),_=/msie/.test(F),G=/msie [1-6]\./.test(F);"object"!=typeof t&&(t=e(t)[0]),"object"!=typeof n&&(n={}),s(n);var H={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},N=e(t),W=!0;if("IMG"==t.tagName){if(0!=N[0].width&&0!=N[0].height)N.width(N[0].width),N.height(N[0].height);else{var V=new Image;V.src=N[0].src,N.width(V.width),N.height(V.height)}var z=N.clone().removeAttr("id").css(H).show();z.width(N.width()),z.height(N.height()),N.after(z).hide()}else z=N.css(H).show(),W=!1,null===O.shade&&(O.shade=!0);g(z,O.boxWidth,O.boxHeight);var U=z.width(),B=z.height(),q=e("<div />").width(U).height(B).addClass(r("holder")).css({position:"relative",backgroundColor:O.bgColor}).insertAfter(N).append(z);O.addClass&&q.addClass(O.addClass);var j=e("<div />"),K=e("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),Y=e("<div />").width("100%").height("100%").css("zIndex",320),X=e("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var e=ue.getFixed();O.onDblClick.call(me,e)}).insertBefore(z).append(K,Y);W&&(j=e("<img />").attr("src",z.attr("src")).css(H).width(U).height(B),K.append(j)),G&&X.css({overflowY:"hidden"});var Q,Z,J,ee,te,ne,ie,re,oe,ae=O.boundary,le=w().width(U+2*ae).height(B+2*ae).css({position:"absolute",top:i(-ae),left:i(-ae),zIndex:290}).mousedown(v),se=O.bgColor,ce=O.bgOpacity;L=a(z);var de=function(){function e(){var e,t={},n=["touchstart","touchmove","touchend"],i=document.createElement("div");try{for(e=0;e<n.length;e++){var r=n[e];r="on"+r;var o=r in i;o||(i.setAttribute(r,"return;"),o="function"==typeof i[r]),t[n[e]]=o}return t.touchstart&&t.touchend&&t.touchmove}catch(e){return!1}}function t(){return O.touchSupport===!0||O.touchSupport===!1?O.touchSupport:e()}return{createDragger:function(e){return function(t){return!O.disabled&&(!("move"===e&&!O.allowMove)&&(L=a(z),ie=!0,c(e,l(de.cfilter(t)),!0),t.stopPropagation(),t.preventDefault(),!1))}},newSelection:function(e){return v(de.cfilter(e))},cfilter:function(e){return e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e},isSupported:e,support:t()}}(),ue=function(){function e(e){e=a(e),g=p=e[0],h=f=e[1]}function t(e){e=a(e),d=e[0]-g,u=e[1]-h,g=e[0],h=e[1]}function n(){return[d,u]}function i(e){var t=e[0],n=e[1];0>p+t&&(t-=t+p),0>f+n&&(n-=n+f),B<h+n&&(n+=B-(h+n)),U<g+t&&(t+=U-(g+t)),p+=t,g+=t,f+=n,h+=n}function r(e){var t=o();switch(e){case"ne":return[t.x2,t.y];case"nw":return[t.x,t.y];case"se":return[t.x2,t.y2];case"sw":return[t.x,t.y2]}}function o(){if(!O.aspectRatio)return s();var e,t,n,i,r=O.aspectRatio,o=O.minSize[0]/te,a=O.maxSize[0]/te,d=O.maxSize[1]/ne,u=g-p,m=h-f,v=Math.abs(u),b=Math.abs(m),w=v/b;return 0===a&&(a=10*U),0===d&&(d=10*B),w<r?(t=h,n=b*r,e=u<0?p-n:n+p,e<0?(e=0,i=Math.abs((e-p)/r),t=m<0?f-i:i+f):e>U&&(e=U,i=Math.abs((e-p)/r),t=m<0?f-i:i+f)):(e=g,i=v/r,t=m<0?f-i:f+i,t<0?(t=0,n=Math.abs((t-f)*r),e=u<0?p-n:n+p):t>B&&(t=B,n=Math.abs(t-f)*r,e=u<0?p-n:n+p)),e>p?(e-p<o?e=p+o:e-p>a&&(e=p+a),t=t>f?f+(e-p)/r:f-(e-p)/r):e<p&&(p-e<o?e=p-o:p-e>a&&(e=p-a),t=t>f?f+(p-e)/r:f-(p-e)/r),e<0?(p-=e,e=0):e>U&&(p-=e-U,e=U),t<0?(f-=t,t=0):t>B&&(f-=t-B,t=B),c(l(p,f,e,t))}function a(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e[0]>U&&(e[0]=U),e[1]>B&&(e[1]=B),[Math.round(e[0]),Math.round(e[1])]}function l(e,t,n,i){var r=e,o=n,a=t,l=i;return n<e&&(r=n,o=e),i<t&&(a=i,l=t),[r,a,o,l]}function s(){var e,t=g-p,n=h-f;return Q&&Math.abs(t)>Q&&(g=t>0?p+Q:p-Q),Z&&Math.abs(n)>Z&&(h=n>0?f+Z:f-Z),ee/ne&&Math.abs(n)<ee/ne&&(h=n>0?f+ee/ne:f-ee/ne),J/te&&Math.abs(t)<J/te&&(g=t>0?p+J/te:p-J/te),p<0&&(g-=p,p-=p),f<0&&(h-=f,f-=f),g<0&&(p-=g,g-=g),h<0&&(f-=h,h-=h),g>U&&(e=g-U,p-=e,g-=e),h>B&&(e=h-B,f-=e,h-=e),p>U&&(e=p-B,h-=e,f-=e),f>B&&(e=f-B,h-=e,f-=e),c(l(p,f,g,h))}function c(e){return{x:e[0],y:e[1],x2:e[2],y2:e[3],w:e[2]-e[0],h:e[3]-e[1]}}var d,u,p=0,f=0,g=0,h=0;return{flipCoords:l,setPressed:e,setCurrent:t,getOffset:n,moveOffset:i,getCorner:r,getFixed:o}}(),pe=function(){function t(e,t){g.left.css({height:i(t)}),g.right.css({height:i(t)})}function n(){return r(ue.getFixed())}function r(e){g.top.css({left:i(e.x),width:i(e.w),height:i(e.y)}),g.bottom.css({top:i(e.y2),left:i(e.x),width:i(e.w),height:i(B-e.y2)}),g.right.css({left:i(e.x2),width:i(U-e.x2)}),g.left.css({width:i(e.x)})}function o(){return e("<div />").css({position:"absolute",backgroundColor:O.shadeColor||O.bgColor}).appendTo(f)}function a(){p||(p=!0,f.insertBefore(z),n(),fe.setBgOpacity(1,0,1),j.hide(),l(O.shadeColor||O.bgColor,1),fe.isAwake()?c(O.bgOpacity,1):c(1,1))}function l(e,t){M(u(),e,t)}function s(){p&&(f.remove(),j.show(),p=!1,fe.isAwake()?fe.setBgOpacity(O.bgOpacity,1,1):(fe.setBgOpacity(1,1,1),fe.disableHandles()),M(q,0,1))}function c(e,t){p&&(O.bgFade&&!t?f.animate({opacity:1-e},{queue:!1,duration:O.fadeTime}):f.css({opacity:1-e}))}function d(){O.shade?a():s(),fe.isAwake()&&c(O.bgOpacity)}function u(){return f.children()}var p=!1,f=e("<div />").css({position:"absolute",zIndex:240,opacity:0}),g={top:o(),left:o().height(B),right:o().height(B),bottom:o()};return{update:n,updateRaw:r,getShades:u,setBgColor:l,enable:a,disable:s,resize:t,refresh:d,opacity:c}}(),fe=function(){function t(t){var n=e("<div />").css({position:"absolute",opacity:O.borderOpacity}).addClass(r(t));return K.append(n),n}function n(t,n){var i=e("<div />").mousedown(f(t)).css({cursor:t+"-resize",position:"absolute",zIndex:n}).addClass("ord-"+t);return de.support&&i.bind("touchstart.jcrop",de.createDragger(t)),Y.append(i),i}function o(e){var t=O.handleSize,i=n(e,R++).css({opacity:O.handleOpacity}).addClass(r("handle"));return t&&i.width(t).height(t),i}function a(e){return n(e,R++).addClass("jcrop-dragbar")}function l(e){var t;for(t=0;t<e.length;t++)A[e[t]]=a(e[t])}function s(e){var n,i;for(i=0;i<e.length;i++){switch(e[i]){case"n":n="hline";break;case"s":n="hline bottom";break;case"e":n="vline right";break;case"w":n="vline"}k[e[i]]=t(n)}}function c(e){var t;for(t=0;t<e.length;t++)D[e[t]]=o(e[t])}function d(e,t){O.shade||j.css({top:i(-t),left:i(-e)}),X.css({top:i(t),left:i(e)})}function u(e,t){X.width(Math.round(e)).height(Math.round(t))}function p(){var e=ue.getFixed();ue.setPressed([e.x,e.y]),ue.setCurrent([e.x2,e.y2]),g()}function g(e){if(T)return m(e)}function m(e){var t=ue.getFixed();u(t.w,t.h),d(t.x,t.y),O.shade&&pe.updateRaw(t),T||b(),e?O.onSelect.call(me,h(t)):O.onChange.call(me,h(t))}function v(e,t,n){(T||t)&&(O.bgFade&&!n?z.animate({opacity:e},{queue:!1,duration:O.fadeTime}):z.css("opacity",e))}function b(){X.show(),O.shade?pe.opacity(ce):v(ce,!0),T=!0}function y(){E(),X.hide(),O.shade?pe.opacity(1):v(1),T=!1,O.onRelease.call(me)}function C(){I&&Y.show()}function x(){if(I=!0,O.allowResize)return Y.show(),!0}function E(){I=!1,Y.hide()}function S(e){e?(re=!0,E()):(re=!1,x())}function $(){S(!1),p()}var T,R=370,k={},D={},A={},I=!1;O.dragEdges&&e.isArray(O.createDragbars)&&l(O.createDragbars),e.isArray(O.createHandles)&&c(O.createHandles),O.drawBorders&&e.isArray(O.createBorders)&&s(O.createBorders),e(document).bind("touchstart.jcrop-ios",function(t){e(t.currentTarget).hasClass("jcrop-tracker")&&t.stopPropagation()});var M=w().mousedown(f("move")).css({cursor:"move",position:"absolute",zIndex:360});return de.support&&M.bind("touchstart.jcrop",de.createDragger("move")),K.append(M),E(),{updateVisible:g,update:m,release:y,refresh:p,isAwake:function(){return T},setCursor:function(e){M.css("cursor",e)},enableHandles:x,enableOnly:function(){I=!0},showHandles:C,disableHandles:E,animMode:S,setBgOpacity:v,done:$}}(),ge=function(){function t(t){le.css({zIndex:450}),t?e(document).bind("touchmove.jcrop",a).bind("touchend.jcrop",s):p&&e(document).bind("mousemove.jcrop",i).bind("mouseup.jcrop",r)}function n(){le.css({zIndex:290}),e(document).unbind(".jcrop")}function i(e){return d(l(e)),!1}function r(e){return e.preventDefault(),e.stopPropagation(),ie&&(ie=!1,u(l(e)),fe.isAwake()&&O.onSelect.call(me,h(ue.getFixed())),n(),d=function(){},u=function(){}),!1}function o(e,n,i){return ie=!0,d=e,u=n,t(i),!1}function a(e){return d(l(de.cfilter(e))),!1}function s(e){return r(de.cfilter(e))}function c(e){le.css("cursor",e)}var d=function(){},u=function(){},p=O.trackDocument;return p||le.mousemove(i).mouseup(r).mouseout(r),z.before(le),{activateHandlers:o,setCursor:c}}(),he=function(){function t(){O.keySupport&&(o.show(),o.focus())}function n(e){o.hide()}function i(e,t,n){O.allowMove&&(ue.moveOffset([t,n]),fe.updateVisible(!0)),e.preventDefault(),e.stopPropagation()}function r(e){if(e.ctrlKey||e.metaKey)return!0;oe=!!e.shiftKey;var t=oe?10:1;switch(e.keyCode){case 37:i(e,-t,0);break;case 39:i(e,t,0);break;case 38:i(e,0,-t);break;case 40:i(e,0,t);break;case 27:O.allowSelect&&fe.release();break;case 9:return!0}return!1}var o=e('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),a=e("<div />").css({position:"absolute",overflow:"hidden"}).append(o);return O.keySupport&&(o.keydown(r).blur(n),G||!O.fixedSupport?(o.css({position:"absolute",left:"-20px"}),a.append(o).insertBefore(z)):o.insertBefore(z)),{watchKeys:t}}();de.support&&le.bind("touchstart.jcrop",de.newSelection),Y.hide(),P(!0);var me={setImage:I,animateTo:C,setSelect:x,setOptions:T,tellSelect:S,tellScaled:$,setClass:y,disable:R,enable:k,cancel:D,release:fe.release,destroy:A,focus:he.watchKeys,getBounds:function(){return[U*te,B*ne]},getWidgetSize:function(){return[U,B]},getScaleFactor:function(){return[te,ne]},getOptions:function(){return O},ui:{holder:q,selection:X}};return _&&q.bind("selectstart",function(){return!1}),N.data("Jcrop",me),me},e.fn.Jcrop=function(t,n){var i;return this.each(function(){if(e(this).data("Jcrop")){if("api"===t)return e(this).data("Jcrop");e(this).data("Jcrop").setOptions(t)}else"IMG"==this.tagName?e.Jcrop.Loader(this,function(){e(this).css({display:"block",visibility:"hidden"}),i=e.Jcrop(this,t),e.isFunction(n)&&n.call(i)}):(e(this).css({display:"block",
visibility:"hidden"}),i=e.Jcrop(this,t),e.isFunction(n)&&n.call(i))}),this},e.Jcrop.Loader=function(t,n,i){function r(){a.complete?(o.unbind(".jcloader"),e.isFunction(n)&&n.call(a)):window.setTimeout(r,50)}var o=e(t),a=o[0];o.bind("load.jcloader",r).bind("error.jcloader",function(t){o.unbind(".jcloader"),e.isFunction(i)&&i.call(a)}),a.complete&&e.isFunction(n)&&(o.unbind(".jcloader"),n.call(a))},e.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery),function(e){"use strict";var t=function(t){var n=e.Deferred(),i=new FileReader;return i.onload=function(e){n.resolve(e.target.result)},i.onerror=n.reject,i.onprogress=n.notify,i.readAsDataURL(t),n.promise()};e.fn.cleanHtml=function(){var t=e(this).html();return t&&t.replace(/(<br>|\s|<div><br><\/div>|&nbsp;)*$/,"")},e.fn.wysiwyg_destroy=function(t){var n,i,r,o;return n=this,i=e.extend({},e.fn.wysiwyg.defaults,t),o="a[data-"+i.commandRole+"],button[data-"+i.commandRole+"],input[type=button][data-"+i.commandRole+"]",n.off("."+i.eventNamespace),n.off("paste"),e(window).off("."+i.eventNamespace),r=e(i.toolbarSelector),r.find(o).off("."+i.eventNamespace),r.find("[data-toggle=dropdown]").off("."+i.eventNamespace),r.find("input[type=text][data-"+i.commandRole+"]").off("."+i.eventNamespace),r.find("input[type=file][data-"+i.commandRole+"]").off("."+i.eventNamespace),this},e.fn.wysiwyg=function(n){var i,r,o,a,l,s,c,d=this,u=function(){r.activeToolbarClass&&e(r.toolbarSelector).find(o).each(function(){var t=e(this).data(r.commandRole);document.queryCommandState(t)?e(this).addClass(r.activeToolbarClass):e(this).removeClass(r.activeToolbarClass)})},p=function(t,n){var i=t.split(" "),r=i.shift(),o=i.join(" ")+(n||"");if("createLink"==r){var d=window.getSelection(),p=document.createRange();if(p.setStart(a,l),p.setEnd(s,c),d.removeAllRanges(),d.addRange(p),window.getSelection().isCollapsed)return void u();if("external"==n[0]){document.execCommand(r,0,PREFIX_S1_URL+"scenedata-links?id="+o.split(",")[2]+"&url="+encodeURIComponent(o.split(",")[1]));window.getSelection().focusNode.parentElement.target="_blank",e(window.getSelection().focusNode.parentElement).removeAttr("data")}else if("internal"==n[0]){document.execCommand(r,0,o.split(",")[1]);e(window.getSelection().focusNode.parentElement).removeAttr("href"),e(window.getSelection().focusNode.parentElement).attr("data",o.split(",")[1]),console.log(e(window.getSelection().focusNode.parentElement)[0])}}else document.execCommand(r,0,o);u()},f=function(t){e.each(t,function(e,t){d.keydown(e,function(e){d.attr("contenteditable")&&d.is(":visible")&&(e.preventDefault(),e.stopPropagation(),p(t))}).keyup(e,function(e){d.attr("contenteditable")&&d.is(":visible")&&(e.preventDefault(),e.stopPropagation())})})},g=function(){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)return e.getRangeAt(0)},h=function(){i=g()},m=function(){var e=window.getSelection();if(i){try{e.removeAllRanges()}catch(e){document.body.createTextRange().select(),document.selection.empty()}e.addRange(i)}},v=function(n){d.focus(),e.each(n,function(n,i){/^image\//.test(i.type)?e.when(t(i)).done(function(e){p("insertimage",e)}).fail(function(e){r.fileUploadError("file-reader",e)}):r.fileUploadError("unsupported-file-type",i.type)})},b=function(t,n){t.find(o).click(function(){m(),d.focus(),p(e(this).data(n.commandRole)),h()}),t.find("[data-toggle=dropdown]").click(m);var i,r;t.find(".createLink[data-toggle=dropdown]").click(function(){var t,n=e(getSelection().focusNode).parent();r=e(n).closest(".element").attr("id"),e("#btn-toolbar input[type=text][data-edit]").attr("id","input_"+r),e("#btn-toolbar select[data-edit]").attr("id","select_"+r),e("#btn-toolbar input[name=external]").attr("id","external_"+r),e("#btn-toolbar input[name=internal]").attr("id","internal_"+r),isNaN(e("#select_"+r).find("option")[0].value)&&e(e("#select_"+r).find("option")[0]).remove(),n.is("a")?n.attr("href")?(t=e("#btn-toolbar #input_"+r),t.val(decodeURIComponent(n.attr("href").split("url=")[1])),e("#btn-toolbar #select_"+r).val(0).attr("disabled",!0),e("#btn-toolbar #external_"+r).attr("checked",!0),e("#btn-toolbar #internal_"+r).attr("checked",!1),i="external"):n.attr("data")&&(t=e("#btn-toolbar #select_"+r),t.val(n.attr("data")-1),e("#btn-toolbar #input_"+r).val("http://").attr("disabled",!0),e("#btn-toolbar #internal_"+r).attr("checked",!0),e("#btn-toolbar #external_"+r).attr("checked",!1),i="internal"):(e("#btn-toolbar #input_"+r).val("http://"),e("#btn-toolbar #select_"+r).val(0).attr("disabled",!0),e("#btn-toolbar #internal_"+r).attr("checked",!1),e("#btn-toolbar #external_"+r).attr("checked",!0),i="external");var o=window.getSelection(),d=o.getRangeAt(0);a=d.startContainer,l=d.startOffset,s=d.endContainer,c=d.endOffset}),e("#btn-toolbar input[name=external]").change(function(){i=this.value,e("#btn-toolbar #select_"+r).val(0).attr("disabled",!0),e("#btn-toolbar #input_"+r).removeAttr("disabled"),e("#btn-toolbar #internal_"+r).attr("checked",!1)}),e("#btn-toolbar input[name=internal]").change(function(){i=this.value,e("#btn-toolbar #input_"+r).val("http://").attr("disabled",!0),e("#btn-toolbar #select_"+r).removeAttr("disabled"),e("#btn-toolbar #external_"+r).attr("checked",!1)}),e("a[dropdown-toggle]").click(function(){if("external"==i){var r=t.find("input[type=text][data-"+n.commandRole+"]"),o=e(r).val();e(r).val("");var a=e(r).attr("sceneid");m();var l="http://";o.substr(0,l.length)!==l&&(o=l+o),o&&o!=l&&(d.focus(),p(e(r).data(n.commandRole),[i,o,a])),h()}else if("internal"==i){var r=t.find("select[data-"+n.commandRole+"]"),o=e(r).val();e(r).val("");var a=e(r).attr("sceneid");m(),o&&(d.focus(),p(e(r).data(n.commandRole),[i,parseInt(o)+1,a]))}}),t.find("input[type=file][data-"+n.commandRole+"]").change(function(){m(),"file"===this.type&&this.files&&this.files.length>0&&v(this.files),h(),this.value=""})},w=function(){d.on("dragenter dragover",!1).on("drop",function(e){var t=e.originalEvent.dataTransfer;e.stopPropagation(),e.preventDefault(),t&&t.files&&t.files.length>0&&v(t.files)})};return r=e.extend({},e.fn.wysiwyg.defaults,n),o="a[data-"+r.commandRole+"],button[data-"+r.commandRole+"],input[type=button][data-"+r.commandRole+"]",f(r.hotKeys),r.dragAndDropImages&&w(),b(e(r.toolbarSelector),r),d.attr("contenteditable",!0).on("mouseup keyup mouseout",function(){h(),u()}),d.on("paste",function(e){e.preventDefault();var t=(e.originalEvent||e).clipboardData.getData("text/plain")||prompt("Paste something..");document.execCommand("insertText",!1,t)}),e(window).bind("touchend",function(e){var t=d.is(e.target)||d.has(e.target).length>0,n=g(),i=n&&n.startContainer===n.endContainer&&n.startOffset===n.endOffset;i&&!t||(h(),u())}),this},e.fn.wysiwyg.defaults={hotKeys:{"ctrl+b meta+b":"bold","ctrl+i meta+i":"italic","ctrl+u meta+u":"underline","ctrl+z meta+z":"undo","ctrl+y meta+y meta+shift+z":"redo","ctrl+l meta+l":"justifyleft","ctrl+r meta+r":"justifyright","ctrl+e meta+e":"justifycenter","ctrl+j meta+j":"justifyfull","shift+tab":"outdent",tab:"indent"},toolbarSelector:"[data-role=editor-toolbar]",commandRole:"edit",activeToolbarClass:"btn-info",selectionMarker:"edit-focus-marker",selectionColor:"darkgrey",dragAndDropImages:!0,fileUploadError:function(e,t){console.log("File upload error",e,t)}}}(window.jQuery),function(e){function t(t){if("string"==typeof t.data){var n=t.handler,i=t.data.toLowerCase().split(" "),r=["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color"];t.handler=function(t){if(this===t.target||!(/textarea|select/i.test(t.target.nodeName)||e.inArray(t.target.type,r)>-1)){var o="keypress"!==t.type&&e.hotkeys.specialKeys[t.which],a=String.fromCharCode(t.which).toLowerCase(),l="",s={};t.altKey&&"alt"!==o&&(l+="alt+"),t.ctrlKey&&"ctrl"!==o&&(l+="ctrl+"),t.metaKey&&!t.ctrlKey&&"meta"!==o&&(l+="meta+"),t.shiftKey&&"shift"!==o&&(l+="shift+"),o?s[l+o]=!0:(s[l+a]=!0,s[l+e.hotkeys.shiftNums[a]]=!0,"shift+"===l&&(s[e.hotkeys.shiftNums[a]]=!0));for(var c=0,d=i.length;c<d;c++)if(s[i[c]])return n.apply(this,arguments)}}}}e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},e.each(["keydown","keyup","keypress"],function(){e.event.special[this]={add:t}})}(jQuery),function(e,t){return"function"==typeof define&&define.amd?void define("angular-file-upload",["angular"],function(e){return t(e)}):t(e)}("undefined"==typeof angular?null:angular,function(e){var t=e.module("angularFileUpload",[]);return t.value("fileUploaderOptions",{url:"/",alias:"file",headers:{},queue:[],progress:0,autoUpload:!1,removeAfterUpload:!1,method:"POST",filters:[],formData:[],queueLimit:Number.MAX_VALUE,withCredentials:!1}).factory("FileUploader",["fileUploaderOptions","$rootScope","$http","$window","$compile",function(t,n,i,r,o){function a(n){var i=e.copy(t);e.extend(this,i,n,{isUploading:!1,_nextIndex:0,_failFilterIndex:-1,_directives:{select:[],drop:[],over:[]}}),this.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.filters.unshift({name:"folder",fn:this._folderFilter})}function l(t){var n=e.isElement(t),i=n?t.value:t,r=e.isString(i)?"FakePath":"Object",o="_createFrom"+r;this[o](i)}function s(t,n,i){var r=e.isElement(n),o=r?e.element(n):null,l=r?null:n;e.extend(this,{url:t.url,alias:t.alias,headers:e.copy(t.headers),formData:e.copy(t.formData),removeAfterUpload:t.removeAfterUpload,withCredentials:t.withCredentials,method:t.method},i,{uploader:t,file:new a.FileLikeObject(n),isReady:!1,isUploading:!1,isUploaded:!1,isSuccess:!1,isCancel:!1,isError:!1,progress:0,index:null,_file:l,_input:o}),o&&this._replaceNode(o)}function c(t){e.extend(this,t),this.uploader._directives[this.prop].push(this),this._saveLinks(),this.bind()}function d(e){d.super_.apply(this,arguments),this.uploader.isHTML5||this.element.removeAttr("multiple"),this.element.prop("value",null)}function u(e){u.super_.apply(this,arguments)}function p(e){p.super_.apply(this,arguments)}return a.prototype.isHTML5=!(!r.File||!r.FormData),a.prototype.addToQueue=function(t,n,i){var r=this.isArrayLikeObject(t)?t:[t],o=this._getFilters(i),l=this.queue.length,s=[];e.forEach(r,function(e){var t=new a.FileLikeObject(e);if(this._isValidFile(t,o,n)){var i=new a.FileItem(this,e,n);s.push(i),this.queue.push(i),this._onAfterAddingFile(i)}else{if(this.queue&&1==this.queueLimit){var r=this.queue[0];r.isUploading&&r.cancel(),this.queue.splice(0,1),r._destroy(),this.progress=this._getTotalProgress();var i=new a.FileItem(this,e,n);s.push(i),this.queue.push(i),this._onAfterAddingFile(i)}var l=this.filters[this._failFilterIndex];this._onWhenAddingFileFailed(t,l,n)}},this),this.queue.length!==l&&(this._onAfterAddingAll(s),this.progress=this._getTotalProgress()),this._render(),this.autoUpload&&this.uploadAll()},a.prototype.removeFromQueue=function(e){var t=this.getIndexOfItem(e),n=this.queue[t];n.isUploading&&n.cancel(),this.queue.splice(t,1),n._destroy(),this.progress=this._getTotalProgress()},a.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},a.prototype.uploadItem=function(e){var t=this.getIndexOfItem(e),n=this.queue[t],i=this.isHTML5?"_xhrTransport":"_iframeTransport";n._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[i](n))},a.prototype.cancelItem=function(e){var t=this.getIndexOfItem(e),n=this.queue[t],i=this.isHTML5?"_xhr":"_form";n&&n.isUploading&&n[i].abort()},a.prototype.uploadAll=function(){var t=this.getNotUploadedItems().filter(function(e){return!e.isUploading});t.length&&(e.forEach(t,function(e){e._prepareToUploading()}),t[0].upload())},a.prototype.cancelAll=function(){var t=this.getNotUploadedItems();e.forEach(t,function(e){e.cancel()})},a.prototype.isFile=function(e){var t=r.File;return t&&e instanceof t},a.prototype.isFileLikeObject=function(e){return e instanceof a.FileLikeObject},a.prototype.isArrayLikeObject=function(t){return e.isObject(t)&&"length"in t},a.prototype.getIndexOfItem=function(t){return e.isNumber(t)?t:this.queue.indexOf(t)},a.prototype.getNotUploadedItems=function(){return this.queue.filter(function(e){return!e.isUploaded})},a.prototype.getReadyItems=function(){return this.queue.filter(function(e){return e.isReady&&!e.isUploading}).sort(function(e,t){return e.index-t.index})},a.prototype.destroy=function(){e.forEach(this._directives,function(t){e.forEach(this._directives[t],function(e){e.destroy()},this)},this)},a.prototype.onAfterAddingAll=function(e){},a.prototype.onAfterAddingFile=function(e){},a.prototype.onWhenAddingFileFailed=function(e,t,n){},a.prototype.onBeforeUploadItem=function(e){},a.prototype.onProgressItem=function(e,t){},a.prototype.onProgressAll=function(e){},a.prototype.onSuccessItem=function(e,t,n,i){},a.prototype.onErrorItem=function(e,t,n,i){},a.prototype.onCancelItem=function(e,t,n,i){},a.prototype.onCompleteItem=function(e,t,n,i){},a.prototype.onCompleteAll=function(){},a.prototype._getTotalProgress=function(e){if(this.removeAfterUpload)return e||0;var t=this.getNotUploadedItems().length,n=t?this.queue.length-t:this.queue.length,i=100/this.queue.length,r=(e||0)*i/100;return Math.round(n*i+r)},a.prototype._getFilters=function(t){if(e.isUndefined(t))return this.filters;if(e.isArray(t))return t;var n=t.match(/[^\s,]+/g);return this.filters.filter(function(e){return n.indexOf(e.name)!==-1},this)},a.prototype._render=function(){n.$$phase||n.$apply()},a.prototype._folderFilter=function(e){return!(!e.size&&!e.type)},a.prototype._queueLimitFilter=function(){return this.queue.length<this.queueLimit},a.prototype._isValidFile=function(e,t,n){return this._failFilterIndex=-1,!t.length||t.every(function(t){return this._failFilterIndex++,t.fn.call(this,e,n)},this)},a.prototype._isSuccessCode=function(e){return e>=200&&e<300||304===e},a.prototype._transformResponse=function(t){return e.forEach(i.defaults.transformResponse,function(e){t=e(t)}),t},a.prototype._parseHeaders=function(t){function n(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function i(e){return e.toLowerCase()}var r,o,a,l={};return t?(e.forEach(t.split("\n"),function(e){a=e.indexOf(":"),r=i(n(e.substr(0,a))),o=n(e.substr(a+1)),r&&(l[r]=l[r]?l[r]+", "+o:o)}),l):l},a.prototype._xhrTransport=function(t){var n=t._xhr=new XMLHttpRequest,i=new FormData,r=this;r._onBeforeUploadItem(t),e.forEach(t.formData,function(t){e.forEach(t,function(e,t){i.append(t,e)})}),i.append(t.alias,t._file,t.file.name),n.onload=function(){var e=r._parseHeaders(n.getAllResponseHeaders()),i=r._transformResponse(n.response),o=r._isSuccessCode(n.status)?"Success":"Error",a="_on"+o+"Item";r[a](t,i,n.status,e),r._onCompleteItem(t,i,n.status,e)},n.onerror=function(){var e=r._parseHeaders(n.getAllResponseHeaders()),i=r._transformResponse(n.response);r._onErrorItem(t,i,n.status,e),r._onCompleteItem(t,i,n.status,e)},n.onabort=function(){var e=r._parseHeaders(n.getAllResponseHeaders()),i=r._transformResponse(n.response);r._onCancelItem(t,i,n.status,e),r._onCompleteItem(t,i,n.status,e)},n.open(t.method,t.url,!0),n.withCredentials=t.withCredentials,e.forEach(t.headers,function(e,t){n.setRequestHeader(t,e)}),n.send(i),this._render()},a.prototype._iframeTransport=function(t){var n=e.element('<form style="display: none;" />'),i=e.element('<iframe name="iframeTransport'+Date.now()+'">'),r=t._input,o=this;t._form&&t._form.replaceWith(r),t._form=n,o._onBeforeUploadItem(t),r.prop("name",t.alias),e.forEach(t.formData,function(t){e.forEach(t,function(t,i){n.append(e.element('<input type="hidden" name="'+i+'" value="'+t+'" />'))})}),n.prop({action:t.url,method:"POST",target:i.prop("name"),enctype:"multipart/form-data",encoding:"multipart/form-data"}),i.bind("load",function(){try{var e=i[0].contentDocument.body.innerHTML}catch(e){}var n={response:e,status:200,dummy:!0},r=o._transformResponse(n.response),a={};o._onSuccessItem(t,r,n.status,a),o._onCompleteItem(t,r,n.status,a)}),n.abort=function(){var e,a={status:0,dummy:!0},l={};i.unbind("load").prop("src","javascript:false;"),n.replaceWith(r),o._onCancelItem(t,e,a.status,l),o._onCompleteItem(t,e,a.status,l)},r.after(n),n.append(r).append(i),n[0].submit(),this._render()},a.prototype._onWhenAddingFileFailed=function(e,t,n){this.onWhenAddingFileFailed(e,t,n)},a.prototype._onAfterAddingFile=function(e){this.onAfterAddingFile(e)},a.prototype._onAfterAddingAll=function(e){this.onAfterAddingAll(e)},a.prototype._onBeforeUploadItem=function(e){e._onBeforeUpload(),this.onBeforeUploadItem(e)},a.prototype._onProgressItem=function(e,t){var n=this._getTotalProgress(t);this.progress=n,e._onProgress(t),this.onProgressItem(e,t),this.onProgressAll(n),this._render()},a.prototype._onSuccessItem=function(e,t,n,i){e._onSuccess(t,n,i),this.onSuccessItem(e,t,n,i)},a.prototype._onErrorItem=function(e,t,n,i){e._onError(t,n,i),this.onErrorItem(e,t,n,i)},a.prototype._onCancelItem=function(e,t,n,i){e._onCancel(t,n,i),this.onCancelItem(e,t,n,i)},a.prototype._onCompleteItem=function(t,n,i,r){t._onComplete(n,i,r),this.onCompleteItem(t,n,i,r);var o=this.getReadyItems()[0];return this.isUploading=!1,e.isDefined(o)?void o.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),void this._render())},a.isFile=a.prototype.isFile,a.isFileLikeObject=a.prototype.isFileLikeObject,a.isArrayLikeObject=a.prototype.isArrayLikeObject,a.isHTML5=a.prototype.isHTML5,a.inherit=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.super_=t},a.FileLikeObject=l,a.FileItem=s,a.FileDirective=c,a.FileSelect=d,a.FileDrop=u,a.FileOver=p,l.prototype._createFromFakePath=function(e){this.lastModifiedDate=null,this.size=null,this.type="like/"+e.slice(e.lastIndexOf(".")+1).toLowerCase(),this.name=e.slice(e.lastIndexOf("/")+e.lastIndexOf("\\")+2)},l.prototype._createFromObject=function(t){this.lastModifiedDate=e.copy(t.lastModifiedDate),this.size=t.size,this.type=t.type,this.name=t.name},s.prototype.upload=function(){this.uploader.uploadItem(this)},s.prototype.cancel=function(){this.uploader.cancelItem(this)},s.prototype.remove=function(){this.uploader.removeFromQueue(this)},s.prototype.onBeforeUpload=function(){},s.prototype.onProgress=function(e){},s.prototype.onSuccess=function(e,t,n){},s.prototype.onError=function(e,t,n){},s.prototype.onCancel=function(e,t,n){},s.prototype.onComplete=function(e,t,n){},s.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},s.prototype._onProgress=function(e){this.progress=e,this.onProgress(e)},s.prototype._onSuccess=function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=null,this.onSuccess(e,t,n)},s.prototype._onError=function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=null,this.onError(e,t,n)},s.prototype._onCancel=function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=null,this.onCancel(e,t,n)},s.prototype._onComplete=function(e,t,n){this.onComplete(e,t,n),this.removeAfterUpload&&this.remove()},s.prototype._destroy=function(){this._input&&this._input.remove(),this._form&&this._form.remove(),delete this._form,delete this._input},s.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},s.prototype._replaceNode=function(e){var t=o(e.clone())(e.scope());t.prop("value",null),e.css("display","none"),e.after(t)},c.prototype.events={},c.prototype.bind=function(){for(var e in this.events){var t=this.events[e];this.element.bind(e,this[t])}},c.prototype.unbind=function(){for(var e in this.events)this.element.unbind(e,this.events[e])},c.prototype.destroy=function(){var e=this.uploader._directives[this.prop].indexOf(this);this.uploader._directives[this.prop].splice(e,1),this.unbind()},c.prototype._saveLinks=function(){for(var e in this.events){var t=this.events[e];this[t]=this[t].bind(this)}},a.inherit(d,c),d.prototype.events={$destroy:"destroy",change:"onChange"},d.prototype.prop="select",d.prototype.getOptions=function(){},d.prototype.getFilters=function(){},d.prototype.isEmptyAfterSelection=function(){return!!this.element.attr("multiple")},d.prototype.onChange=function(){var e=this.uploader.isHTML5?this.element[0].files:this.element[0],t=this.getOptions(),n=this.getFilters();this.uploader.isHTML5||this.destroy(),this.uploader.addToQueue(e,t,n),this.isEmptyAfterSelection()&&this.element.prop("value",null)},a.inherit(u,c),u.prototype.events={$destroy:"destroy",drop:"onDrop",dragover:"onDragOver",dragleave:"onDragLeave"},u.prototype.prop="drop",u.prototype.getOptions=function(){},u.prototype.getFilters=function(){},u.prototype.onDrop=function(t){var n=this._getTransfer(t);if(n){var i=this.getOptions(),r=this.getFilters();this._preventAndStop(t),e.forEach(this.uploader._directives.over,this._removeOverClass,this),this.uploader.addToQueue(n.files,i,r)}},u.prototype.onDragOver=function(t){var n=this._getTransfer(t);this._haveFiles(n.types)&&(n.dropEffect="copy",this._preventAndStop(t),e.forEach(this.uploader._directives.over,this._addOverClass,this))},u.prototype.onDragLeave=function(t){t.target===this.element[0]&&(this._preventAndStop(t),e.forEach(this.uploader._directives.over,this._removeOverClass,this))},u.prototype._getTransfer=function(e){return e.dataTransfer?e.dataTransfer:e.originalEvent.dataTransfer},u.prototype._preventAndStop=function(e){e.preventDefault(),e.stopPropagation()},u.prototype._haveFiles=function(e){return!!e&&(e.indexOf?e.indexOf("Files")!==-1:!!e.contains&&e.contains("Files"))},u.prototype._addOverClass=function(e){e.addOverClass()},u.prototype._removeOverClass=function(e){e.removeOverClass()},a.inherit(p,c),p.prototype.events={$destroy:"destroy"},p.prototype.prop="over",p.prototype.overClass="nv-file-over",p.prototype.addOverClass=function(){this.element.addClass(this.getOverClass())},p.prototype.removeOverClass=function(){this.element.removeClass(this.getOverClass())},p.prototype.getOverClass=function(){return this.overClass},a}]).directive("nvFileSelect",["$parse","FileUploader",function(e,t){return{link:function(n,i,r){var o=n.$eval(r.uploader);if(!(o instanceof t))throw new TypeError('"Uploader" must be an instance of FileUploader');var a=new t.FileSelect({uploader:o,element:i});a.getOptions=e(r.options).bind(a,n),a.getFilters=function(){return r.filters}}}}]).directive("nvFileDrop",["$parse","FileUploader",function(e,t){return{link:function(n,i,r){var o=n.$eval(r.uploader);if(!(o instanceof t))throw new TypeError('"Uploader" must be an instance of FileUploader');if(o.isHTML5){var a=new t.FileDrop({uploader:o,element:i});a.getOptions=e(r.options).bind(a,n),a.getFilters=function(){return r.filters}}}}}]).directive("nvFileOver",["FileUploader",function(e){return{link:function(t,n,i){var r=t.$eval(i.uploader);if(!(r instanceof e))throw new TypeError('"Uploader" must be an instance of FileUploader');var o=new e.FileOver({uploader:r,element:n});o.getOverClass=function(){return i.overClass||this.overClass}}}}]),t}),angular.module("app.upload",[]).directive("ngThumb",["$window",function(e){var t={support:!(!e.FileReader||!e.CanvasRenderingContext2D),isFile:function(t){return angular.isObject(t)&&t instanceof e.File},isImage:function(e){var t="|"+e.type.slice(e.type.lastIndexOf("/")+1)+"|";return"|jpg|png|jpeg|bmp|gif|".indexOf(t)!==-1}};return{restrict:"A",template:"<canvas/>",link:function(e,n,i){function r(e){var t=new Image;t.onload=o,t.src=e.target.result}function o(){var e=a.width||this.width/this.height*a.height,t=a.height||this.height/this.width*a.width;e>300&&(e=300,t=this.height/this.width*300),l.attr({width:e,height:t}),l[0].getContext("2d").drawImage(this,0,0,e,t)}if(t.support){var a=e.$eval(i.ngThumb);if(t.isFile(a.file)&&t.isImage(a.file)){var l=n.find("canvas"),s=new FileReader;s.onload=r,s.readAsDataURL(a.file)}}}}}]).directive("ngThumbnail",["$window",function(e){var t={support:!(!e.FileReader||!e.CanvasRenderingContext2D),isFile:function(t){return angular.isObject(t)&&t instanceof e.File},isImage:function(e){var t="|"+e.type.slice(e.type.lastIndexOf("/")+1)+"|";return"|jpg|png|jpeg|bmp|gif|".indexOf(t)!==-1}};return{restrict:"A",link:function(e,n,i){function r(e){s.onload=o,s.src=e.target.result}function o(){var e=a.width||this.width/this.height*a.height,t=a.height||this.height/this.width*a.width;e>300&&(e=300,t=this.height/this.width*300),$(s).attr({width:e,height:t}),n.append(s)}if(t.support){var a=e.$eval(i.ngThumbnail),l=new FileReader;l.onload=r,l.readAsDataURL(a.file);var s=new Image;s.id="uploadThumbnail"}}}}]),function(e){"use strict";e.fn.swipeSlide=function(t,n){function i(e,t){e.css({"-webkit-transition":"all "+t+"s "+k.transitionType,transition:"all "+t+"s "+k.transitionType})}function r(e,t){k.axisX?e.css({"-webkit-transform":"translate3d("+t+"px,0,0)",transform:"translate3d("+t+"px,0,0)"}):e.css({"-webkit-transform":"translate3d(0,"+t+"px,0)",transform:"translate3d(0,"+t+"px,0)"})}function o(e){if(k.lazyLoad){var t=k.ul.find("[data-src]");if(t.length>0){var n=t.eq(e);n.data("src")&&(n.is("img")?n.attr("src",n.data("src")).data("src",""):n.css({"background-image":"url("+n.data("src")+")"}).data("src",""))}}}function a(e){e.touches||(e.touches=e.originalEvent.touches)}function l(e){v=e.touches[0].pageX,b=e.touches[0].pageY}function s(e){if(e.preventDefault(),k.autoSwipe&&h&&clearInterval(h),x=e.touches[0].pageX,E=e.touches[0].pageY,w=x-v,y=E-b,i(k.ul,0),k.axisX){if(!k.continuousScroll){if(0==m&&w>0)return w=0,g();if(m+1>=I&&w<0)return w=0,g()}r(k.ul,-(D*parseInt(m)-w))}else{if(!k.continuousScroll){if(0==m&&y>0)return y=0,g();if(m+1>=I&&y<0)return y=0,g()}r(k.ul,-(A*parseInt(m)-y))}}function c(){C=k.axisX?w:y,Math.abs(C)<=S?d(.3):C>S?f():C<-S&&p(),g(),w=0,y=0}function d(e){i(k.ul,e),k.axisX?r(k.ul,-m*D):r(k.ul,-m*A)}function u(){k.continuousScroll?m>=I?(d(.3),m=0,setTimeout(function(){d(0)},300)):m<0?(d(.3),m=I-1,setTimeout(function(){d(0)},300)):d(.3):(m>=I?m=0:m<0&&(m=I-1),d(.3)),n(m)}function p(){m++,u(),k.lazyLoad&&o(k.continuousScroll?m+2:m+1)}function f(){if(m--,u(),T&&k.lazyLoad){var e=I-1;for(e;e<=I+1;e++)o(e);return void(T=!1)}!T&&k.lazyLoad&&o(m)}function g(){k.autoSwipe&&(h=setInterval(function(){p()},k.speed))}var h,m=0,v=0,b=0,w=0,y=0,C=0,x=0,E=0,S=50,$=0,T=!0,R=e(this),k=e.extend({},{ul:R.children("ul"),li:R.children().children("li"),continuousScroll:!1,autoSwipe:!0,speed:4e3,axisX:!0,transitionType:"ease",lazyLoad:!1,clone:!0,width:0,length:0},t||{}),D=k.width||k.li.width(),A=k.li.height(),I=k.length||k.li.length;n=n||function(){},function(){if(k.continuousScroll&&(k.clone&&k.ul.prepend(k.li.last().clone()).append(k.li.first().clone()),k.axisX?(r(k.ul.children().first(),D*-1),r(k.ul.children().last(),D*I)):(r(k.ul.children().first(),A*-1),r(k.ul.children().last(),A*I))),k.lazyLoad){var t=0;for($=k.continuousScroll?3:2,t;t<$;t++)o(t)}k.axisX?k.li.each(function(t){r(e(this),D*t)}):k.li.each(function(t){r(e(this),A*t)}),g(),n(m,h),R.on("touchstart",function(e){e.stopPropagation(),a(e),l(e)}),R.on("touchmove",function(e){e.stopPropagation(),a(e),s(e)}),R.on("touchend",function(e){e.stopPropagation(),c()})}()}}(window.Zepto||window.jQuery);