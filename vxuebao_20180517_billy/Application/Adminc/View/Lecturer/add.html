<include file="Public:head"/>
<link rel="stylesheet" type="text/css" href="__ROOT__/Public/media/css/datepicker.css" />
<link rel="stylesheet" href="__PUBLIC__/kindeditor4.1.11/themes/default/default.css" />
<style type="text/css">
    #J_imageView img{float:left;width:200px;margin-top:10px;}
    #J_imageView{padding-left:165px;}
</style>
</head>
<!-- END HEAD -->
<!-- BEGIN BODY -->
<body class="page-header-fixed">
    <!-- BEGIN HEADER -->
    <div class="container-fluid">
        <!-- BEGIN PAGE HEADER-->
        <div class="row-fluid">
            <div class="span12">
                <h4 class="page-title">
                    讲师管理
                    <small>   User management</small></h4>
                 <ul class="breadcrumb">
                    <li><i class="icon-home"></i><a href="index.html">首页</a> 
                        <i class="icon-angle-right"></i></li>
                    <li><a href="{:U('Lecturer/index')}">讲师管理</a><i class="icon-angle-right"></i></li>
                </ul>
                <!-- END PAGE TITLE & BREADCRUMB-->
            </div>
        </div>
        <!-- END PAGE HEADER-->
        <!-- BEGIN PAGE CONTENT-->
        <!-- END PAGE HEADER-->
        <div class="tabbable tabbable-custom tabbable-full-width">
            <ul class="nav nav-tabs">
                <li class="{$ui.lecturer}"> <a href="{:U('lecturer/index')}"> 讲师管理</a> </li>
                <li class="{$ui.add_lecturer}"> <a href="{:U('lecturer/add')}"> 添加讲师</a> </li>
            </ul>
            <hr>
        </div>
        <!-- BEGIN PAGE CONTENT-->          
        <div class="row-fluid">
            <div class="span12 ">
                <!-- BEGIN EXAMPLE TABLE PORTLET-->
                <div class="portlet-body">
                    <div class="portlet-body form">
                        <!-- BEGIN FORM-->
                        
                        <form action="" class="form-horizontal" method="post" enctype="multipart/form-data">
                            <div class="control-group">
                               <div class="controls">
                                    <div class="fileupload fileupload-new" data-provides="fileupload">
                                        <div class="fileupload-new thumbnail" >
                                            <img src="{$lecturer.photo|default='/Uploads/default_t.jpg'}"  class="thbnail"  style="max-height: 150px; line-height: 20px;">
                                        </div>
                                        <div class="fileupload-preview fileupload-exists thumbnail" style="max-height: 150px; line-height: 20px;"></div>
                                        <div>
                                            <span class="btn btn-file"><span class="fileupload-new">上传头像</span>
                                            <span class="fileupload-exists">改变</span>
                                            <input type="file" name="photo[]" value=""> </span>
                                            <a href="#" class="btn fileupload-exists" data-dismiss="fileupload">放弃</a>                                         
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="portlet-body form">
                                <!-- BEGIN FORM-->
                                <div class="control-group">
                                    <label class="control-label">讲师名</label>
                                    <div class="controls">
                                        <div class="input-icon left">
                                            <i class="icon-user"></i>
                                            <input name="lecturer[usname]" type="text"   class="m-wrapt"  value="{$lecturer.usname}" />
                                            <span class="help-inline"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">联系QQ</label>
                                    <div class="controls">
                                        <div class="input-icon left">
                                            <i class="icon-smile"></i>
                                            <input name="lecturer[qq]" type="text"   class="m-wrapt" value="{$lecturer.qq}" />
                                        </div>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">weixin</label>
                                    <div class="controls">
                                        <div class="input-icon left">
                                            <i class="icon-comments"></i>
                                            <input name="lecturer[weixin]" type="text"   class="m-wrapt" value="{$lecturer.weixin}" />
                                        </div>
                                    </div>
                                </div> 
                                <div class="control-group">
                                    <label class="control-label">电话号码</label>
                                    <div class="controls">
                                        <div class="input-icon left">
                                            <i class="icon-phone"></i>
                                            <input name="lecturer[phone]" type="text"   class="m-wrapt" value="{$lecturer.phone}" />
                                        </div>
                                    </div>
                                </div>  
                               <div class="control-group">
                                    <label class="control-label">登陆邮箱</label>
                                    <div class="controls">
                                        <div class="input-icon left">
                                            <i class="icon-envelope"></i>
                                            <input name="lecturer[email]" type="text"   class="m-wrapt" value="{$lecturer.email}" />
                                        </div>
                                    </div>
                                </div>


                                <div class="control-group">
                                    <label class="control-label">简短介绍</label>
                                    <div class="controls">
                                        <textarea name="lecturer[usjianjie]" rows="2" style="width:253px;"  placeholder="请输入讲师简介..." oninput="if(value.length>18) {value=value.slice(0,18);remaining.value=0;}else {remaining.value=18-value.length;}">{$lecturer.usjianjie}</textarea>（考虑排版问题，少于18个字）
                                    </div> 
                                </div>    
                               
                               <div class="control-group">
                                    <label class="control-label">标签</label>
                                    <div class="controls">
                                        <textarea name="lecturer[tags]" rows="2" style="width:253px;" placeholder="请输入讲师标签...">{$lecturer.tags}</textarea>（最多三个，且标签间以，号隔开）
                                    </div>
                               </div>

                                <div class="control-group">
                                    <label class="control-label">地区</label>
                                    <div class="controls">
                                        <select name="lecturer[area]">
                                            <foreach name="area" key="key" item="value">
                                                <if condition="($key gt 0)">
                                                    <option value="{$key}" <eq name="lecturer['area']" value="$key">selected</eq>>{$value}</option>
                                                </if>
                                            </foreach>
                                        </select>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">课程</label>
                                    <div class="controls">
                                        <input type="text" name="lecturer[class]" value="{$lecturer.class}" />
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">会员</label>
                                    <div class="controls">
                                        <input type="text" name="lecturer[huiyuan]" value="{$lecturer.huiyuan}" />(实例：广东省培训协会会员)
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">隶属机构</label>
                                    <div class="controls">
                                        <input type="text" name="lecturer[jigou]" value="{$lecturer.jigou}" />
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">专业背景</label>
                                    <div class="controls">
                                        <textarea name="lecturer[beijin]" id="area" rows="5" style="width:700px;">{$lecturer.beijin}</textarea>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">主讲课程</label>
                                    <div class="controls">
                                        <textarea name="lecturer[kecheng]" id="area2" rows="5" style="width:700px;">{$lecturer.kecheng}</textarea>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">授课特点</label>
                                    <div class="controls">
                                        <textarea name="lecturer[tedian]" id="area3" rows="5" style="width:700px;">{$lecturer.tedian}</textarea>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">服务客户</label>
                                    <div class="controls">
                                        <textarea name="lecturer[fuwu]" id="area4" rows="5" style="width:700px;">{$lecturer.fuwu}</textarea>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">课程展示</label>
                                    <div class="controls">
                                        <textarea name="lecturer[zanshi]" id="area5" rows="5" style="width:700px;">{$lecturer.zanshi}</textarea>
                                    </div>
                                </div>
                                
                                <label class="control-label">照片墙</label>
                                        <div style="padding-left:160px;">
                                        <if condition="($lecturer.picture neq '')">
                                         <foreach name="lecturer['picture']" key="key" item="value">
                                         <div class="control-group" style="float:left;">
                                            <div class="controls" style="margin-left:20px;" >
                                                    <div class="fileupload fileupload-new" data-provides="fileupload">
                                                       <div class="fileupload-new thumbnail" >
                                                        <img src="{$value|default='/default_t.jpg'}"  class="thbnail"  style="max-height: 150px; line-height: 20px;">
                                                        </div>
                                                        <div class="fileupload-preview fileupload-exists thumbnail" style="max-height: 150px; line-height: 20px;"></div>
                                                        <div>
                                                            <span class="btn btn-file"><span class="fileupload-new">上传照片</span>
                                                            <span class="fileupload-exists">改变</span>
                                                            <input type="file" name="photo[]" value=""> </span>
                                                            <a href="#" class="btn fileupload-exists" data-dismiss="fileupload">放弃</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            </foreach>
                                        </if>
                                        <div style="clear:both;"></div>
                                        <div class="control-group" style="float:left;margin-left:-160px;">
                                            <div class="controls">
                                                <input type="button" id="J_selectImage" value="批量上传" />
                                                <div style="clear:both"></div>
                                            </div>
                                            <div id="J_imageView"></div>
                                        </div>
                                    
                                    </div>
                                </div>
                                <div style="clear:both;"></div>
                                <div class="control-group">
                                    <label class="control-label">名师推荐</label>
                                    <div class="controls">
                                       <input name="lecturer[recommend]" type="radio" value="1" <eq name="lecturer['recommend']" value="1">checked="checked" </eq> />是
                                       <input name="lecturer[recommend]" type="radio" value="0" <eq name="lecturer['recommend']" value="0">checked="checked" </eq> />否
                                    </div>
                                </div>
                                <div class="form-actions">
                                    <input type="hidden"  name="id" value="{$lecturer.id}" />
                                    <button type="submit" class="btn blue">确定提交</button>
                                    <button type="button" class="btn">放弃</button>                            
                                </div>
                        </form>
                        <!-- END FORM-->       
                    </div>
                </div>
                <!-- END SAMPLE FORM PORTLET-->
            </div>
        </div>
        <!-- END EXTRAS PORTLET-->
    </div>
    <!-- END PAGE CONTENT--><!-- END PAGE CONTAINER-->
</div>
</div>
<!-- END CONTAINER -->
<div class="footer">
    <div class="footer-inner">2015 ©</div>
    <div class="footer-tools">
        <span class="go-top">
            <i class="icon-angle-up"></i>
        </span>
    </div>
</div>
<!-- END FOOTER -->
<!-- BEGIN JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->
<!-- BEGIN CORE PLUGINS -->
<script src="__ROOT__/Public/media/js/jquery-1.10.1.min.js" type="text/javascript"></script>
<script src="__ROOT__/Public/media/js/jquery-migrate-1.2.1.min.js" type="text/javascript"></script>
<!-- IMPORTANT! Load jquery-ui-1.10.1.custom.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip -->
<script src="__ROOT__/Public/media/js/jquery-ui-1.10.1.custom.min.js" type="text/javascript"></script>      
<script src="__ROOT__/Public/media/js/bootstrap.min.js" type="text/javascript"></script>
<!--[if lt IE 9]>
<script src="__ROOT__/Public/media/js/excanvas.min.js"></script>
<script src="__ROOT__/Public/media/js/respond.min.js"></script>  
<![endif]-->   
<script src="__ROOT__/Public/media/js/jquery.slimscroll.min.js" type="text/javascript"></script>
<script src="__ROOT__/Public/media/js/jquery.blockui.min.js" type="text/javascript"></script>  
<script src="__ROOT__/Public/media/js/jquery.cookie.min.js" type="text/javascript"></script>
<script src="__ROOT__/Public/media/js/jquery.uniform.min.js" type="text/javascript" ></script>
<!-- END CORE PLUGINS -->
<!-- BEGIN PAGE LEVEL PLUGINS -->
<script type="text/javascript" src="__ROOT__/Public/media/js/ckeditor.js"></script>  
<script type="text/javascript" src="__ROOT__/Public/media/js/bootstrap-fileupload.js"></script>
<script type="text/javascript" src="__ROOT__/Public/media/js/chosen.jquery.min.js"></script>
<script type="text/javascript" src="__ROOT__/Public/media/js/select2.min.js"></script>
<script type="text/javascript" src="__ROOT__/Public/media/js/wysihtml5-0.3.0.js"></script> 
<script type="text/javascript" src="__ROOT__/Public/media/js/bootstrap-wysihtml5.js"></script>
<script type="text/javascript" src="__ROOT__/Public/media/js/jquery.tagsinput.min.js"></script>
<script type="text/javascript" src="__ROOT__/Public/media/js/jquery.toggle.buttons.js"></script>
<script type="text/javascript" src="__ROOT__/Public/media/js/bootstrap-datepicker.js"></script>
<script type="text/javascript" src="__ROOT__/Public/media/js/bootstrap-datetimepicker.js"></script>
<script type="text/javascript" src="__ROOT__/Public/media/js/clockface.js"></script>
<script type="text/javascript" src="__ROOT__/Public/media/js/date.js"></script>
<script type="text/javascript" src="__ROOT__/Public/media/js/daterangepicker.js"></script> 
<script type="text/javascript" src="__ROOT__/Public/media/js/bootstrap-colorpicker.js"></script>  
<script type="text/javascript" src="__ROOT__/Public/media/js/bootstrap-timepicker.js"></script>
<script type="text/javascript" src="__ROOT__/Public/media/js/jquery.inputmask.bundle.min.js"></script>   
<script type="text/javascript" src="__ROOT__/Public/media/js/jquery.input-ip-address-control-1.0.min.js"></script>
<script type="text/javascript" src="__ROOT__/Public/media/js/jquery.multi-select.js"></script>   
<script src="__ROOT__/Public/media/js/bootstrap-modal.js" type="text/javascript" ></script>
<script src="__ROOT__/Public/media/js/bootstrap-modalmanager.js" type="text/javascript" ></script> 
<!-- END PAGE LEVEL PLUGINS -->
<!-- BEGIN PAGE LEVEL SCRIPTS -->
<script src="__ROOT__/Public/media/js/app.js"></script>
<script src="__ROOT__/Public/media/js/form-components.js"></script>     
<!-- END PAGE LEVEL SCRIPTS -->
<script>
    jQuery(document).ready(function () {
        // initiate layout and plugins
        App.init();
        FormComponents.init();
    });
</script>
<!-- END JAVASCRIPTS -->   
<script src="__ROOT__/Public/media/js/nicEdit.js"></script>
<script type="text/javascript">
    bkLib.onDomLoaded(function() { new nicEditor({fullPanel : true}).panelInstance('area').panelInstance('area2').panelInstance('area3').panelInstance('area4').panelInstance('area5'); });
</script>

<script src="__PUBLIC__/kindeditor4.1.11/kindeditor.js"></script>
<script src="__PUBLIC__/kindeditor4.1.11/lang/zh-CN.js"></script>
<script>
KindEditor.ready(function(K) {
    var editor = K.editor({
        uploadJson : '/adminc.php?c=lecturer&a=uploads',
        allowFileManager : true
    });
    K('#J_selectImage').click(function() {
        editor.loadPlugin('multiimage', function() {
            editor.plugin.multiImageDialog({
                clickFn : function(urlList) {
                    var div = K('#J_imageView');
                    K.each(urlList, function(i, data) {
                        console.log(data);
                        div.append('<div style="height:0;"><img src="' + data.url + '"><br><input name="picture[]" type="hidden" value="'+data.url+'" /></div>');
                    });
                    div.append('<div style="clear:both"></div>');
                    editor.hideDialog();
                }
            });
        });
    });
});
</script>
</body>
<!-- END BODY -->
</html>